var F=Object.defineProperty;var N=(t,e,r)=>e in t?F(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var l=(t,e,r)=>N(t,typeof e!="symbol"?e+"":e,r);import{a as L}from"./axios-CCb-kr4I.js";var _=function(){function t(e,r,n){this.eventTarget=e,this.eventName=r,this.eventOptions=n,this.unorderedBindings=new Set}return t.prototype.connect=function(){this.eventTarget.addEventListener(this.eventName,this,this.eventOptions)},t.prototype.disconnect=function(){this.eventTarget.removeEventListener(this.eventName,this,this.eventOptions)},t.prototype.bindingConnected=function(e){this.unorderedBindings.add(e)},t.prototype.bindingDisconnected=function(e){this.unorderedBindings.delete(e)},t.prototype.handleEvent=function(e){for(var r=V(e),n=0,i=this.bindings;n<i.length;n++){var o=i[n];if(r.immediatePropagationStopped)break;o.handleEvent(r)}},Object.defineProperty(t.prototype,"bindings",{get:function(){return Array.from(this.unorderedBindings).sort(function(e,r){var n=e.index,i=r.index;return n<i?-1:n>i?1:0})},enumerable:!1,configurable:!0}),t}();function V(t){if("immediatePropagationStopped"in t)return t;var e=t.stopImmediatePropagation;return Object.assign(t,{immediatePropagationStopped:!1,stopImmediatePropagation:function(){this.immediatePropagationStopped=!0,e.call(this)}})}var D=function(){function t(e){this.application=e,this.eventListenerMaps=new Map,this.started=!1}return t.prototype.start=function(){this.started||(this.started=!0,this.eventListeners.forEach(function(e){return e.connect()}))},t.prototype.stop=function(){this.started&&(this.started=!1,this.eventListeners.forEach(function(e){return e.disconnect()}))},Object.defineProperty(t.prototype,"eventListeners",{get:function(){return Array.from(this.eventListenerMaps.values()).reduce(function(e,r){return e.concat(Array.from(r.values()))},[])},enumerable:!1,configurable:!0}),t.prototype.bindingConnected=function(e){this.fetchEventListenerForBinding(e).bindingConnected(e)},t.prototype.bindingDisconnected=function(e){this.fetchEventListenerForBinding(e).bindingDisconnected(e)},t.prototype.handleError=function(e,r,n){n===void 0&&(n={}),this.application.handleError(e,"Error "+r,n)},t.prototype.fetchEventListenerForBinding=function(e){var r=e.eventTarget,n=e.eventName,i=e.eventOptions;return this.fetchEventListener(r,n,i)},t.prototype.fetchEventListener=function(e,r,n){var i=this.fetchEventListenerMapForEventTarget(e),o=this.cacheKey(r,n),s=i.get(o);return s||(s=this.createEventListener(e,r,n),i.set(o,s)),s},t.prototype.createEventListener=function(e,r,n){var i=new _(e,r,n);return this.started&&i.connect(),i},t.prototype.fetchEventListenerMapForEventTarget=function(e){var r=this.eventListenerMaps.get(e);return r||(r=new Map,this.eventListenerMaps.set(e,r)),r},t.prototype.cacheKey=function(e,r){var n=[e];return Object.keys(r).sort().forEach(function(i){n.push((r[i]?"":"!")+i)}),n.join(":")},t}(),K=/^((.+?)(@(window|document))?->)?(.+?)(#([^:]+?))(:(.+))?$/;function I(t){var e=t.trim(),r=e.match(K)||[];return{eventTarget:R(r[4]),eventName:r[2],eventOptions:r[9]?U(r[9]):{},identifier:r[5],methodName:r[7]}}function R(t){if(t=="window")return window;if(t=="document")return document}function U(t){return t.split(":").reduce(function(e,r){var n;return Object.assign(e,(n={},n[r.replace(/^!/,"")]=!/^!/.test(r),n))},{})}function z(t){if(t==window)return"window";if(t==document)return"document"}var W=function(){function t(e,r,n){this.element=e,this.index=r,this.eventTarget=n.eventTarget||e,this.eventName=n.eventName||q(e)||h("missing event name"),this.eventOptions=n.eventOptions||{},this.identifier=n.identifier||h("missing identifier"),this.methodName=n.methodName||h("missing method name")}return t.forToken=function(e){return new this(e.element,e.index,I(e.content))},t.prototype.toString=function(){var e=this.eventTargetName?"@"+this.eventTargetName:"";return""+this.eventName+e+"->"+this.identifier+"#"+this.methodName},Object.defineProperty(t.prototype,"eventTargetName",{get:function(){return z(this.eventTarget)},enumerable:!1,configurable:!0}),t}(),O={a:function(t){return"click"},button:function(t){return"click"},form:function(t){return"submit"},input:function(t){return t.getAttribute("type")=="submit"?"click":"input"},select:function(t){return"change"},textarea:function(t){return"input"}};function q(t){var e=t.tagName.toLowerCase();if(e in O)return O[e](t)}function h(t){throw new Error(t)}var $=function(){function t(e,r){this.context=e,this.action=r}return Object.defineProperty(t.prototype,"index",{get:function(){return this.action.index},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"eventTarget",{get:function(){return this.action.eventTarget},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"eventOptions",{get:function(){return this.action.eventOptions},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{get:function(){return this.context.identifier},enumerable:!1,configurable:!0}),t.prototype.handleEvent=function(e){this.willBeInvokedByEvent(e)&&this.invokeWithEvent(e)},Object.defineProperty(t.prototype,"eventName",{get:function(){return this.action.eventName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"method",{get:function(){var e=this.controller[this.methodName];if(typeof e=="function")return e;throw new Error('Action "'+this.action+'" references undefined method "'+this.methodName+'"')},enumerable:!1,configurable:!0}),t.prototype.invokeWithEvent=function(e){try{this.method.call(this.controller,e)}catch(c){var r=this,n=r.identifier,i=r.controller,o=r.element,s=r.index,u={identifier:n,controller:i,element:o,index:s,event:e};this.context.handleError(c,'invoking action "'+this.action+'"',u)}},t.prototype.willBeInvokedByEvent=function(e){var r=e.target;return this.element===r?!0:r instanceof Element&&this.element.contains(r)?this.scope.containsElement(r):this.scope.containsElement(this.action.element)},Object.defineProperty(t.prototype,"controller",{get:function(){return this.context.controller},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"methodName",{get:function(){return this.action.methodName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this.scope.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scope",{get:function(){return this.context.scope},enumerable:!1,configurable:!0}),t}(),G=function(){function t(e,r){var n=this;this.element=e,this.started=!1,this.delegate=r,this.elements=new Set,this.mutationObserver=new MutationObserver(function(i){return n.processMutations(i)})}return t.prototype.start=function(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,childList:!0,subtree:!0}),this.refresh())},t.prototype.stop=function(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)},t.prototype.refresh=function(){if(this.started){for(var e=new Set(this.matchElementsInTree()),r=0,n=Array.from(this.elements);r<n.length;r++){var i=n[r];e.has(i)||this.removeElement(i)}for(var o=0,s=Array.from(e);o<s.length;o++){var i=s[o];this.addElement(i)}}},t.prototype.processMutations=function(e){if(this.started)for(var r=0,n=e;r<n.length;r++){var i=n[r];this.processMutation(i)}},t.prototype.processMutation=function(e){e.type=="attributes"?this.processAttributeChange(e.target,e.attributeName):e.type=="childList"&&(this.processRemovedNodes(e.removedNodes),this.processAddedNodes(e.addedNodes))},t.prototype.processAttributeChange=function(e,r){var n=e;this.elements.has(n)?this.delegate.elementAttributeChanged&&this.matchElement(n)?this.delegate.elementAttributeChanged(n,r):this.removeElement(n):this.matchElement(n)&&this.addElement(n)},t.prototype.processRemovedNodes=function(e){for(var r=0,n=Array.from(e);r<n.length;r++){var i=n[r],o=this.elementFromNode(i);o&&this.processTree(o,this.removeElement)}},t.prototype.processAddedNodes=function(e){for(var r=0,n=Array.from(e);r<n.length;r++){var i=n[r],o=this.elementFromNode(i);o&&this.elementIsActive(o)&&this.processTree(o,this.addElement)}},t.prototype.matchElement=function(e){return this.delegate.matchElement(e)},t.prototype.matchElementsInTree=function(e){return e===void 0&&(e=this.element),this.delegate.matchElementsInTree(e)},t.prototype.processTree=function(e,r){for(var n=0,i=this.matchElementsInTree(e);n<i.length;n++){var o=i[n];r.call(this,o)}},t.prototype.elementFromNode=function(e){if(e.nodeType==Node.ELEMENT_NODE)return e},t.prototype.elementIsActive=function(e){return e.isConnected!=this.element.isConnected?!1:this.element.contains(e)},t.prototype.addElement=function(e){this.elements.has(e)||this.elementIsActive(e)&&(this.elements.add(e),this.delegate.elementMatched&&this.delegate.elementMatched(e))},t.prototype.removeElement=function(e){this.elements.has(e)&&(this.elements.delete(e),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(e))},t}(),J=function(){function t(e,r,n){this.attributeName=r,this.delegate=n,this.elementObserver=new G(e,this)}return Object.defineProperty(t.prototype,"element",{get:function(){return this.elementObserver.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selector",{get:function(){return"["+this.attributeName+"]"},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.elementObserver.start()},t.prototype.stop=function(){this.elementObserver.stop()},t.prototype.refresh=function(){this.elementObserver.refresh()},Object.defineProperty(t.prototype,"started",{get:function(){return this.elementObserver.started},enumerable:!1,configurable:!0}),t.prototype.matchElement=function(e){return e.hasAttribute(this.attributeName)},t.prototype.matchElementsInTree=function(e){var r=this.matchElement(e)?[e]:[],n=Array.from(e.querySelectorAll(this.selector));return r.concat(n)},t.prototype.elementMatched=function(e){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(e,this.attributeName)},t.prototype.elementUnmatched=function(e){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(e,this.attributeName)},t.prototype.elementAttributeChanged=function(e,r){this.delegate.elementAttributeValueChanged&&this.attributeName==r&&this.delegate.elementAttributeValueChanged(e,r)},t}(),X=function(){function t(e,r){var n=this;this.element=e,this.delegate=r,this.started=!1,this.stringMap=new Map,this.mutationObserver=new MutationObserver(function(i){return n.processMutations(i)})}return t.prototype.start=function(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0}),this.refresh())},t.prototype.stop=function(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)},t.prototype.refresh=function(){if(this.started)for(var e=0,r=this.knownAttributeNames;e<r.length;e++){var n=r[e];this.refreshAttribute(n)}},t.prototype.processMutations=function(e){if(this.started)for(var r=0,n=e;r<n.length;r++){var i=n[r];this.processMutation(i)}},t.prototype.processMutation=function(e){var r=e.attributeName;r&&this.refreshAttribute(r)},t.prototype.refreshAttribute=function(e){var r=this.delegate.getStringMapKeyForAttribute(e);if(r!=null){this.stringMap.has(e)||this.stringMapKeyAdded(r,e);var n=this.element.getAttribute(e);this.stringMap.get(e)!=n&&this.stringMapValueChanged(n,r),n==null?(this.stringMap.delete(e),this.stringMapKeyRemoved(r,e)):this.stringMap.set(e,n)}},t.prototype.stringMapKeyAdded=function(e,r){this.delegate.stringMapKeyAdded&&this.delegate.stringMapKeyAdded(e,r)},t.prototype.stringMapValueChanged=function(e,r){this.delegate.stringMapValueChanged&&this.delegate.stringMapValueChanged(e,r)},t.prototype.stringMapKeyRemoved=function(e,r){this.delegate.stringMapKeyRemoved&&this.delegate.stringMapKeyRemoved(e,r)},Object.defineProperty(t.prototype,"knownAttributeNames",{get:function(){return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentAttributeNames",{get:function(){return Array.from(this.element.attributes).map(function(e){return e.name})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"recordedAttributeNames",{get:function(){return Array.from(this.stringMap.keys())},enumerable:!1,configurable:!0}),t}();function j(t,e,r){T(t,e).add(r)}function M(t,e,r){T(t,e).delete(r),H(t,e)}function T(t,e){var r=t.get(e);return r||(r=new Set,t.set(e,r)),r}function H(t,e){var r=t.get(e);r!=null&&r.size==0&&t.delete(e)}var y=function(){function t(){this.valuesByKey=new Map}return Object.defineProperty(t.prototype,"values",{get:function(){var e=Array.from(this.valuesByKey.values());return e.reduce(function(r,n){return r.concat(Array.from(n))},[])},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){var e=Array.from(this.valuesByKey.values());return e.reduce(function(r,n){return r+n.size},0)},enumerable:!1,configurable:!0}),t.prototype.add=function(e,r){j(this.valuesByKey,e,r)},t.prototype.delete=function(e,r){M(this.valuesByKey,e,r)},t.prototype.has=function(e,r){var n=this.valuesByKey.get(e);return n!=null&&n.has(r)},t.prototype.hasKey=function(e){return this.valuesByKey.has(e)},t.prototype.hasValue=function(e){var r=Array.from(this.valuesByKey.values());return r.some(function(n){return n.has(e)})},t.prototype.getValuesForKey=function(e){var r=this.valuesByKey.get(e);return r?Array.from(r):[]},t.prototype.getKeysForValue=function(e){return Array.from(this.valuesByKey).filter(function(r){r[0];var n=r[1];return n.has(e)}).map(function(r){var n=r[0];return r[1],n})},t}(),Z=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){Z(e,t);function e(){var r=t.call(this)||this;return r.keysByValue=new Map,r}return Object.defineProperty(e.prototype,"values",{get:function(){return Array.from(this.keysByValue.keys())},enumerable:!1,configurable:!0}),e.prototype.add=function(r,n){t.prototype.add.call(this,r,n),j(this.keysByValue,n,r)},e.prototype.delete=function(r,n){t.prototype.delete.call(this,r,n),M(this.keysByValue,n,r)},e.prototype.hasValue=function(r){return this.keysByValue.has(r)},e.prototype.getKeysForValue=function(r){var n=this.keysByValue.get(r);return n?Array.from(n):[]},e})(y);var Q=function(){function t(e,r,n){this.attributeObserver=new J(e,r,this),this.delegate=n,this.tokensByElement=new y}return Object.defineProperty(t.prototype,"started",{get:function(){return this.attributeObserver.started},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.attributeObserver.start()},t.prototype.stop=function(){this.attributeObserver.stop()},t.prototype.refresh=function(){this.attributeObserver.refresh()},Object.defineProperty(t.prototype,"element",{get:function(){return this.attributeObserver.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributeName",{get:function(){return this.attributeObserver.attributeName},enumerable:!1,configurable:!0}),t.prototype.elementMatchedAttribute=function(e){this.tokensMatched(this.readTokensForElement(e))},t.prototype.elementAttributeValueChanged=function(e){var r=this.refreshTokensForElement(e),n=r[0],i=r[1];this.tokensUnmatched(n),this.tokensMatched(i)},t.prototype.elementUnmatchedAttribute=function(e){this.tokensUnmatched(this.tokensByElement.getValuesForKey(e))},t.prototype.tokensMatched=function(e){var r=this;e.forEach(function(n){return r.tokenMatched(n)})},t.prototype.tokensUnmatched=function(e){var r=this;e.forEach(function(n){return r.tokenUnmatched(n)})},t.prototype.tokenMatched=function(e){this.delegate.tokenMatched(e),this.tokensByElement.add(e.element,e)},t.prototype.tokenUnmatched=function(e){this.delegate.tokenUnmatched(e),this.tokensByElement.delete(e.element,e)},t.prototype.refreshTokensForElement=function(e){var r=this.tokensByElement.getValuesForKey(e),n=this.readTokensForElement(e),i=ee(r,n).findIndex(function(o){var s=o[0],u=o[1];return!te(s,u)});return i==-1?[[],[]]:[r.slice(i),n.slice(i)]},t.prototype.readTokensForElement=function(e){var r=this.attributeName,n=e.getAttribute(r)||"";return Y(n,e,r)},t}();function Y(t,e,r){return t.trim().split(/\s+/).filter(function(n){return n.length}).map(function(n,i){return{element:e,attributeName:r,content:n,index:i}})}function ee(t,e){var r=Math.max(t.length,e.length);return Array.from({length:r},function(n,i){return[t[i],e[i]]})}function te(t,e){return t&&e&&t.index==e.index&&t.content==e.content}var P=function(){function t(e,r,n){this.tokenListObserver=new Q(e,r,this),this.delegate=n,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}return Object.defineProperty(t.prototype,"started",{get:function(){return this.tokenListObserver.started},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.tokenListObserver.start()},t.prototype.stop=function(){this.tokenListObserver.stop()},t.prototype.refresh=function(){this.tokenListObserver.refresh()},Object.defineProperty(t.prototype,"element",{get:function(){return this.tokenListObserver.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributeName",{get:function(){return this.tokenListObserver.attributeName},enumerable:!1,configurable:!0}),t.prototype.tokenMatched=function(e){var r=e.element,n=this.fetchParseResultForToken(e).value;n&&(this.fetchValuesByTokenForElement(r).set(e,n),this.delegate.elementMatchedValue(r,n))},t.prototype.tokenUnmatched=function(e){var r=e.element,n=this.fetchParseResultForToken(e).value;n&&(this.fetchValuesByTokenForElement(r).delete(e),this.delegate.elementUnmatchedValue(r,n))},t.prototype.fetchParseResultForToken=function(e){var r=this.parseResultsByToken.get(e);return r||(r=this.parseToken(e),this.parseResultsByToken.set(e,r)),r},t.prototype.fetchValuesByTokenForElement=function(e){var r=this.valuesByTokenByElement.get(e);return r||(r=new Map,this.valuesByTokenByElement.set(e,r)),r},t.prototype.parseToken=function(e){try{var r=this.delegate.parseValueForToken(e);return{value:r}}catch(n){return{error:n}}},t}(),re=function(){function t(e,r){this.context=e,this.delegate=r,this.bindingsByAction=new Map}return t.prototype.start=function(){this.valueListObserver||(this.valueListObserver=new P(this.element,this.actionAttribute,this),this.valueListObserver.start())},t.prototype.stop=function(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())},Object.defineProperty(t.prototype,"element",{get:function(){return this.context.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{get:function(){return this.context.identifier},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"actionAttribute",{get:function(){return this.schema.actionAttribute},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return this.context.schema},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bindings",{get:function(){return Array.from(this.bindingsByAction.values())},enumerable:!1,configurable:!0}),t.prototype.connectAction=function(e){var r=new $(this.context,e);this.bindingsByAction.set(e,r),this.delegate.bindingConnected(r)},t.prototype.disconnectAction=function(e){var r=this.bindingsByAction.get(e);r&&(this.bindingsByAction.delete(e),this.delegate.bindingDisconnected(r))},t.prototype.disconnectAllActions=function(){var e=this;this.bindings.forEach(function(r){return e.delegate.bindingDisconnected(r)}),this.bindingsByAction.clear()},t.prototype.parseValueForToken=function(e){var r=W.forToken(e);if(r.identifier==this.identifier)return r},t.prototype.elementMatchedValue=function(e,r){this.connectAction(r)},t.prototype.elementUnmatchedValue=function(e,r){this.disconnectAction(r)},t}(),ne=function(){function t(e,r){this.context=e,this.receiver=r,this.stringMapObserver=new X(this.element,this),this.valueDescriptorMap=this.controller.valueDescriptorMap,this.invokeChangedCallbacksForDefaultValues()}return t.prototype.start=function(){this.stringMapObserver.start()},t.prototype.stop=function(){this.stringMapObserver.stop()},Object.defineProperty(t.prototype,"element",{get:function(){return this.context.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"controller",{get:function(){return this.context.controller},enumerable:!1,configurable:!0}),t.prototype.getStringMapKeyForAttribute=function(e){if(e in this.valueDescriptorMap)return this.valueDescriptorMap[e].name},t.prototype.stringMapValueChanged=function(e,r){this.invokeChangedCallbackForValue(r)},t.prototype.invokeChangedCallbacksForDefaultValues=function(){for(var e=0,r=this.valueDescriptors;e<r.length;e++){var n=r[e],i=n.key,o=n.name,s=n.defaultValue;s!=null&&!this.controller.data.has(i)&&this.invokeChangedCallbackForValue(o)}},t.prototype.invokeChangedCallbackForValue=function(e){var r=e+"Changed",n=this.receiver[r];if(typeof n=="function"){var i=this.receiver[e];n.call(this.receiver,i)}},Object.defineProperty(t.prototype,"valueDescriptors",{get:function(){var e=this.valueDescriptorMap;return Object.keys(e).map(function(r){return e[r]})},enumerable:!1,configurable:!0}),t}(),ie=function(){function t(e,r){this.module=e,this.scope=r,this.controller=new e.controllerConstructor(this),this.bindingObserver=new re(this,this.dispatcher),this.valueObserver=new ne(this,this.controller);try{this.controller.initialize()}catch(n){this.handleError(n,"initializing controller")}}return t.prototype.connect=function(){this.bindingObserver.start(),this.valueObserver.start();try{this.controller.connect()}catch(e){this.handleError(e,"connecting controller")}},t.prototype.disconnect=function(){try{this.controller.disconnect()}catch(e){this.handleError(e,"disconnecting controller")}this.valueObserver.stop(),this.bindingObserver.stop()},Object.defineProperty(t.prototype,"application",{get:function(){return this.module.application},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{get:function(){return this.module.identifier},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return this.application.schema},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dispatcher",{get:function(){return this.application.dispatcher},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this.scope.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parentElement",{get:function(){return this.element.parentElement},enumerable:!1,configurable:!0}),t.prototype.handleError=function(e,r,n){n===void 0&&(n={});var i=this,o=i.identifier,s=i.controller,u=i.element;n=Object.assign({identifier:o,controller:s,element:u},n),this.application.handleError(e,"Error "+r,n)},t}();function m(t,e){var r=B(t);return Array.from(r.reduce(function(n,i){return se(i,e).forEach(function(o){return n.add(o)}),n},new Set))}function oe(t,e){var r=B(t);return r.reduce(function(n,i){return n.push.apply(n,ae(i,e)),n},[])}function B(t){for(var e=[];t;)e.push(t),t=Object.getPrototypeOf(t);return e.reverse()}function se(t,e){var r=t[e];return Array.isArray(r)?r:[]}function ae(t,e){var r=t[e];return r?Object.keys(r).map(function(n){return[n,r[n]]}):[]}var ue=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ce=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var o=arguments[e],s=0,u=o.length;s<u;s++,i++)n[i]=o[s];return n};function fe(t){return le(t,pe(t))}function le(t,e){var r=ye(t),n=he(t.prototype,e);return Object.defineProperties(r.prototype,n),r}function pe(t){var e=m(t,"blessings");return e.reduce(function(r,n){var i=n(t);for(var o in i){var s=r[o]||{};r[o]=Object.assign(s,i[o])}return r},{})}function he(t,e){return ge(e).reduce(function(r,n){var i,o=de(t,e,n);return o&&Object.assign(r,(i={},i[n]=o,i)),r},{})}function de(t,e,r){var n=Object.getOwnPropertyDescriptor(t,r),i=n&&"value"in n;if(!i){var o=Object.getOwnPropertyDescriptor(e,r).value;return n&&(o.get=n.get||o.get,o.set=n.set||o.set),o}}var ge=function(){return typeof Object.getOwnPropertySymbols=="function"?function(t){return ce(Object.getOwnPropertyNames(t),Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames}(),ye=function(){function t(r){function n(){var i=this&&this instanceof n?this.constructor:void 0;return Reflect.construct(r,arguments,i)}return n.prototype=Object.create(r.prototype,{constructor:{value:n}}),Reflect.setPrototypeOf(n,r),n}function e(){var r=function(){this.a.call(this)},n=t(r);return n.prototype.a=function(){},new n}try{return e(),t}catch{return function(n){return function(i){ue(o,i);function o(){return i!==null&&i.apply(this,arguments)||this}return o}(n)}}}();function me(t){return{identifier:t.identifier,controllerConstructor:fe(t.controllerConstructor)}}var ve=function(){function t(e,r){this.application=e,this.definition=me(r),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}return Object.defineProperty(t.prototype,"identifier",{get:function(){return this.definition.identifier},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"controllerConstructor",{get:function(){return this.definition.controllerConstructor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"contexts",{get:function(){return Array.from(this.connectedContexts)},enumerable:!1,configurable:!0}),t.prototype.connectContextForScope=function(e){var r=this.fetchContextForScope(e);this.connectedContexts.add(r),r.connect()},t.prototype.disconnectContextForScope=function(e){var r=this.contextsByScope.get(e);r&&(this.connectedContexts.delete(r),r.disconnect())},t.prototype.fetchContextForScope=function(e){var r=this.contextsByScope.get(e);return r||(r=new ie(this,e),this.contextsByScope.set(e,r)),r},t}(),be=function(){function t(e){this.scope=e}return t.prototype.has=function(e){return this.data.has(this.getDataKey(e))},t.prototype.get=function(e){return this.data.get(this.getDataKey(e))},t.prototype.getAttributeName=function(e){return this.data.getAttributeNameForKey(this.getDataKey(e))},t.prototype.getDataKey=function(e){return e+"-class"},Object.defineProperty(t.prototype,"data",{get:function(){return this.scope.data},enumerable:!1,configurable:!0}),t}();function Oe(t){return t.replace(/(?:[_-])([a-z0-9])/g,function(e,r){return r.toUpperCase()})}function v(t){return t.charAt(0).toUpperCase()+t.slice(1)}function x(t){return t.replace(/([A-Z])/g,function(e,r){return"-"+r.toLowerCase()})}var Ae=function(){function t(e){this.scope=e}return Object.defineProperty(t.prototype,"element",{get:function(){return this.scope.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{get:function(){return this.scope.identifier},enumerable:!1,configurable:!0}),t.prototype.get=function(e){var r=this.getAttributeNameForKey(e);return this.element.getAttribute(r)},t.prototype.set=function(e,r){var n=this.getAttributeNameForKey(e);return this.element.setAttribute(n,r),this.get(e)},t.prototype.has=function(e){var r=this.getAttributeNameForKey(e);return this.element.hasAttribute(r)},t.prototype.delete=function(e){if(this.has(e)){var r=this.getAttributeNameForKey(e);return this.element.removeAttribute(r),!0}else return!1},t.prototype.getAttributeNameForKey=function(e){return"data-"+this.identifier+"-"+x(e)},t}(),Ee=function(){function t(e){this.warnedKeysByObject=new WeakMap,this.logger=e}return t.prototype.warn=function(e,r,n){var i=this.warnedKeysByObject.get(e);i||(i=new Set,this.warnedKeysByObject.set(e,i)),i.has(r)||(i.add(r),this.logger.warn(n,e))},t}();function d(t,e){return"["+t+'~="'+e+'"]'}var we=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var o=arguments[e],s=0,u=o.length;s<u;s++,i++)n[i]=o[s];return n},je=function(){function t(e){this.scope=e}return Object.defineProperty(t.prototype,"element",{get:function(){return this.scope.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{get:function(){return this.scope.identifier},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return this.scope.schema},enumerable:!1,configurable:!0}),t.prototype.has=function(e){return this.find(e)!=null},t.prototype.find=function(){for(var e=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.reduce(function(i,o){return i||e.findTarget(o)||e.findLegacyTarget(o)},void 0)},t.prototype.findAll=function(){for(var e=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.reduce(function(i,o){return we(i,e.findAllTargets(o),e.findAllLegacyTargets(o))},[])},t.prototype.findTarget=function(e){var r=this.getSelectorForTargetName(e);return this.scope.findElement(r)},t.prototype.findAllTargets=function(e){var r=this.getSelectorForTargetName(e);return this.scope.findAllElements(r)},t.prototype.getSelectorForTargetName=function(e){var r="data-"+this.identifier+"-target";return d(r,e)},t.prototype.findLegacyTarget=function(e){var r=this.getLegacySelectorForTargetName(e);return this.deprecate(this.scope.findElement(r),e)},t.prototype.findAllLegacyTargets=function(e){var r=this,n=this.getLegacySelectorForTargetName(e);return this.scope.findAllElements(n).map(function(i){return r.deprecate(i,e)})},t.prototype.getLegacySelectorForTargetName=function(e){var r=this.identifier+"."+e;return d(this.schema.targetAttribute,r)},t.prototype.deprecate=function(e,r){if(e){var n=this.identifier,i=this.schema.targetAttribute;this.guide.warn(e,"target:"+r,"Please replace "+i+'="'+n+"."+r+'" with data-'+n+'-target="'+r+'". '+("The "+i+" attribute is deprecated and will be removed in a future version of Stimulus."))}return e},Object.defineProperty(t.prototype,"guide",{get:function(){return this.scope.guide},enumerable:!1,configurable:!0}),t}(),Me=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var o=arguments[e],s=0,u=o.length;s<u;s++,i++)n[i]=o[s];return n},Te=function(){function t(e,r,n,i){var o=this;this.targets=new je(this),this.classes=new be(this),this.data=new Ae(this),this.containsElement=function(s){return s.closest(o.controllerSelector)===o.element},this.schema=e,this.element=r,this.identifier=n,this.guide=new Ee(i)}return t.prototype.findElement=function(e){return this.element.matches(e)?this.element:this.queryElements(e).find(this.containsElement)},t.prototype.findAllElements=function(e){return Me(this.element.matches(e)?[this.element]:[],this.queryElements(e).filter(this.containsElement))},t.prototype.queryElements=function(e){return Array.from(this.element.querySelectorAll(e))},Object.defineProperty(t.prototype,"controllerSelector",{get:function(){return d(this.schema.controllerAttribute,this.identifier)},enumerable:!1,configurable:!0}),t}(),Pe=function(){function t(e,r,n){this.element=e,this.schema=r,this.delegate=n,this.valueListObserver=new P(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}return t.prototype.start=function(){this.valueListObserver.start()},t.prototype.stop=function(){this.valueListObserver.stop()},Object.defineProperty(t.prototype,"controllerAttribute",{get:function(){return this.schema.controllerAttribute},enumerable:!1,configurable:!0}),t.prototype.parseValueForToken=function(e){var r=e.element,n=e.content,i=this.fetchScopesByIdentifierForElement(r),o=i.get(n);return o||(o=this.delegate.createScopeForElementAndIdentifier(r,n),i.set(n,o)),o},t.prototype.elementMatchedValue=function(e,r){var n=(this.scopeReferenceCounts.get(r)||0)+1;this.scopeReferenceCounts.set(r,n),n==1&&this.delegate.scopeConnected(r)},t.prototype.elementUnmatchedValue=function(e,r){var n=this.scopeReferenceCounts.get(r);n&&(this.scopeReferenceCounts.set(r,n-1),n==1&&this.delegate.scopeDisconnected(r))},t.prototype.fetchScopesByIdentifierForElement=function(e){var r=this.scopesByIdentifierByElement.get(e);return r||(r=new Map,this.scopesByIdentifierByElement.set(e,r)),r},t}(),Be=function(){function t(e){this.application=e,this.scopeObserver=new Pe(this.element,this.schema,this),this.scopesByIdentifier=new y,this.modulesByIdentifier=new Map}return Object.defineProperty(t.prototype,"element",{get:function(){return this.application.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return this.application.schema},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"logger",{get:function(){return this.application.logger},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"controllerAttribute",{get:function(){return this.schema.controllerAttribute},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"modules",{get:function(){return Array.from(this.modulesByIdentifier.values())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"contexts",{get:function(){return this.modules.reduce(function(e,r){return e.concat(r.contexts)},[])},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.scopeObserver.start()},t.prototype.stop=function(){this.scopeObserver.stop()},t.prototype.loadDefinition=function(e){this.unloadIdentifier(e.identifier);var r=new ve(this.application,e);this.connectModule(r)},t.prototype.unloadIdentifier=function(e){var r=this.modulesByIdentifier.get(e);r&&this.disconnectModule(r)},t.prototype.getContextForElementAndIdentifier=function(e,r){var n=this.modulesByIdentifier.get(r);if(n)return n.contexts.find(function(i){return i.element==e})},t.prototype.handleError=function(e,r,n){this.application.handleError(e,r,n)},t.prototype.createScopeForElementAndIdentifier=function(e,r){return new Te(this.schema,e,r,this.logger)},t.prototype.scopeConnected=function(e){this.scopesByIdentifier.add(e.identifier,e);var r=this.modulesByIdentifier.get(e.identifier);r&&r.connectContextForScope(e)},t.prototype.scopeDisconnected=function(e){this.scopesByIdentifier.delete(e.identifier,e);var r=this.modulesByIdentifier.get(e.identifier);r&&r.disconnectContextForScope(e)},t.prototype.connectModule=function(e){this.modulesByIdentifier.set(e.identifier,e);var r=this.scopesByIdentifier.getValuesForKey(e.identifier);r.forEach(function(n){return e.connectContextForScope(n)})},t.prototype.disconnectModule=function(e){this.modulesByIdentifier.delete(e.identifier);var r=this.scopesByIdentifier.getValuesForKey(e.identifier);r.forEach(function(n){return e.disconnectContextForScope(n)})},t}(),xe={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target"},Se=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function u(f){try{a(n.next(f))}catch(p){s(p)}}function c(f){try{a(n.throw(f))}catch(p){s(p)}}function a(f){f.done?o(f.value):i(f.value).then(u,c)}a((n=n.apply(t,e||[])).next())})},ke=function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(a){return function(f){return c([a,f])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=a[0]&2?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){r=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(a[0]===6&&r.label<o[1]){r.label=o[1],o=a;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(a);break}o[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(f){a=[6,f],i=0}finally{n=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},A=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var o=arguments[e],s=0,u=o.length;s<u;s++,i++)n[i]=o[s];return n},Ce=function(){function t(e,r){e===void 0&&(e=document.documentElement),r===void 0&&(r=xe),this.logger=console,this.element=e,this.schema=r,this.dispatcher=new D(this),this.router=new Be(this)}return t.start=function(e,r){var n=new t(e,r);return n.start(),n},t.prototype.start=function(){return Se(this,void 0,void 0,function(){return ke(this,function(e){switch(e.label){case 0:return[4,Fe()];case 1:return e.sent(),this.dispatcher.start(),this.router.start(),[2]}})})},t.prototype.stop=function(){this.dispatcher.stop(),this.router.stop()},t.prototype.register=function(e,r){this.load({identifier:e,controllerConstructor:r})},t.prototype.load=function(e){for(var r=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=Array.isArray(e)?e:A([e],n);o.forEach(function(s){return r.router.loadDefinition(s)})},t.prototype.unload=function(e){for(var r=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=Array.isArray(e)?e:A([e],n);o.forEach(function(s){return r.router.unloadIdentifier(s)})},Object.defineProperty(t.prototype,"controllers",{get:function(){return this.router.contexts.map(function(e){return e.controller})},enumerable:!1,configurable:!0}),t.prototype.getControllerForElementAndIdentifier=function(e,r){var n=this.router.getContextForElementAndIdentifier(e,r);return n?n.controller:null},t.prototype.handleError=function(e,r,n){this.logger.error(`%s

%o

%o`,r,e,n)},t}();function Fe(){return new Promise(function(t){document.readyState=="loading"?document.addEventListener("DOMContentLoaded",t):t()})}function Ne(t){var e=m(t,"classes");return e.reduce(function(r,n){return Object.assign(r,Le(n))},{})}function Le(t){var e,r=t+"Class";return e={},e[r]={get:function(){var n=this.classes;if(n.has(t))return n.get(t);var i=n.getAttributeName(t);throw new Error('Missing attribute "'+i+'"')}},e["has"+v(r)]={get:function(){return this.classes.has(t)}},e}function _e(t){var e=m(t,"targets");return e.reduce(function(r,n){return Object.assign(r,Ve(n))},{})}function Ve(t){var e;return e={},e[t+"Target"]={get:function(){var r=this.targets.find(t);if(r)return r;throw new Error('Missing target element "'+this.identifier+"."+t+'"')}},e[t+"Targets"]={get:function(){return this.targets.findAll(t)}},e["has"+v(t)+"Target"]={get:function(){return this.targets.has(t)}},e}function De(t){var e=oe(t,"values"),r={valueDescriptorMap:{get:function(){var n=this;return e.reduce(function(i,o){var s,u=S(o),c=n.data.getAttributeNameForKey(u.key);return Object.assign(i,(s={},s[c]=u,s))},{})}}};return e.reduce(function(n,i){return Object.assign(n,Ke(i))},r)}function Ke(t){var e,r=S(t),n=r.type,i=r.key,o=r.name,s=ze[n],u=E[n]||E.default;return e={},e[o]={get:function(){var c=this.data.get(i);return c!==null?s(c):r.defaultValue},set:function(c){c===void 0?this.data.delete(i):this.data.set(i,u(c))}},e["has"+v(o)]={get:function(){return this.data.has(i)}},e}function S(t){var e=t[0],r=t[1],n=Ie(r);return Re(e,n)}function Ie(t){switch(t){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}throw new Error('Unknown value type constant "'+t+'"')}function Re(t,e){var r=x(t)+"-value";return{type:e,key:r,name:Oe(r),get defaultValue(){return Ue[e]}}}var Ue={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},ze={array:function(t){var e=JSON.parse(t);if(!Array.isArray(e))throw new TypeError("Expected array");return e},boolean:function(t){return!(t=="0"||t=="false")},number:function(t){return parseFloat(t)},object:function(t){var e=JSON.parse(t);if(e===null||typeof e!="object"||Array.isArray(e))throw new TypeError("Expected object");return e},string:function(t){return t}},E={default:We,array:w,object:w};function w(t){return JSON.stringify(t)}function We(t){return""+t}var b=function(){function t(e){this.context=e}return Object.defineProperty(t.prototype,"application",{get:function(){return this.context.application},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scope",{get:function(){return this.context.scope},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this.scope.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{get:function(){return this.scope.identifier},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"targets",{get:function(){return this.scope.targets},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"classes",{get:function(){return this.scope.classes},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this.scope.data},enumerable:!1,configurable:!0}),t.prototype.initialize=function(){},t.prototype.connect=function(){},t.prototype.disconnect=function(){},t.blessings=[Ne,_e,De],t.targets=[],t.values={},t}();class k extends b{toggle(){this.toggleableTarget.classList.toggle("hidden")}}l(k,"targets",["toggleable"]);const qe=Object.freeze(Object.defineProperty({__proto__:null,default:k},Symbol.toStringTag,{value:"Module"}));class $e extends b{connect(){this.element.addEventListener("load",()=>{setTimeout(()=>{let e=this.element.contentDocument.querySelector("[data-maglev-section-id]").clientHeight;e<200&&(e=200),this.element.style.height=`${e}px`},500)})}}const Ge=Object.freeze(Object.defineProperty({__proto__:null,default:$e},Symbol.toStringTag,{value:"Module"})),Je=document.querySelector('[name="csrf-token"]')||{content:"no-csrf-token"},Xe=L.create({headers:{common:{"X-CSRF-TOKEN":Je.content,"Content-Type":"application/json",Accept:"application/json"}}});class g extends b{connect(){this.sourceTarget.addEventListener("load",()=>{const e=document.createElement("script");e.setAttribute("src","https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"),this.sourceTarget.contentDocument.head.appendChild(e)})}take(){const e=this.sourceTarget.contentDocument.querySelector("[data-maglev-dropzone]");this.sourceTarget.contentWindow.html2canvas(e,{allowTaint:!0,logging:!0,useCORS:!0}).then(r=>{this.outputTarget.src=r.toDataURL(),Xe.post(this.urlValue,{screenshot:{base64_image:r.toDataURL()}}).then(()=>{alert("Screenshot done!")}).catch(n=>console.log("ERROR!",n))})}}l(g,"targets",["source","output"]),l(g,"values",{url:String});const He=Object.freeze(Object.defineProperty({__proto__:null,default:g},Symbol.toStringTag,{value:"Module"}));var Ze=/^(?:.*?(?:controllers|components)\/|\.?\.\/)?(.+)(?:[/_-]controller\..+?)$/;function Qe(t,e){t.load(Ye(e))}function Ye(t){return Object.entries(t).map(et).filter(e=>e)}function et([t,e]){var r;const n=tt(t),i=(r=e.default)!=null?r:e;if(n&&typeof i=="function")return{identifier:n,controllerConstructor:i}}function tt(t){const e=(t.match(Ze)||[])[1];if(e)return e.replace(/_/g,"-").replace(/\//g,"--")}const C=Ce.start(),rt=Object.assign({"./controllers/dropdown_controller.js":qe,"./controllers/iframe_controller.js":Ge,"./controllers/screenshot_controller.js":He});Qe(C,rt);window.stimulusApplication=C;console.log("Maglev admin ⚡️");
