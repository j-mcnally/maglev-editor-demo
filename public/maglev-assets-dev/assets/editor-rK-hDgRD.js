import{a as hv}from"./axios-CCb-kr4I.js";var Vw={};/*!
 * Vue.js v2.7.16
 * (c) 2014-2023 Evan You
 * Released under the MIT License.
 */var tt=Object.freeze({}),ae=Array.isArray;function re(t){return t==null}function C(t){return t!=null}function Te(t){return t===!0}function Hw(t){return t===!1}function ao(t){return typeof t=="string"||typeof t=="number"||typeof t=="symbol"||typeof t=="boolean"}function me(t){return typeof t=="function"}function it(t){return t!==null&&typeof t=="object"}var Cf=Object.prototype.toString;function ht(t){return Cf.call(t)==="[object Object]"}function Uw(t){return Cf.call(t)==="[object RegExp]"}function mv(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function ru(t){return C(t)&&typeof t.then=="function"&&typeof t.catch=="function"}function Ww(t){return t==null?"":Array.isArray(t)||ht(t)&&t.toString===Cf?JSON.stringify(t,Kw,2):String(t)}function Kw(t,e){return e&&e.__v_isRef?e.value:e}function zs(t){var e=parseFloat(t);return isNaN(e)?t:e}function rn(t,e){for(var n=Object.create(null),r=t.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return e?function(s){return n[s.toLowerCase()]}:function(s){return n[s]}}rn("slot,component",!0);var Gw=rn("key,ref,slot,slot-scope,is");function pr(t,e){var n=t.length;if(n){if(e===t[n-1]){t.length=n-1;return}var r=t.indexOf(e);if(r>-1)return t.splice(r,1)}}var qw=Object.prototype.hasOwnProperty;function pt(t,e){return qw.call(t,e)}function Xr(t){var e=Object.create(null);return function(r){var i=e[r];return i||(e[r]=t(r))}}var Jw=/-(\w)/g,zr=Xr(function(t){return t.replace(Jw,function(e,n){return n?n.toUpperCase():""})}),Yw=Xr(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),Xw=/\B([A-Z])/g,lo=Xr(function(t){return t.replace(Xw,"-$1").toLowerCase()});function Zw(t,e){function n(r){var i=arguments.length;return i?i>1?t.apply(e,arguments):t.call(e,r):t.call(e)}return n._length=t.length,n}function Qw(t,e){return t.bind(e)}var gv=Function.prototype.bind?Qw:Zw;function iu(t,e){e=e||0;for(var n=t.length-e,r=new Array(n);n--;)r[n]=t[n+e];return r}function _e(t,e){for(var n in e)t[n]=e[n];return t}function vv(t){for(var e={},n=0;n<t.length;n++)t[n]&&_e(e,t[n]);return e}function Ce(t,e,n){}var Ao=function(t,e,n){return!1},yv=function(t){return t};function Vr(t,e){if(t===e)return!0;var n=it(t),r=it(e);if(n&&r)try{var i=Array.isArray(t),s=Array.isArray(e);if(i&&s)return t.length===e.length&&t.every(function(l,c){return Vr(l,e[c])});if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(!i&&!s){var o=Object.keys(t),a=Object.keys(e);return o.length===a.length&&o.every(function(l){return Vr(t[l],e[l])})}else return!1}catch{return!1}else return!n&&!r?String(t)===String(e):!1}function bv(t,e){for(var n=0;n<t.length;n++)if(Vr(t[n],e))return n;return-1}function Oa(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}function su(t,e){return t===e?t===0&&1/t!==1/e:t===t||e===e}var cp="data-server-rendered",Il=["component","directive","filter"],_v=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],Vt={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:Ao,isReservedAttr:Ao,isUnknownElement:Ao,getTagNamespace:Ce,parsePlatformTagName:yv,mustUseProp:Ao,async:!0,_lifecycleHooks:_v},ex=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function wv(t){var e=(t+"").charCodeAt(0);return e===36||e===95}function Re(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var tx=new RegExp("[^".concat(ex.source,".$_\\d]"));function nx(t){if(!tx.test(t)){var e=t.split(".");return function(n){for(var r=0;r<e.length;r++){if(!n)return;n=n[e[r]]}return n}}}var rx="__proto__"in{},kt=typeof window<"u",Ut=kt&&window.navigator.userAgent.toLowerCase(),Wi=Ut&&/msie|trident/.test(Ut),Ki=Ut&&Ut.indexOf("msie 9.0")>0,xv=Ut&&Ut.indexOf("edge/")>0;Ut&&Ut.indexOf("android")>0;var ix=Ut&&/iphone|ipad|ipod|ios/.test(Ut),up=Ut&&Ut.match(/firefox\/(\d+)/),ou={}.watch,Sv=!1;if(kt)try{var fp={};Object.defineProperty(fp,"passive",{get:function(){Sv=!0}}),window.addEventListener("test-passive",null,fp)}catch{}var Mo,hr=function(){return Mo===void 0&&(!kt&&typeof global<"u"?Mo=global.process&&Vw.VUE_ENV==="server":Mo=!1),Mo},Ta=kt&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function Ei(t){return typeof t=="function"&&/native code/.test(t.toString())}var co=typeof Symbol<"u"&&Ei(Symbol)&&typeof Reflect<"u"&&Ei(Reflect.ownKeys),Vs;typeof Set<"u"&&Ei(Set)?Vs=Set:Vs=function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(e){return this.set[e]===!0},t.prototype.add=function(e){this.set[e]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var De=null;function sx(){return De&&{proxy:De}}function or(t){t===void 0&&(t=null),t||De&&De._scope.off(),De=t,t&&t._scope.on()}var Mt=function(){function t(e,n,r,i,s,o,a,l){this.tag=e,this.data=n,this.children=r,this.text=i,this.elm=s,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=n&&n.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=l,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(t.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),t}(),Ir=function(t){t===void 0&&(t="");var e=new Mt;return e.text=t,e.isComment=!0,e};function _i(t){return new Mt(void 0,void 0,void 0,String(t))}function au(t){var e=new Mt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var ox=0,ra=[],ax=function(){for(var t=0;t<ra.length;t++){var e=ra[t];e.subs=e.subs.filter(function(n){return n}),e._pending=!1}ra.length=0},hn=function(){function t(){this._pending=!1,this.id=ox++,this.subs=[]}return t.prototype.addSub=function(e){this.subs.push(e)},t.prototype.removeSub=function(e){this.subs[this.subs.indexOf(e)]=null,this._pending||(this._pending=!0,ra.push(this))},t.prototype.depend=function(e){t.target&&t.target.addDep(this)},t.prototype.notify=function(e){for(var n=this.subs.filter(function(o){return o}),r=0,i=n.length;r<i;r++){var s=n[r];s.update()}},t}();hn.target=null;var ia=[];function Gi(t){ia.push(t),hn.target=t}function qi(){ia.pop(),hn.target=ia[ia.length-1]}var Cv=Array.prototype,$a=Object.create(Cv),lx=["push","pop","shift","unshift","splice","sort","reverse"];lx.forEach(function(t){var e=Cv[t];Re($a,t,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s=e.apply(this,r),o=this.__ob__,a;switch(t){case"push":case"unshift":a=r;break;case"splice":a=r.slice(2);break}return a&&o.observeArray(a),o.dep.notify(),s})});var dp=Object.getOwnPropertyNames($a),kv={},kf=!0;function ar(t){kf=t}var cx={notify:Ce,depend:Ce,addSub:Ce,removeSub:Ce},pp=function(){function t(e,n,r){if(n===void 0&&(n=!1),r===void 0&&(r=!1),this.value=e,this.shallow=n,this.mock=r,this.dep=r?cx:new hn,this.vmCount=0,Re(e,"__ob__",this),ae(e)){if(!r)if(rx)e.__proto__=$a;else for(var i=0,s=dp.length;i<s;i++){var o=dp[i];Re(e,o,$a[o])}n||this.observeArray(e)}else for(var a=Object.keys(e),i=0;i<a.length;i++){var o=a[i];lr(e,o,kv,void 0,n,r)}}return t.prototype.observeArray=function(e){for(var n=0,r=e.length;n<r;n++)Pn(e[n],!1,this.mock)},t}();function Pn(t,e,n){if(t&&pt(t,"__ob__")&&t.__ob__ instanceof pp)return t.__ob__;if(kf&&(n||!hr())&&(ae(t)||ht(t))&&Object.isExtensible(t)&&!t.__v_skip&&!Je(t)&&!(t instanceof Mt))return new pp(t,e,n)}function lr(t,e,n,r,i,s,o){o===void 0&&(o=!1);var a=new hn,l=Object.getOwnPropertyDescriptor(t,e);if(!(l&&l.configurable===!1)){var c=l&&l.get,u=l&&l.set;(!c||u)&&(n===kv||arguments.length===2)&&(n=t[e]);var f=i?n&&n.__ob__:Pn(n,!1,s);return Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var p=c?c.call(t):n;return hn.target&&(a.depend(),f&&(f.dep.depend(),ae(p)&&Ev(p))),Je(p)&&!i?p.value:p},set:function(p){var h=c?c.call(t):n;if(su(h,p)){if(u)u.call(t,p);else{if(c)return;if(!i&&Je(h)&&!Je(p)){h.value=p;return}else n=p}f=i?p&&p.__ob__:Pn(p,!1,s),a.notify()}}}),a}}function Pl(t,e,n){if(!Zr(t)){var r=t.__ob__;return ae(t)&&mv(e)?(t.length=Math.max(t.length,e),t.splice(e,1,n),r&&!r.shallow&&r.mock&&Pn(n,!1,!0),n):e in t&&!(e in Object.prototype)?(t[e]=n,n):t._isVue||r&&r.vmCount?n:r?(lr(r.value,e,n,void 0,r.shallow,r.mock),r.dep.notify(),n):(t[e]=n,n)}}function Ef(t,e){if(ae(t)&&mv(e)){t.splice(e,1);return}var n=t.__ob__;t._isVue||n&&n.vmCount||Zr(t)||pt(t,e)&&(delete t[e],n&&n.dep.notify())}function Ev(t){for(var e=void 0,n=0,r=t.length;n<r;n++)e=t[n],e&&e.__ob__&&e.__ob__.dep.depend(),ae(e)&&Ev(e)}function ux(t){return Ov(t,!1),t}function Of(t){return Ov(t,!0),Re(t,"__v_isShallow",!0),t}function Ov(t,e){Zr(t)||Pn(t,e,hr())}function Pr(t){return Zr(t)?Pr(t.__v_raw):!!(t&&t.__ob__)}function Ia(t){return!!(t&&t.__v_isShallow)}function Zr(t){return!!(t&&t.__v_isReadonly)}function fx(t){return Pr(t)||Zr(t)}function Tv(t){var e=t&&t.__v_raw;return e?Tv(e):t}function dx(t){return Object.isExtensible(t)&&Re(t,"__v_skip",!0),t}var uo="__v_isRef";function Je(t){return!!(t&&t.__v_isRef===!0)}function px(t){return $v(t,!1)}function hx(t){return $v(t,!0)}function $v(t,e){if(Je(t))return t;var n={};return Re(n,uo,!0),Re(n,"__v_isShallow",e),Re(n,"dep",lr(n,"value",t,null,e,hr())),n}function mx(t){t.dep&&t.dep.notify()}function gx(t){return Je(t)?t.value:t}function vx(t){if(Pr(t))return t;for(var e={},n=Object.keys(t),r=0;r<n.length;r++)Pa(e,t,n[r]);return e}function Pa(t,e,n){Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:function(){var r=e[n];if(Je(r))return r.value;var i=r&&r.__ob__;return i&&i.dep.depend(),r},set:function(r){var i=e[n];Je(i)&&!Je(r)?i.value=r:e[n]=r}})}function yx(t){var e=new hn,n=t(function(){e.depend()},function(){e.notify()}),r=n.get,i=n.set,s={get value(){return r()},set value(o){i(o)}};return Re(s,uo,!0),s}function bx(t){var e=ae(t)?new Array(t.length):{};for(var n in t)e[n]=Iv(t,n);return e}function Iv(t,e,n){var r=t[e];if(Je(r))return r;var i={get value(){var s=t[e];return s===void 0?n:s},set value(s){t[e]=s}};return Re(i,uo,!0),i}var _x="__v_rawToReadonly",wx="__v_rawToShallowReadonly";function Pv(t){return Av(t,!1)}function Av(t,e){if(!ht(t)||Zr(t))return t;var n=e?wx:_x,r=t[n];if(r)return r;var i=Object.create(Object.getPrototypeOf(t));Re(t,n,i),Re(i,"__v_isReadonly",!0),Re(i,"__v_raw",t),Je(t)&&Re(i,uo,!0),(e||Ia(t))&&Re(i,"__v_isShallow",!0);for(var s=Object.keys(t),o=0;o<s.length;o++)xx(i,t,s[o],e);return i}function xx(t,e,n,r){Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:function(){var i=e[n];return r||!ht(i)?i:Pv(i)},set:function(){}})}function Sx(t){return Av(t,!0)}function Cx(t,e){var n,r,i=me(t);i?(n=t,r=Ce):(n=t.get,r=t.set);var s=hr()?null:new fo(De,n,Ce,{lazy:!0}),o={effect:s,get value(){return s?(s.dirty&&s.evaluate(),hn.target&&s.depend(),s.value):n()},set value(a){r(a)}};return Re(o,uo,!0),Re(o,"__v_isReadonly",i),o}var Al="watcher",hp="".concat(Al," callback"),mp="".concat(Al," getter"),kx="".concat(Al," cleanup");function Ex(t,e){return Ml(t,null,e)}function Mv(t,e){return Ml(t,null,{flush:"post"})}function Ox(t,e){return Ml(t,null,{flush:"sync"})}var gp={};function Tx(t,e,n){return Ml(t,e,n)}function Ml(t,e,n){var r=n===void 0?tt:n,i=r.immediate,s=r.deep,o=r.flush,a=o===void 0?"pre":o;r.onTrack,r.onTrigger;var l=De,c=function(x,k,T){T===void 0&&(T=null);var P=An(x,null,T,l,k);return s&&P&&P.__ob__&&P.__ob__.dep.depend(),P},u,f=!1,d=!1;if(Je(t)?(u=function(){return t.value},f=Ia(t)):Pr(t)?(u=function(){return t.__ob__.dep.depend(),t},s=!0):ae(t)?(d=!0,f=t.some(function(x){return Pr(x)||Ia(x)}),u=function(){return t.map(function(x){if(Je(x))return x.value;if(Pr(x))return x.__ob__.dep.depend(),Ni(x);if(me(x))return c(x,mp)})}):me(t)?e?u=function(){return c(t,mp)}:u=function(){if(!(l&&l._isDestroyed))return h&&h(),c(t,Al,[m])}:u=Ce,e&&s){var p=u;u=function(){return Ni(p())}}var h,m=function(x){h=g.onStop=function(){c(x,kx)}};if(hr())return m=Ce,e?i&&c(e,hp,[u(),d?[]:void 0,m]):u(),Ce;var g=new fo(De,u,Ce,{lazy:!0});g.noRecurse=!e;var v=d?[]:gp;return g.run=function(){if(g.active)if(e){var x=g.get();(s||f||(d?x.some(function(k,T){return su(k,v[T])}):su(x,v)))&&(h&&h(),c(e,hp,[x,v===gp?void 0:v,m]),v=x)}else g.get()},a==="sync"?g.update=g.run:a==="post"?(g.post=!0,g.update=function(){return hu(g)}):g.update=function(){if(l&&l===De&&!l._isMounted){var x=l._preWatchers||(l._preWatchers=[]);x.indexOf(g)<0&&x.push(g)}else hu(g)},e?i?g.run():v=g.get():a==="post"&&l?l.$once("hook:mounted",function(){return g.get()}):g.get(),function(){g.teardown()}}var Qe,Tf=function(){function t(e){e===void 0&&(e=!1),this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Qe,!e&&Qe&&(this.index=(Qe.scopes||(Qe.scopes=[])).push(this)-1)}return t.prototype.run=function(e){if(this.active){var n=Qe;try{return Qe=this,e()}finally{Qe=n}}},t.prototype.on=function(){Qe=this},t.prototype.off=function(){Qe=this.parent},t.prototype.stop=function(e){if(this.active){var n=void 0,r=void 0;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].teardown();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){var i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this.active=!1}},t}();function $x(t){return new Tf(t)}function Ix(t,e){e===void 0&&(e=Qe),e&&e.active&&e.effects.push(t)}function Nv(){return Qe}function Px(t){Qe&&Qe.cleanups.push(t)}function Ax(t,e){De&&(Dv(De)[t]=e)}function Dv(t){var e=t._provided,n=t.$parent&&t.$parent._provided;return n===e?t._provided=Object.create(n):e}function Mx(t,e,n){n===void 0&&(n=!1);var r=De;if(r){var i=r.$parent&&r.$parent._provided;if(i&&t in i)return i[t];if(arguments.length>1)return n&&me(e)?e.call(r):e}}var vp=Xr(function(t){var e=t.charAt(0)==="&";t=e?t.slice(1):t;var n=t.charAt(0)==="~";t=n?t.slice(1):t;var r=t.charAt(0)==="!";return t=r?t.slice(1):t,{name:t,once:n,capture:r,passive:e}});function lu(t,e){function n(){var r=n.fns;if(ae(r))for(var i=r.slice(),s=0;s<i.length;s++)An(i[s],null,arguments,e,"v-on handler");else return An(r,null,arguments,e,"v-on handler")}return n.fns=t,n}function Rv(t,e,n,r,i,s){var o,a,l,c;for(o in t)a=t[o],l=e[o],c=vp(o),re(a)||(re(l)?(re(a.fns)&&(a=t[o]=lu(a,s)),Te(c.once)&&(a=t[o]=i(c.name,a,c.capture)),n(c.name,a,c.capture,c.passive,c.params)):a!==l&&(l.fns=a,t[o]=l));for(o in e)re(t[o])&&(c=vp(o),r(c.name,e[o],c.capture))}function Kn(t,e,n){t instanceof Mt&&(t=t.data.hook||(t.data.hook={}));var r,i=t[e];function s(){n.apply(this,arguments),pr(r.fns,s)}re(i)?r=lu([s]):C(i.fns)&&Te(i.merged)?(r=i,r.fns.push(s)):r=lu([i,s]),r.merged=!0,t[e]=r}function Nx(t,e,n){var r=e.options.props;if(!re(r)){var i={},s=t.attrs,o=t.props;if(C(s)||C(o))for(var a in r){var l=lo(a);yp(i,o,a,l,!0)||yp(i,s,a,l,!1)}return i}}function yp(t,e,n,r,i){if(C(e)){if(pt(e,n))return t[n]=e[n],i||delete e[n],!0;if(pt(e,r))return t[n]=e[r],i||delete e[r],!0}return!1}function Dx(t){for(var e=0;e<t.length;e++)if(ae(t[e]))return Array.prototype.concat.apply([],t);return t}function $f(t){return ao(t)?[_i(t)]:ae(t)?Lv(t):void 0}function ls(t){return C(t)&&C(t.text)&&Hw(t.isComment)}function Lv(t,e){var n=[],r,i,s,o;for(r=0;r<t.length;r++)i=t[r],!(re(i)||typeof i=="boolean")&&(s=n.length-1,o=n[s],ae(i)?i.length>0&&(i=Lv(i,"".concat(e||"","_").concat(r)),ls(i[0])&&ls(o)&&(n[s]=_i(o.text+i[0].text),i.shift()),n.push.apply(n,i)):ao(i)?ls(o)?n[s]=_i(o.text+i):i!==""&&n.push(_i(i)):ls(i)&&ls(o)?n[s]=_i(o.text+i.text):(Te(t._isVList)&&C(i.tag)&&re(i.key)&&C(e)&&(i.key="__vlist".concat(e,"_").concat(r,"__")),n.push(i)));return n}function Rx(t,e){var n=null,r,i,s,o;if(ae(t)||typeof t=="string")for(n=new Array(t.length),r=0,i=t.length;r<i;r++)n[r]=e(t[r],r);else if(typeof t=="number")for(n=new Array(t),r=0;r<t;r++)n[r]=e(r+1,r);else if(it(t))if(co&&t[Symbol.iterator]){n=[];for(var a=t[Symbol.iterator](),l=a.next();!l.done;)n.push(e(l.value,n.length)),l=a.next()}else for(s=Object.keys(t),n=new Array(s.length),r=0,i=s.length;r<i;r++)o=s[r],n[r]=e(t[o],o,r);return C(n)||(n=[]),n._isVList=!0,n}function Lx(t,e,n,r){var i=this.$scopedSlots[t],s;i?(n=n||{},r&&(n=_e(_e({},r),n)),s=i(n)||(me(e)?e():e)):s=this.$slots[t]||(me(e)?e():e);var o=n&&n.slot;return o?this.$createElement("template",{slot:o},s):s}function Bx(t){return Da(this.$options,"filters",t)||yv}function bp(t,e){return ae(t)?t.indexOf(e)===-1:t!==e}function Fx(t,e,n,r,i){var s=Vt.keyCodes[e]||n;return i&&r&&!Vt.keyCodes[e]?bp(i,r):s?bp(s,t):r?lo(r)!==e:t===void 0}function jx(t,e,n,r,i){if(n&&it(n)){ae(n)&&(n=vv(n));var s=void 0,o=function(l){if(l==="class"||l==="style"||Gw(l))s=t;else{var c=t.attrs&&t.attrs.type;s=r||Vt.mustUseProp(e,c,l)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var u=zr(l),f=lo(l);if(!(u in s)&&!(f in s)&&(s[l]=n[l],i)){var d=t.on||(t.on={});d["update:".concat(l)]=function(p){n[l]=p}}};for(var a in n)o(a)}return t}function zx(t,e){var n=this._staticTrees||(this._staticTrees=[]),r=n[t];return r&&!e||(r=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,this._c,this),Bv(r,"__static__".concat(t),!1)),r}function Vx(t,e,n){return Bv(t,"__once__".concat(e).concat(n?"_".concat(n):""),!0),t}function Bv(t,e,n){if(ae(t))for(var r=0;r<t.length;r++)t[r]&&typeof t[r]!="string"&&_p(t[r],"".concat(e,"_").concat(r),n);else _p(t,e,n)}function _p(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function Hx(t,e){if(e&&ht(e)){var n=t.on=t.on?_e({},t.on):{};for(var r in e){var i=n[r],s=e[r];n[r]=i?[].concat(i,s):s}}return t}function Fv(t,e,n,r){e=e||{$stable:!n};for(var i=0;i<t.length;i++){var s=t[i];ae(s)?Fv(s,e,n):s&&(s.proxy&&(s.fn.proxy=!0),e[s.key]=s.fn)}return r&&(e.$key=r),e}function Ux(t,e){for(var n=0;n<e.length;n+=2){var r=e[n];typeof r=="string"&&r&&(t[e[n]]=e[n+1])}return t}function Wx(t,e){return typeof t=="string"?e+t:t}function jv(t){t._o=Vx,t._n=zs,t._s=Ww,t._l=Rx,t._t=Lx,t._q=Vr,t._i=bv,t._m=zx,t._f=Bx,t._k=Fx,t._b=jx,t._v=_i,t._e=Ir,t._u=Fv,t._g=Hx,t._d=Ux,t._p=Wx}function If(t,e){if(!t||!t.length)return{};for(var n={},r=0,i=t.length;r<i;r++){var s=t[r],o=s.data;if(o&&o.attrs&&o.attrs.slot&&delete o.attrs.slot,(s.context===e||s.fnContext===e)&&o&&o.slot!=null){var a=o.slot,l=n[a]||(n[a]=[]);s.tag==="template"?l.push.apply(l,s.children||[]):l.push(s)}else(n.default||(n.default=[])).push(s)}for(var c in n)n[c].every(Kx)&&delete n[c];return n}function Kx(t){return t.isComment&&!t.asyncFactory||t.text===" "}function Hs(t){return t.isComment&&t.asyncFactory}function Ps(t,e,n,r){var i,s=Object.keys(n).length>0,o=e?!!e.$stable:!s,a=e&&e.$key;if(!e)i={};else{if(e._normalized)return e._normalized;if(o&&r&&r!==tt&&a===r.$key&&!s&&!r.$hasNormal)return r;i={};for(var l in e)e[l]&&l[0]!=="$"&&(i[l]=Gx(t,n,l,e[l]))}for(var c in n)c in i||(i[c]=qx(n,c));return e&&Object.isExtensible(e)&&(e._normalized=i),Re(i,"$stable",o),Re(i,"$key",a),Re(i,"$hasNormal",s),i}function Gx(t,e,n,r){var i=function(){var s=De;or(t);var o=arguments.length?r.apply(null,arguments):r({});o=o&&typeof o=="object"&&!ae(o)?[o]:$f(o);var a=o&&o[0];return or(s),o&&(!a||o.length===1&&a.isComment&&!Hs(a))?void 0:o};return r.proxy&&Object.defineProperty(e,n,{get:i,enumerable:!0,configurable:!0}),i}function qx(t,e){return function(){return t[e]}}function Jx(t){var e=t.$options,n=e.setup;if(n){var r=t._setupContext=zv(t);or(t),Gi();var i=An(n,null,[t._props||Of({}),r],t,"setup");if(qi(),or(),me(i))e.render=i;else if(it(i))if(t._setupState=i,i.__sfc){var o=t._setupProxy={};for(var s in i)s!=="__sfc"&&Pa(o,i,s)}else for(var s in i)wv(s)||Pa(t,i,s)}}function zv(t){return{get attrs(){if(!t._attrsProxy){var e=t._attrsProxy={};Re(e,"_v_attr_proxy",!0),Aa(e,t.$attrs,tt,t,"$attrs")}return t._attrsProxy},get listeners(){if(!t._listenersProxy){var e=t._listenersProxy={};Aa(e,t.$listeners,tt,t,"$listeners")}return t._listenersProxy},get slots(){return Xx(t)},emit:gv(t.$emit,t),expose:function(e){e&&Object.keys(e).forEach(function(n){return Pa(t,e,n)})}}}function Aa(t,e,n,r,i){var s=!1;for(var o in e)o in t?e[o]!==n[o]&&(s=!0):(s=!0,Yx(t,o,r,i));for(var o in t)o in e||(s=!0,delete t[o]);return s}function Yx(t,e,n,r){Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){return n[r][e]}})}function Xx(t){return t._slotsProxy||Vv(t._slotsProxy={},t.$scopedSlots),t._slotsProxy}function Vv(t,e){for(var n in e)t[n]=e[n];for(var n in t)n in e||delete t[n]}function Zx(){return Pf().slots}function Qx(){return Pf().attrs}function eS(){return Pf().listeners}function Pf(){var t=De;return t._setupContext||(t._setupContext=zv(t))}function tS(t,e){var n=ae(t)?t.reduce(function(s,o){return s[o]={},s},{}):t;for(var r in e){var i=n[r];i?ae(i)||me(i)?n[r]={type:i,default:e[r]}:i.default=e[r]:i===null&&(n[r]={default:e[r]})}return n}function nS(t){t._vnode=null,t._staticTrees=null;var e=t.$options,n=t.$vnode=e._parentVnode,r=n&&n.context;t.$slots=If(e._renderChildren,r),t.$scopedSlots=n?Ps(t.$parent,n.data.scopedSlots,t.$slots):tt,t._c=function(s,o,a,l){return Us(t,s,o,a,l,!1)},t.$createElement=function(s,o,a,l){return Us(t,s,o,a,l,!0)};var i=n&&n.data;lr(t,"$attrs",i&&i.attrs||tt,null,!0),lr(t,"$listeners",e._parentListeners||tt,null,!0)}var sa=null;function rS(t){jv(t.prototype),t.prototype.$nextTick=function(e){return Nl(e,this)},t.prototype._render=function(){var e=this,n=e.$options,r=n.render,i=n._parentVnode;i&&e._isMounted&&(e.$scopedSlots=Ps(e.$parent,i.data.scopedSlots,e.$slots,e.$scopedSlots),e._slotsProxy&&Vv(e._slotsProxy,e.$scopedSlots)),e.$vnode=i;var s=De,o=sa,a;try{or(e),sa=e,a=r.call(e._renderProxy,e.$createElement)}catch(l){Hr(l,e,"render"),a=e._vnode}finally{sa=o,or(s)}return ae(a)&&a.length===1&&(a=a[0]),a instanceof Mt||(a=Ir()),a.parent=i,a}}function fc(t,e){return(t.__esModule||co&&t[Symbol.toStringTag]==="Module")&&(t=t.default),it(t)?e.extend(t):t}function iS(t,e,n,r,i){var s=Ir();return s.asyncFactory=t,s.asyncMeta={data:e,context:n,children:r,tag:i},s}function sS(t,e){if(Te(t.error)&&C(t.errorComp))return t.errorComp;if(C(t.resolved))return t.resolved;var n=sa;if(n&&C(t.owners)&&t.owners.indexOf(n)===-1&&t.owners.push(n),Te(t.loading)&&C(t.loadingComp))return t.loadingComp;if(n&&!C(t.owners)){var r=t.owners=[n],i=!0,s=null,o=null;n.$on("hook:destroyed",function(){return pr(r,n)});var a=function(f){for(var d=0,p=r.length;d<p;d++)r[d].$forceUpdate();f&&(r.length=0,s!==null&&(clearTimeout(s),s=null),o!==null&&(clearTimeout(o),o=null))},l=Oa(function(f){t.resolved=fc(f,e),i?r.length=0:a(!0)}),c=Oa(function(f){C(t.errorComp)&&(t.error=!0,a(!0))}),u=t(l,c);return it(u)&&(ru(u)?re(t.resolved)&&u.then(l,c):ru(u.component)&&(u.component.then(l,c),C(u.error)&&(t.errorComp=fc(u.error,e)),C(u.loading)&&(t.loadingComp=fc(u.loading,e),u.delay===0?t.loading=!0:s=setTimeout(function(){s=null,re(t.resolved)&&re(t.error)&&(t.loading=!0,a(!1))},u.delay||200)),C(u.timeout)&&(o=setTimeout(function(){o=null,re(t.resolved)&&c(null)},u.timeout)))),i=!1,t.loading?t.loadingComp:t.resolved}}function Hv(t){if(ae(t))for(var e=0;e<t.length;e++){var n=t[e];if(C(n)&&(C(n.componentOptions)||Hs(n)))return n}}var oS=1,Uv=2;function Us(t,e,n,r,i,s){return(ae(n)||ao(n))&&(i=r,r=n,n=void 0),Te(s)&&(i=Uv),aS(t,e,n,r,i)}function aS(t,e,n,r,i){if(C(n)&&C(n.__ob__)||(C(n)&&C(n.is)&&(e=n.is),!e))return Ir();ae(r)&&me(r[0])&&(n=n||{},n.scopedSlots={default:r[0]},r.length=0),i===Uv?r=$f(r):i===oS&&(r=Dx(r));var s,o;if(typeof e=="string"){var a=void 0;o=t.$vnode&&t.$vnode.ns||Vt.getTagNamespace(e),Vt.isReservedTag(e)?s=new Mt(Vt.parsePlatformTagName(e),n,r,void 0,void 0,t):(!n||!n.pre)&&C(a=Da(t.$options,"components",e))?s=Tp(a,n,t,r,e):s=new Mt(e,n,r,void 0,void 0,t)}else s=Tp(e,n,t,r);return ae(s)?s:C(s)?(C(o)&&Wv(s,o),C(n)&&lS(n),s):Ir()}function Wv(t,e,n){if(t.ns=e,t.tag==="foreignObject"&&(e=void 0,n=!0),C(t.children))for(var r=0,i=t.children.length;r<i;r++){var s=t.children[r];C(s.tag)&&(re(s.ns)||Te(n)&&s.tag!=="svg")&&Wv(s,e,n)}}function lS(t){it(t.style)&&Ni(t.style),it(t.class)&&Ni(t.class)}function cS(t,e,n){return Us(De,t,e,n,2,!0)}function Hr(t,e,n){Gi();try{if(e)for(var r=e;r=r.$parent;){var i=r.$options.errorCaptured;if(i)for(var s=0;s<i.length;s++)try{var o=i[s].call(r,t,e,n)===!1;if(o)return}catch(a){wp(a,r,"errorCaptured hook")}}wp(t,e,n)}finally{qi()}}function An(t,e,n,r,i){var s;try{s=n?t.apply(e,n):t.call(e),s&&!s._isVue&&ru(s)&&!s._handled&&(s.catch(function(o){return Hr(o,r,i+" (Promise/async)")}),s._handled=!0)}catch(o){Hr(o,r,i)}return s}function wp(t,e,n){if(Vt.errorHandler)try{return Vt.errorHandler.call(null,t,e,n)}catch(r){r!==t&&xp(r)}xp(t)}function xp(t,e,n){if(kt&&typeof console<"u")console.error(t);else throw t}var cu=!1,uu=[],fu=!1;function No(){fu=!1;var t=uu.slice(0);uu.length=0;for(var e=0;e<t.length;e++)t[e]()}var ys;if(typeof Promise<"u"&&Ei(Promise)){var uS=Promise.resolve();ys=function(){uS.then(No),ix&&setTimeout(Ce)},cu=!0}else if(!Wi&&typeof MutationObserver<"u"&&(Ei(MutationObserver)||MutationObserver.toString()==="[object MutationObserverConstructor]")){var Do=1,fS=new MutationObserver(No),Sp=document.createTextNode(String(Do));fS.observe(Sp,{characterData:!0}),ys=function(){Do=(Do+1)%2,Sp.data=String(Do)},cu=!0}else typeof setImmediate<"u"&&Ei(setImmediate)?ys=function(){setImmediate(No)}:ys=function(){setTimeout(No,0)};function Nl(t,e){var n;if(uu.push(function(){if(t)try{t.call(e)}catch(r){Hr(r,e,"nextTick")}else n&&n(e)}),fu||(fu=!0,ys()),!t&&typeof Promise<"u")return new Promise(function(r){n=r})}function dS(t){t===void 0&&(t="$style");{if(!De)return tt;var e=De[t];return e||tt}}function pS(t){if(kt){var e=De;e&&Mv(function(){var n=e.$el,r=t(e,e._setupProxy);if(n&&n.nodeType===1){var i=n.style;for(var s in r)i.setProperty("--".concat(s),r[s])}})}}function Kv(t){me(t)&&(t={loader:t});var e=t.loader,n=t.loadingComponent,r=t.errorComponent,i=t.delay,s=i===void 0?200:i,o=t.timeout;t.suspensible;var a=t.onError,l=null,c=0,u=function(){return c++,l=null,f()},f=function(){var d;return l||(d=l=e().catch(function(p){if(p=p instanceof Error?p:new Error(String(p)),a)return new Promise(function(h,m){var g=function(){return h(u())},v=function(){return m(p)};a(p,g,v,c+1)});throw p}).then(function(p){return d!==l&&l?l:(p&&(p.__esModule||p[Symbol.toStringTag]==="Module")&&(p=p.default),p)}))};return function(){var d=f();return{component:d,delay:s,timeout:o,error:r,loading:n}}}function Gt(t){return function(e,n){if(n===void 0&&(n=De),!!n)return hS(n,t,e)}}function hS(t,e,n){var r=t.$options;r[e]=ey(r[e],n)}var mS=Gt("beforeMount"),gS=Gt("mounted"),vS=Gt("beforeUpdate"),yS=Gt("updated"),bS=Gt("beforeDestroy"),_S=Gt("destroyed"),wS=Gt("activated"),xS=Gt("deactivated"),SS=Gt("serverPrefetch"),CS=Gt("renderTracked"),kS=Gt("renderTriggered"),ES=Gt("errorCaptured");function OS(t,e){e===void 0&&(e=De),ES(t,e)}var Gv="2.7.16";function TS(t){return t}var Cp=new Vs;function Ni(t){return oa(t,Cp),Cp.clear(),t}function oa(t,e){var n,r,i=ae(t);if(!(!i&&!it(t)||t.__v_skip||Object.isFrozen(t)||t instanceof Mt)){if(t.__ob__){var s=t.__ob__.dep.id;if(e.has(s))return;e.add(s)}if(i)for(n=t.length;n--;)oa(t[n],e);else if(Je(t))oa(t.value,e);else for(r=Object.keys(t),n=r.length;n--;)oa(t[r[n]],e)}}var $S=0,fo=function(){function t(e,n,r,i,s){Ix(this,Qe&&!Qe._vm?Qe:e?e._scope:void 0),(this.vm=e)&&s&&(e._watcher=this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.before=i.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=r,this.id=++$S,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new Vs,this.newDepIds=new Vs,this.expression="",me(n)?this.getter=n:(this.getter=nx(n),this.getter||(this.getter=Ce)),this.value=this.lazy?void 0:this.get()}return t.prototype.get=function(){Gi(this);var e,n=this.vm;try{e=this.getter.call(n,n)}catch(r){if(this.user)Hr(r,n,'getter for watcher "'.concat(this.expression,'"'));else throw r}finally{this.deep&&Ni(e),qi(),this.cleanupDeps()}return e},t.prototype.addDep=function(e){var n=e.id;this.newDepIds.has(n)||(this.newDepIds.add(n),this.newDeps.push(e),this.depIds.has(n)||e.addSub(this))},t.prototype.cleanupDeps=function(){for(var e=this.deps.length;e--;){var n=this.deps[e];this.newDepIds.has(n.id)||n.removeSub(this)}var r=this.depIds;this.depIds=this.newDepIds,this.newDepIds=r,this.newDepIds.clear(),r=this.deps,this.deps=this.newDeps,this.newDeps=r,this.newDeps.length=0},t.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():hu(this)},t.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||it(e)||this.deep){var n=this.value;if(this.value=e,this.user){var r='callback for watcher "'.concat(this.expression,'"');An(this.cb,this.vm,[e,n],this.vm,r)}else this.cb.call(this.vm,e,n)}}},t.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},t.prototype.depend=function(){for(var e=this.deps.length;e--;)this.deps[e].depend()},t.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&pr(this.vm._scope.effects,this),this.active){for(var e=this.deps.length;e--;)this.deps[e].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},t}();function IS(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&qv(t,e)}var Ws;function PS(t,e){Ws.$on(t,e)}function AS(t,e){Ws.$off(t,e)}function MS(t,e){var n=Ws;return function r(){var i=e.apply(null,arguments);i!==null&&n.$off(t,r)}}function qv(t,e,n){Ws=t,Rv(e,n||{},PS,AS,MS,t),Ws=void 0}function NS(t){var e=/^hook:/;t.prototype.$on=function(n,r){var i=this;if(ae(n))for(var s=0,o=n.length;s<o;s++)i.$on(n[s],r);else(i._events[n]||(i._events[n]=[])).push(r),e.test(n)&&(i._hasHookEvent=!0);return i},t.prototype.$once=function(n,r){var i=this;function s(){i.$off(n,s),r.apply(i,arguments)}return s.fn=r,i.$on(n,s),i},t.prototype.$off=function(n,r){var i=this;if(!arguments.length)return i._events=Object.create(null),i;if(ae(n)){for(var s=0,o=n.length;s<o;s++)i.$off(n[s],r);return i}var a=i._events[n];if(!a)return i;if(!r)return i._events[n]=null,i;for(var l,c=a.length;c--;)if(l=a[c],l===r||l.fn===r){a.splice(c,1);break}return i},t.prototype.$emit=function(n){var r=this,i=r._events[n];if(i){i=i.length>1?iu(i):i;for(var s=iu(arguments,1),o='event handler for "'.concat(n,'"'),a=0,l=i.length;a<l;a++)An(i[a],r,s,r,o)}return r}}var Ar=null;function Jv(t){var e=Ar;return Ar=t,function(){Ar=e}}function DS(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._provided=n?n._provided:Object.create(null),t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function RS(t){t.prototype._update=function(e,n){var r=this,i=r.$el,s=r._vnode,o=Jv(r);r._vnode=e,s?r.$el=r.__patch__(s,e):r.$el=r.__patch__(r.$el,e,n,!1),o(),i&&(i.__vue__=null),r.$el&&(r.$el.__vue__=r);for(var a=r;a&&a.$vnode&&a.$parent&&a.$vnode===a.$parent._vnode;)a.$parent.$el=a.$el,a=a.$parent},t.prototype.$forceUpdate=function(){var e=this;e._watcher&&e._watcher.update()},t.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){en(e,"beforeDestroy"),e._isBeingDestroyed=!0;var n=e.$parent;n&&!n._isBeingDestroyed&&!e.$options.abstract&&pr(n.$children,e),e._scope.stop(),e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),en(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}function LS(t,e,n){t.$el=e,t.$options.render||(t.$options.render=Ir),en(t,"beforeMount");var r;r=function(){t._update(t._render(),n)};var i={before:function(){t._isMounted&&!t._isDestroyed&&en(t,"beforeUpdate")}};new fo(t,r,Ce,i,!0),n=!1;var s=t._preWatchers;if(s)for(var o=0;o<s.length;o++)s[o].run();return t.$vnode==null&&(t._isMounted=!0,en(t,"mounted")),t}function BS(t,e,n,r,i){var s=r.data.scopedSlots,o=t.$scopedSlots,a=!!(s&&!s.$stable||o!==tt&&!o.$stable||s&&t.$scopedSlots.$key!==s.$key||!s&&t.$scopedSlots.$key),l=!!(i||t.$options._renderChildren||a),c=t.$vnode;t.$options._parentVnode=r,t.$vnode=r,t._vnode&&(t._vnode.parent=r),t.$options._renderChildren=i;var u=r.data.attrs||tt;t._attrsProxy&&Aa(t._attrsProxy,u,c.data&&c.data.attrs||tt,t,"$attrs")&&(l=!0),t.$attrs=u,n=n||tt;var f=t.$options._parentListeners;if(t._listenersProxy&&Aa(t._listenersProxy,n,f||tt,t,"$listeners"),t.$listeners=t.$options._parentListeners=n,qv(t,n,f),e&&t.$options.props){ar(!1);for(var d=t._props,p=t.$options._propKeys||[],h=0;h<p.length;h++){var m=p[h],g=t.$options.props;d[m]=Lf(m,g,e,t)}ar(!0),t.$options.propsData=e}l&&(t.$slots=If(i,r.context),t.$forceUpdate())}function Yv(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function Af(t,e){if(e){if(t._directInactive=!1,Yv(t))return}else if(t._directInactive)return;if(t._inactive||t._inactive===null){t._inactive=!1;for(var n=0;n<t.$children.length;n++)Af(t.$children[n]);en(t,"activated")}}function Xv(t,e){if(!(e&&(t._directInactive=!0,Yv(t)))&&!t._inactive){t._inactive=!0;for(var n=0;n<t.$children.length;n++)Xv(t.$children[n]);en(t,"deactivated")}}function en(t,e,n,r){r===void 0&&(r=!0),Gi();var i=De,s=Nv();r&&or(t);var o=t.$options[e],a="".concat(e," hook");if(o)for(var l=0,c=o.length;l<c;l++)An(o[l],t,null,t,a);t._hasHookEvent&&t.$emit("hook:"+e),r&&(or(i),s&&s.on()),qi()}var kn=[],Mf=[],Ma={},du=!1,Nf=!1,wi=0;function FS(){wi=kn.length=Mf.length=0,Ma={},du=Nf=!1}var Zv=0,pu=Date.now;if(kt&&!Wi){var dc=window.performance;dc&&typeof dc.now=="function"&&pu()>document.createEvent("Event").timeStamp&&(pu=function(){return dc.now()})}var jS=function(t,e){if(t.post){if(!e.post)return 1}else if(e.post)return-1;return t.id-e.id};function zS(){Zv=pu(),Nf=!0;var t,e;for(kn.sort(jS),wi=0;wi<kn.length;wi++)t=kn[wi],t.before&&t.before(),e=t.id,Ma[e]=null,t.run();var n=Mf.slice(),r=kn.slice();FS(),US(n),VS(r),ax(),Ta&&Vt.devtools&&Ta.emit("flush")}function VS(t){for(var e=t.length;e--;){var n=t[e],r=n.vm;r&&r._watcher===n&&r._isMounted&&!r._isDestroyed&&en(r,"updated")}}function HS(t){t._inactive=!1,Mf.push(t)}function US(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Af(t[e],!0)}function hu(t){var e=t.id;if(Ma[e]==null&&!(t===hn.target&&t.noRecurse)){if(Ma[e]=!0,!Nf)kn.push(t);else{for(var n=kn.length-1;n>wi&&kn[n].id>t.id;)n--;kn.splice(n+1,0,t)}du||(du=!0,Nl(zS))}}function WS(t){var e=t.$options.provide;if(e){var n=me(e)?e.call(t):e;if(!it(n))return;for(var r=Dv(t),i=co?Reflect.ownKeys(n):Object.keys(n),s=0;s<i.length;s++){var o=i[s];Object.defineProperty(r,o,Object.getOwnPropertyDescriptor(n,o))}}}function KS(t){var e=Qv(t.$options.inject,t);e&&(ar(!1),Object.keys(e).forEach(function(n){lr(t,n,e[n])}),ar(!0))}function Qv(t,e){if(t){for(var n=Object.create(null),r=co?Reflect.ownKeys(t):Object.keys(t),i=0;i<r.length;i++){var s=r[i];if(s!=="__ob__"){var o=t[s].from;if(o in e._provided)n[s]=e._provided[o];else if("default"in t[s]){var a=t[s].default;n[s]=me(a)?a.call(e):a}}}return n}}function Df(t,e,n,r,i){var s=this,o=i.options,a;pt(r,"_uid")?(a=Object.create(r),a._original=r):(a=r,r=r._original);var l=Te(o._compiled),c=!l;this.data=t,this.props=e,this.children=n,this.parent=r,this.listeners=t.on||tt,this.injections=Qv(o.inject,r),this.slots=function(){return s.$slots||Ps(r,t.scopedSlots,s.$slots=If(n,r)),s.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Ps(r,t.scopedSlots,this.slots())}}),l&&(this.$options=o,this.$slots=this.slots(),this.$scopedSlots=Ps(r,t.scopedSlots,this.$slots)),o._scopeId?this._c=function(u,f,d,p){var h=Us(a,u,f,d,p,c);return h&&!ae(h)&&(h.fnScopeId=o._scopeId,h.fnContext=r),h}:this._c=function(u,f,d,p){return Us(a,u,f,d,p,c)}}jv(Df.prototype);function GS(t,e,n,r,i){var s=t.options,o={},a=s.props;if(C(a))for(var l in a)o[l]=Lf(l,a,e||tt);else C(n.attrs)&&Ep(o,n.attrs),C(n.props)&&Ep(o,n.props);var c=new Df(n,o,i,r,t),u=s.render.call(null,c._c,c);if(u instanceof Mt)return kp(u,n,c.parent,s);if(ae(u)){for(var f=$f(u)||[],d=new Array(f.length),p=0;p<f.length;p++)d[p]=kp(f[p],n,c.parent,s);return d}}function kp(t,e,n,r,i){var s=au(t);return s.fnContext=n,s.fnOptions=r,e.slot&&((s.data||(s.data={})).slot=e.slot),s}function Ep(t,e){for(var n in e)t[zr(n)]=e[n]}function Na(t){return t.name||t.__name||t._componentTag}var Rf={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;Rf.prepatch(n,n)}else{var r=t.componentInstance=qS(t,Ar);r.$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions,r=e.componentInstance=t.componentInstance;BS(r,n.propsData,n.listeners,e,n.children)},insert:function(t){var e=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,en(n,"mounted")),t.data.keepAlive&&(e._isMounted?HS(n):Af(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?Xv(e,!0):e.$destroy())}},Op=Object.keys(Rf);function Tp(t,e,n,r,i){if(!re(t)){var s=n.$options._base;if(it(t)&&(t=s.extend(t)),typeof t=="function"){var o;if(re(t.cid)&&(o=t,t=sS(o,s),t===void 0))return iS(o,e,n,r,i);e=e||{},Ff(t),C(e.model)&&XS(t.options,e);var a=Nx(e,t);if(Te(t.options.functional))return GS(t,a,e,n,r);var l=e.on;if(e.on=e.nativeOn,Te(t.options.abstract)){var c=e.slot;e={},c&&(e.slot=c)}JS(e);var u=Na(t.options)||i,f=new Mt("vue-component-".concat(t.cid).concat(u?"-".concat(u):""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:a,listeners:l,tag:i,children:r},o);return f}}}function qS(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},r=t.data.inlineTemplate;return C(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new t.componentOptions.Ctor(n)}function JS(t){for(var e=t.hook||(t.hook={}),n=0;n<Op.length;n++){var r=Op[n],i=e[r],s=Rf[r];i!==s&&!(i&&i._merged)&&(e[r]=i?YS(s,i):s)}}function YS(t,e){var n=function(r,i){t(r,i),e(r,i)};return n._merged=!0,n}function XS(t,e){var n=t.model&&t.model.prop||"value",r=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var i=e.on||(e.on={}),s=i[r],o=e.model.callback;C(s)?(ae(s)?s.indexOf(o)===-1:s!==o)&&(i[r]=[o].concat(s)):i[r]=o}var ZS=Ce,un=Vt.optionMergeStrategies;function Ks(t,e,n){if(n===void 0&&(n=!0),!e)return t;for(var r,i,s,o=co?Reflect.ownKeys(e):Object.keys(e),a=0;a<o.length;a++)r=o[a],r!=="__ob__"&&(i=t[r],s=e[r],!n||!pt(t,r)?Pl(t,r,s):i!==s&&ht(i)&&ht(s)&&Ks(i,s));return t}function $p(t,e,n){return n?function(){var i=me(e)?e.call(n,n):e,s=me(t)?t.call(n,n):t;return i?Ks(i,s):s}:e?t?function(){return Ks(me(e)?e.call(this,this):e,me(t)?t.call(this,this):t)}:e:t}un.data=function(t,e,n){return n?$p(t,e,n):e&&typeof e!="function"?t:$p(t,e)};function ey(t,e){var n=e?t?t.concat(e):ae(e)?e:[e]:t;return n&&QS(n)}function QS(t){for(var e=[],n=0;n<t.length;n++)e.indexOf(t[n])===-1&&e.push(t[n]);return e}_v.forEach(function(t){un[t]=ey});function e1(t,e,n,r){var i=Object.create(t||null);return e?_e(i,e):i}Il.forEach(function(t){un[t+"s"]=e1});un.watch=function(t,e,n,r){if(t===ou&&(t=void 0),e===ou&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var i={};_e(i,t);for(var s in e){var o=i[s],a=e[s];o&&!ae(o)&&(o=[o]),i[s]=o?o.concat(a):ae(a)?a:[a]}return i};un.props=un.methods=un.inject=un.computed=function(t,e,n,r){if(!t)return e;var i=Object.create(null);return _e(i,t),e&&_e(i,e),i};un.provide=function(t,e){return t?function(){var n=Object.create(null);return Ks(n,me(t)?t.call(this):t),e&&Ks(n,me(e)?e.call(this):e,!1),n}:e};var t1=function(t,e){return e===void 0?t:e};function n1(t,e){var n=t.props;if(n){var r={},i,s,o;if(ae(n))for(i=n.length;i--;)s=n[i],typeof s=="string"&&(o=zr(s),r[o]={type:null});else if(ht(n))for(var a in n)s=n[a],o=zr(a),r[o]=ht(s)?s:{type:s};t.props=r}}function r1(t,e){var n=t.inject;if(n){var r=t.inject={};if(ae(n))for(var i=0;i<n.length;i++)r[n[i]]={from:n[i]};else if(ht(n))for(var s in n){var o=n[s];r[s]=ht(o)?_e({from:s},o):{from:o}}}}function i1(t){var e=t.directives;if(e)for(var n in e){var r=e[n];me(r)&&(e[n]={bind:r,update:r})}}function Ur(t,e,n){if(me(e)&&(e=e.options),n1(e),r1(e),i1(e),!e._base&&(e.extends&&(t=Ur(t,e.extends,n)),e.mixins))for(var r=0,i=e.mixins.length;r<i;r++)t=Ur(t,e.mixins[r],n);var s={},o;for(o in t)a(o);for(o in e)pt(t,o)||a(o);function a(l){var c=un[l]||t1;s[l]=c(t[l],e[l],n,l)}return s}function Da(t,e,n,r){if(typeof n=="string"){var i=t[e];if(pt(i,n))return i[n];var s=zr(n);if(pt(i,s))return i[s];var o=Yw(s);if(pt(i,o))return i[o];var a=i[n]||i[s]||i[o];return a}}function Lf(t,e,n,r){var i=e[t],s=!pt(n,t),o=n[t],a=Pp(Boolean,i.type);if(a>-1){if(s&&!pt(i,"default"))o=!1;else if(o===""||o===lo(t)){var l=Pp(String,i.type);(l<0||a<l)&&(o=!0)}}if(o===void 0){o=s1(r,i,t);var c=kf;ar(!0),Pn(o),ar(c)}return o}function s1(t,e,n){if(pt(e,"default")){var r=e.default;return t&&t.$options.propsData&&t.$options.propsData[n]===void 0&&t._props[n]!==void 0?t._props[n]:me(r)&&mu(e.type)!=="Function"?r.call(t):r}}var o1=/^\s*function (\w+)/;function mu(t){var e=t&&t.toString().match(o1);return e?e[1]:""}function Ip(t,e){return mu(t)===mu(e)}function Pp(t,e){if(!ae(e))return Ip(e,t)?0:-1;for(var n=0,r=e.length;n<r;n++)if(Ip(e[n],t))return n;return-1}var Vn={enumerable:!0,configurable:!0,get:Ce,set:Ce};function Bf(t,e,n){Vn.get=function(){return this[e][n]},Vn.set=function(i){this[e][n]=i},Object.defineProperty(t,n,Vn)}function a1(t){var e=t.$options;if(e.props&&l1(t,e.props),Jx(t),e.methods&&p1(t,e.methods),e.data)c1(t);else{var n=Pn(t._data={});n&&n.vmCount++}e.computed&&d1(t,e.computed),e.watch&&e.watch!==ou&&h1(t,e.watch)}function l1(t,e){var n=t.$options.propsData||{},r=t._props=Of({}),i=t.$options._propKeys=[],s=!t.$parent;s||ar(!1);var o=function(l){i.push(l);var c=Lf(l,e,n,t);lr(r,l,c,void 0,!0),l in t||Bf(t,"_props",l)};for(var a in e)o(a);ar(!0)}function c1(t){var e=t.$options.data;e=t._data=me(e)?u1(e,t):e||{},ht(e)||(e={});var n=Object.keys(e),r=t.$options.props;t.$options.methods;for(var i=n.length;i--;){var s=n[i];r&&pt(r,s)||wv(s)||Bf(t,"_data",s)}var o=Pn(e);o&&o.vmCount++}function u1(t,e){Gi();try{return t.call(e,e)}catch(n){return Hr(n,e,"data()"),{}}finally{qi()}}var f1={lazy:!0};function d1(t,e){var n=t._computedWatchers=Object.create(null),r=hr();for(var i in e){var s=e[i],o=me(s)?s:s.get;r||(n[i]=new fo(t,o||Ce,Ce,f1)),i in t||ty(t,i,s)}}function ty(t,e,n){var r=!hr();me(n)?(Vn.get=r?Ap(e):Mp(n),Vn.set=Ce):(Vn.get=n.get?r&&n.cache!==!1?Ap(e):Mp(n.get):Ce,Vn.set=n.set||Ce),Object.defineProperty(t,e,Vn)}function Ap(t){return function(){var n=this._computedWatchers&&this._computedWatchers[t];if(n)return n.dirty&&n.evaluate(),hn.target&&n.depend(),n.value}}function Mp(t){return function(){return t.call(this,this)}}function p1(t,e){t.$options.props;for(var n in e)t[n]=typeof e[n]!="function"?Ce:gv(e[n],t)}function h1(t,e){for(var n in e){var r=e[n];if(ae(r))for(var i=0;i<r.length;i++)gu(t,n,r[i]);else gu(t,n,r)}}function gu(t,e,n,r){return ht(n)&&(r=n,n=n.handler),typeof n=="string"&&(n=t[n]),t.$watch(e,n,r)}function m1(t){var e={};e.get=function(){return this._data};var n={};n.get=function(){return this._props},Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=Pl,t.prototype.$delete=Ef,t.prototype.$watch=function(r,i,s){var o=this;if(ht(i))return gu(o,r,i,s);s=s||{},s.user=!0;var a=new fo(o,r,i,s);if(s.immediate){var l='callback for immediate watcher "'.concat(a.expression,'"');Gi(),An(i,o,[a.value],o,l),qi()}return function(){a.teardown()}}}var g1=0;function v1(t){t.prototype._init=function(e){var n=this;n._uid=g1++,n._isVue=!0,n.__v_skip=!0,n._scope=new Tf(!0),n._scope.parent=void 0,n._scope._vm=!0,e&&e._isComponent?y1(n,e):n.$options=Ur(Ff(n.constructor),e||{},n),n._renderProxy=n,n._self=n,DS(n),IS(n),nS(n),en(n,"beforeCreate",void 0,!1),KS(n),a1(n),WS(n),en(n,"created"),n.$options.el&&n.$mount(n.$options.el)}}function y1(t,e){var n=t.$options=Object.create(t.constructor.options),r=e._parentVnode;n.parent=e.parent,n._parentVnode=r;var i=r.componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}function Ff(t){var e=t.options;if(t.super){var n=Ff(t.super),r=t.superOptions;if(n!==r){t.superOptions=n;var i=b1(t);i&&_e(t.extendOptions,i),e=t.options=Ur(n,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function b1(t){var e,n=t.options,r=t.sealedOptions;for(var i in n)n[i]!==r[i]&&(e||(e={}),e[i]=n[i]);return e}function W(t){this._init(t)}v1(W);m1(W);NS(W);RS(W);rS(W);function _1(t){t.use=function(e){var n=this._installedPlugins||(this._installedPlugins=[]);if(n.indexOf(e)>-1)return this;var r=iu(arguments,1);return r.unshift(this),me(e.install)?e.install.apply(e,r):me(e)&&e.apply(null,r),n.push(e),this}}function w1(t){t.mixin=function(e){return this.options=Ur(this.options,e),this}}function x1(t){t.cid=0;var e=1;t.extend=function(n){n=n||{};var r=this,i=r.cid,s=n._Ctor||(n._Ctor={});if(s[i])return s[i];var o=Na(n)||Na(r.options),a=function(c){this._init(c)};return a.prototype=Object.create(r.prototype),a.prototype.constructor=a,a.cid=e++,a.options=Ur(r.options,n),a.super=r,a.options.props&&S1(a),a.options.computed&&C1(a),a.extend=r.extend,a.mixin=r.mixin,a.use=r.use,Il.forEach(function(l){a[l]=r[l]}),o&&(a.options.components[o]=a),a.superOptions=r.options,a.extendOptions=n,a.sealedOptions=_e({},a.options),s[i]=a,a}}function S1(t){var e=t.options.props;for(var n in e)Bf(t.prototype,"_props",n)}function C1(t){var e=t.options.computed;for(var n in e)ty(t.prototype,n,e[n])}function k1(t){Il.forEach(function(e){t[e]=function(n,r){return r?(e==="component"&&ht(r)&&(r.name=r.name||n,r=this.options._base.extend(r)),e==="directive"&&me(r)&&(r={bind:r,update:r}),this.options[e+"s"][n]=r,r):this.options[e+"s"][n]}})}function Np(t){return t&&(Na(t.Ctor.options)||t.tag)}function Ro(t,e){return ae(t)?t.indexOf(e)>-1:typeof t=="string"?t.split(",").indexOf(e)>-1:Uw(t)?t.test(e):!1}function Dp(t,e){var n=t.cache,r=t.keys,i=t._vnode,s=t.$vnode;for(var o in n){var a=n[o];if(a){var l=a.name;l&&!e(l)&&vu(n,o,r,i)}}s.componentOptions.children=void 0}function vu(t,e,n,r){var i=t[e];i&&(!r||i.tag!==r.tag)&&i.componentInstance.$destroy(),t[e]=null,pr(n,e)}var Rp=[String,RegExp,Array],E1={name:"keep-alive",abstract:!0,props:{include:Rp,exclude:Rp,max:[String,Number]},methods:{cacheVNode:function(){var t=this,e=t.cache,n=t.keys,r=t.vnodeToCache,i=t.keyToCache;if(r){var s=r.tag,o=r.componentInstance,a=r.componentOptions;e[i]={name:Np(a),tag:s,componentInstance:o},n.push(i),this.max&&n.length>parseInt(this.max)&&vu(e,n[0],n,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)vu(this.cache,t,this.keys)},mounted:function(){var t=this;this.cacheVNode(),this.$watch("include",function(e){Dp(t,function(n){return Ro(e,n)})}),this.$watch("exclude",function(e){Dp(t,function(n){return!Ro(e,n)})})},updated:function(){this.cacheVNode()},render:function(){var t=this.$slots.default,e=Hv(t),n=e&&e.componentOptions;if(n){var r=Np(n),i=this,s=i.include,o=i.exclude;if(s&&(!r||!Ro(s,r))||o&&r&&Ro(o,r))return e;var a=this,l=a.cache,c=a.keys,u=e.key==null?n.Ctor.cid+(n.tag?"::".concat(n.tag):""):e.key;l[u]?(e.componentInstance=l[u].componentInstance,pr(c,u),c.push(u)):(this.vnodeToCache=e,this.keyToCache=u),e.data.keepAlive=!0}return e||t&&t[0]}},O1={KeepAlive:E1};function T1(t){var e={};e.get=function(){return Vt},Object.defineProperty(t,"config",e),t.util={warn:ZS,extend:_e,mergeOptions:Ur,defineReactive:lr},t.set=Pl,t.delete=Ef,t.nextTick=Nl,t.observable=function(n){return Pn(n),n},t.options=Object.create(null),Il.forEach(function(n){t.options[n+"s"]=Object.create(null)}),t.options._base=t,_e(t.options.components,O1),_1(t),w1(t),x1(t),k1(t)}T1(W);Object.defineProperty(W.prototype,"$isServer",{get:hr});Object.defineProperty(W.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}});Object.defineProperty(W,"FunctionalRenderContext",{value:Df});W.version=Gv;var $1=rn("style,class"),I1=rn("input,textarea,option,select,progress"),P1=function(t,e,n){return n==="value"&&I1(t)&&e!=="button"||n==="selected"&&t==="option"||n==="checked"&&t==="input"||n==="muted"&&t==="video"},ny=rn("contenteditable,draggable,spellcheck"),A1=rn("events,caret,typing,plaintext-only"),M1=function(t,e){return Ra(e)||e==="false"?"false":t==="contenteditable"&&A1(e)?e:"true"},N1=rn("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),yu="http://www.w3.org/1999/xlink",jf=function(t){return t.charAt(5)===":"&&t.slice(0,5)==="xlink"},ry=function(t){return jf(t)?t.slice(6,t.length):""},Ra=function(t){return t==null||t===!1};function D1(t){for(var e=t.data,n=t,r=t;C(r.componentInstance);)r=r.componentInstance._vnode,r&&r.data&&(e=Lp(r.data,e));for(;C(n=n.parent);)n&&n.data&&(e=Lp(e,n.data));return R1(e.staticClass,e.class)}function Lp(t,e){return{staticClass:zf(t.staticClass,e.staticClass),class:C(t.class)?[t.class,e.class]:e.class}}function R1(t,e){return C(t)||C(e)?zf(t,Vf(e)):""}function zf(t,e){return t?e?t+" "+e:t:e||""}function Vf(t){return Array.isArray(t)?L1(t):it(t)?B1(t):typeof t=="string"?t:""}function L1(t){for(var e="",n,r=0,i=t.length;r<i;r++)C(n=Vf(t[r]))&&n!==""&&(e&&(e+=" "),e+=n);return e}function B1(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}var F1={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},j1=rn("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Hf=rn("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),iy=function(t){return j1(t)||Hf(t)};function z1(t){if(Hf(t))return"svg";if(t==="math")return"math"}var Lo=Object.create(null);function V1(t){if(!kt)return!0;if(iy(t))return!1;if(t=t.toLowerCase(),Lo[t]!=null)return Lo[t];var e=document.createElement(t);return t.indexOf("-")>-1?Lo[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Lo[t]=/HTMLUnknownElement/.test(e.toString())}var bu=rn("text,number,password,search,email,tel,url");function H1(t){if(typeof t=="string"){var e=document.querySelector(t);return e||document.createElement("div")}else return t}function U1(t,e){var n=document.createElement(t);return t!=="select"||e.data&&e.data.attrs&&e.data.attrs.multiple!==void 0&&n.setAttribute("multiple","multiple"),n}function W1(t,e){return document.createElementNS(F1[t],e)}function K1(t){return document.createTextNode(t)}function G1(t){return document.createComment(t)}function q1(t,e,n){t.insertBefore(e,n)}function J1(t,e){t.removeChild(e)}function Y1(t,e){t.appendChild(e)}function X1(t){return t.parentNode}function Z1(t){return t.nextSibling}function Q1(t){return t.tagName}function eC(t,e){t.textContent=e}function tC(t,e){t.setAttribute(e,"")}var nC=Object.freeze({__proto__:null,createElement:U1,createElementNS:W1,createTextNode:K1,createComment:G1,insertBefore:q1,removeChild:J1,appendChild:Y1,parentNode:X1,nextSibling:Z1,tagName:Q1,setTextContent:eC,setStyleScope:tC}),rC={create:function(t,e){xi(e)},update:function(t,e){t.data.ref!==e.data.ref&&(xi(t,!0),xi(e))},destroy:function(t){xi(t,!0)}};function xi(t,e){var n=t.data.ref;if(C(n)){var r=t.context,i=t.componentInstance||t.elm,s=e?null:i,o=e?void 0:i;if(me(n)){An(n,r,[s],r,"template ref function");return}var a=t.data.refInFor,l=typeof n=="string"||typeof n=="number",c=Je(n),u=r.$refs;if(l||c){if(a){var f=l?u[n]:n.value;e?ae(f)&&pr(f,i):ae(f)?f.includes(i)||f.push(i):l?(u[n]=[i],Bp(r,n,u[n])):n.value=[i]}else if(l){if(e&&u[n]!==i)return;u[n]=o,Bp(r,n,s)}else if(c){if(e&&n.value!==i)return;n.value=s}}}}function Bp(t,e,n){var r=t._setupState;r&&pt(r,e)&&(Je(r[e])?r[e].value=n:r[e]=n)}var Gn=new Mt("",{},[]),cs=["create","activate","update","remove","destroy"];function _r(t,e){return t.key===e.key&&t.asyncFactory===e.asyncFactory&&(t.tag===e.tag&&t.isComment===e.isComment&&C(t.data)===C(e.data)&&iC(t,e)||Te(t.isAsyncPlaceholder)&&re(e.asyncFactory.error))}function iC(t,e){if(t.tag!=="input")return!0;var n,r=C(n=t.data)&&C(n=n.attrs)&&n.type,i=C(n=e.data)&&C(n=n.attrs)&&n.type;return r===i||bu(r)&&bu(i)}function sC(t,e,n){var r,i,s={};for(r=e;r<=n;++r)i=t[r].key,C(i)&&(s[i]=r);return s}function oC(t){var e,n,r={},i=t.modules,s=t.nodeOps;for(e=0;e<cs.length;++e)for(r[cs[e]]=[],n=0;n<i.length;++n)C(i[n][cs[e]])&&r[cs[e]].push(i[n][cs[e]]);function o(b){return new Mt(s.tagName(b).toLowerCase(),{},[],void 0,b)}function a(b,_){function O(){--O.listeners===0&&l(b)}return O.listeners=_,O}function l(b){var _=s.parentNode(b);C(_)&&s.removeChild(_,b)}function c(b,_,O,I,R,U,q){if(C(b.elm)&&C(U)&&(b=U[q]=au(b)),b.isRootInsert=!R,!u(b,_,O,I)){var J=b.data,Y=b.children,S=b.tag;C(S)?(b.elm=b.ns?s.createElementNS(b.ns,S):s.createElement(S,b),v(b),h(b,Y,_),C(J)&&g(b,_),p(O,b.elm,I)):Te(b.isComment)?(b.elm=s.createComment(b.text),p(O,b.elm,I)):(b.elm=s.createTextNode(b.text),p(O,b.elm,I))}}function u(b,_,O,I){var R=b.data;if(C(R)){var U=C(b.componentInstance)&&R.keepAlive;if(C(R=R.hook)&&C(R=R.init)&&R(b,!1),C(b.componentInstance))return f(b,_),p(O,b.elm,I),Te(U)&&d(b,_,O,I),!0}}function f(b,_){C(b.data.pendingInsert)&&(_.push.apply(_,b.data.pendingInsert),b.data.pendingInsert=null),b.elm=b.componentInstance.$el,m(b)?(g(b,_),v(b)):(xi(b),_.push(b))}function d(b,_,O,I){for(var R,U=b;U.componentInstance;)if(U=U.componentInstance._vnode,C(R=U.data)&&C(R=R.transition)){for(R=0;R<r.activate.length;++R)r.activate[R](Gn,U);_.push(U);break}p(O,b.elm,I)}function p(b,_,O){C(b)&&(C(O)?s.parentNode(O)===b&&s.insertBefore(b,_,O):s.appendChild(b,_))}function h(b,_,O){if(ae(_))for(var I=0;I<_.length;++I)c(_[I],O,b.elm,null,!0,_,I);else ao(b.text)&&s.appendChild(b.elm,s.createTextNode(String(b.text)))}function m(b){for(;b.componentInstance;)b=b.componentInstance._vnode;return C(b.tag)}function g(b,_){for(var O=0;O<r.create.length;++O)r.create[O](Gn,b);e=b.data.hook,C(e)&&(C(e.create)&&e.create(Gn,b),C(e.insert)&&_.push(b))}function v(b){var _;if(C(_=b.fnScopeId))s.setStyleScope(b.elm,_);else for(var O=b;O;)C(_=O.context)&&C(_=_.$options._scopeId)&&s.setStyleScope(b.elm,_),O=O.parent;C(_=Ar)&&_!==b.context&&_!==b.fnContext&&C(_=_.$options._scopeId)&&s.setStyleScope(b.elm,_)}function x(b,_,O,I,R,U){for(;I<=R;++I)c(O[I],U,b,_,!1,O,I)}function k(b){var _,O,I=b.data;if(C(I))for(C(_=I.hook)&&C(_=_.destroy)&&_(b),_=0;_<r.destroy.length;++_)r.destroy[_](b);if(C(_=b.children))for(O=0;O<b.children.length;++O)k(b.children[O])}function T(b,_,O){for(;_<=O;++_){var I=b[_];C(I)&&(C(I.tag)?(P(I),k(I)):l(I.elm))}}function P(b,_){if(C(_)||C(b.data)){var O,I=r.remove.length+1;for(C(_)?_.listeners+=I:_=a(b.elm,I),C(O=b.componentInstance)&&C(O=O._vnode)&&C(O.data)&&P(O,_),O=0;O<r.remove.length;++O)r.remove[O](b,_);C(O=b.data.hook)&&C(O=O.remove)?O(b,_):_()}else l(b.elm)}function D(b,_,O,I,R){for(var U=0,q=0,J=_.length-1,Y=_[0],S=_[J],w=O.length-1,y=O[0],E=O[w],N,j,X,de,we=!R;U<=J&&q<=w;)re(Y)?Y=_[++U]:re(S)?S=_[--J]:_r(Y,y)?(L(Y,y,I,O,q),Y=_[++U],y=O[++q]):_r(S,E)?(L(S,E,I,O,w),S=_[--J],E=O[--w]):_r(Y,E)?(L(Y,E,I,O,w),we&&s.insertBefore(b,Y.elm,s.nextSibling(S.elm)),Y=_[++U],E=O[--w]):_r(S,y)?(L(S,y,I,O,q),we&&s.insertBefore(b,S.elm,Y.elm),S=_[--J],y=O[++q]):(re(N)&&(N=sC(_,U,J)),j=C(y.key)?N[y.key]:H(y,_,U,J),re(j)?c(y,I,b,Y.elm,!1,O,q):(X=_[j],_r(X,y)?(L(X,y,I,O,q),_[j]=void 0,we&&s.insertBefore(b,X.elm,Y.elm)):c(y,I,b,Y.elm,!1,O,q)),y=O[++q]);U>J?(de=re(O[w+1])?null:O[w+1].elm,x(b,de,O,q,w,I)):q>w&&T(_,U,J)}function H(b,_,O,I){for(var R=O;R<I;R++){var U=_[R];if(C(U)&&_r(b,U))return R}}function L(b,_,O,I,R,U){if(b!==_){C(_.elm)&&C(I)&&(_=I[R]=au(_));var q=_.elm=b.elm;if(Te(b.isAsyncPlaceholder)){C(_.asyncFactory.resolved)?Q(b.elm,_,O):_.isAsyncPlaceholder=!0;return}if(Te(_.isStatic)&&Te(b.isStatic)&&_.key===b.key&&(Te(_.isCloned)||Te(_.isOnce))){_.componentInstance=b.componentInstance;return}var J,Y=_.data;C(Y)&&C(J=Y.hook)&&C(J=J.prepatch)&&J(b,_);var S=b.children,w=_.children;if(C(Y)&&m(_)){for(J=0;J<r.update.length;++J)r.update[J](b,_);C(J=Y.hook)&&C(J=J.update)&&J(b,_)}re(_.text)?C(S)&&C(w)?S!==w&&D(q,S,w,O,U):C(w)?(C(b.text)&&s.setTextContent(q,""),x(q,null,w,0,w.length-1,O)):C(S)?T(S,0,S.length-1):C(b.text)&&s.setTextContent(q,""):b.text!==_.text&&s.setTextContent(q,_.text),C(Y)&&C(J=Y.hook)&&C(J=J.postpatch)&&J(b,_)}}function M(b,_,O){if(Te(O)&&C(b.parent))b.parent.data.pendingInsert=_;else for(var I=0;I<_.length;++I)_[I].data.hook.insert(_[I])}var z=rn("attrs,class,staticClass,staticStyle,key");function Q(b,_,O,I){var R,U=_.tag,q=_.data,J=_.children;if(I=I||q&&q.pre,_.elm=b,Te(_.isComment)&&C(_.asyncFactory))return _.isAsyncPlaceholder=!0,!0;if(C(q)&&(C(R=q.hook)&&C(R=R.init)&&R(_,!0),C(R=_.componentInstance)))return f(_,O),!0;if(C(U)){if(C(J))if(!b.hasChildNodes())h(_,J,O);else if(C(R=q)&&C(R=R.domProps)&&C(R=R.innerHTML)){if(R!==b.innerHTML)return!1}else{for(var Y=!0,S=b.firstChild,w=0;w<J.length;w++){if(!S||!Q(S,J[w],O,I)){Y=!1;break}S=S.nextSibling}if(!Y||S)return!1}if(C(q)){var y=!1;for(var E in q)if(!z(E)){y=!0,g(_,O);break}!y&&q.class&&Ni(q.class)}}else b.data!==_.text&&(b.data=_.text);return!0}return function(_,O,I,R){if(re(O)){C(_)&&k(_);return}var U=!1,q=[];if(re(_))U=!0,c(O,q);else{var J=C(_.nodeType);if(!J&&_r(_,O))L(_,O,q,null,null,R);else{if(J){if(_.nodeType===1&&_.hasAttribute(cp)&&(_.removeAttribute(cp),I=!0),Te(I)&&Q(_,O,q))return M(O,q,!0),_;_=o(_)}var Y=_.elm,S=s.parentNode(Y);if(c(O,q,Y._leaveCb?null:S,s.nextSibling(Y)),C(O.parent))for(var w=O.parent,y=m(O);w;){for(var E=0;E<r.destroy.length;++E)r.destroy[E](w);if(w.elm=O.elm,y){for(var N=0;N<r.create.length;++N)r.create[N](Gn,w);var j=w.data.hook.insert;if(j.merged)for(var X=j.fns.slice(1),de=0;de<X.length;de++)X[de]()}else xi(w);w=w.parent}C(S)?T([_],0,0):C(_.tag)&&k(_)}}return M(O,q,U),O.elm}}var aC={create:pc,update:pc,destroy:function(e){pc(e,Gn)}};function pc(t,e){(t.data.directives||e.data.directives)&&lC(t,e)}function lC(t,e){var n=t===Gn,r=e===Gn,i=Fp(t.data.directives,t.context),s=Fp(e.data.directives,e.context),o=[],a=[],l,c,u;for(l in s)c=i[l],u=s[l],c?(u.oldValue=c.value,u.oldArg=c.arg,us(u,"update",e,t),u.def&&u.def.componentUpdated&&a.push(u)):(us(u,"bind",e,t),u.def&&u.def.inserted&&o.push(u));if(o.length){var f=function(){for(var d=0;d<o.length;d++)us(o[d],"inserted",e,t)};n?Kn(e,"insert",f):f()}if(a.length&&Kn(e,"postpatch",function(){for(var d=0;d<a.length;d++)us(a[d],"componentUpdated",e,t)}),!n)for(l in i)s[l]||us(i[l],"unbind",t,t,r)}var cC=Object.create(null);function Fp(t,e){var n=Object.create(null);if(!t)return n;var r,i;for(r=0;r<t.length;r++){if(i=t[r],i.modifiers||(i.modifiers=cC),n[uC(i)]=i,e._setupState&&e._setupState.__sfc){var s=i.def||Da(e,"_setupState","v-"+i.name);typeof s=="function"?i.def={bind:s,update:s}:i.def=s}i.def=i.def||Da(e.$options,"directives",i.name)}return n}function uC(t){return t.rawName||"".concat(t.name,".").concat(Object.keys(t.modifiers||{}).join("."))}function us(t,e,n,r,i){var s=t.def&&t.def[e];if(s)try{s(n.elm,t,n,r,i)}catch(o){Hr(o,n.context,"directive ".concat(t.name," ").concat(e," hook"))}}var fC=[rC,aC];function jp(t,e){var n=e.componentOptions;if(!(C(n)&&n.Ctor.options.inheritAttrs===!1)&&!(re(t.data.attrs)&&re(e.data.attrs))){var r,i,s,o=e.elm,a=t.data.attrs||{},l=e.data.attrs||{};(C(l.__ob__)||Te(l._v_attr_proxy))&&(l=e.data.attrs=_e({},l));for(r in l)i=l[r],s=a[r],s!==i&&zp(o,r,i,e.data.pre);(Wi||xv)&&l.value!==a.value&&zp(o,"value",l.value);for(r in a)re(l[r])&&(jf(r)?o.removeAttributeNS(yu,ry(r)):ny(r)||o.removeAttribute(r))}}function zp(t,e,n,r){r||t.tagName.indexOf("-")>-1?Vp(t,e,n):N1(e)?Ra(n)?t.removeAttribute(e):(n=e==="allowfullscreen"&&t.tagName==="EMBED"?"true":e,t.setAttribute(e,n)):ny(e)?t.setAttribute(e,M1(e,n)):jf(e)?Ra(n)?t.removeAttributeNS(yu,ry(e)):t.setAttributeNS(yu,e,n):Vp(t,e,n)}function Vp(t,e,n){if(Ra(n))t.removeAttribute(e);else{if(Wi&&!Ki&&t.tagName==="TEXTAREA"&&e==="placeholder"&&n!==""&&!t.__ieph){var r=function(i){i.stopImmediatePropagation(),t.removeEventListener("input",r)};t.addEventListener("input",r),t.__ieph=!0}t.setAttribute(e,n)}}var dC={create:jp,update:jp};function Hp(t,e){var n=e.elm,r=e.data,i=t.data;if(!(re(r.staticClass)&&re(r.class)&&(re(i)||re(i.staticClass)&&re(i.class)))){var s=D1(e),o=n._transitionClasses;C(o)&&(s=zf(s,Vf(o))),s!==n._prevClass&&(n.setAttribute("class",s),n._prevClass=s)}}var pC={create:Hp,update:Hp},hc="__r",mc="__c";function hC(t){if(C(t[hc])){var e=Wi?"change":"input";t[e]=[].concat(t[hc],t[e]||[]),delete t[hc]}C(t[mc])&&(t.change=[].concat(t[mc],t.change||[]),delete t[mc])}var Gs;function mC(t,e,n){var r=Gs;return function i(){var s=e.apply(null,arguments);s!==null&&sy(t,i,n,r)}}var gC=cu&&!(up&&Number(up[1])<=53);function vC(t,e,n,r){if(gC){var i=Zv,s=e;e=s._wrapper=function(o){if(o.target===o.currentTarget||o.timeStamp>=i||o.timeStamp<=0||o.target.ownerDocument!==document)return s.apply(this,arguments)}}Gs.addEventListener(t,e,Sv?{capture:n,passive:r}:n)}function sy(t,e,n,r){(r||Gs).removeEventListener(t,e._wrapper||e,n)}function gc(t,e){if(!(re(t.data.on)&&re(e.data.on))){var n=e.data.on||{},r=t.data.on||{};Gs=e.elm||t.elm,hC(n),Rv(n,r,vC,sy,mC,e.context),Gs=void 0}}var yC={create:gc,update:gc,destroy:function(t){return gc(t,Gn)}},Bo;function Up(t,e){if(!(re(t.data.domProps)&&re(e.data.domProps))){var n,r,i=e.elm,s=t.data.domProps||{},o=e.data.domProps||{};(C(o.__ob__)||Te(o._v_attr_proxy))&&(o=e.data.domProps=_e({},o));for(n in s)n in o||(i[n]="");for(n in o){if(r=o[n],n==="textContent"||n==="innerHTML"){if(e.children&&(e.children.length=0),r===s[n])continue;i.childNodes.length===1&&i.removeChild(i.childNodes[0])}if(n==="value"&&i.tagName!=="PROGRESS"){i._value=r;var a=re(r)?"":String(r);bC(i,a)&&(i.value=a)}else if(n==="innerHTML"&&Hf(i.tagName)&&re(i.innerHTML)){Bo=Bo||document.createElement("div"),Bo.innerHTML="<svg>".concat(r,"</svg>");for(var l=Bo.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;l.firstChild;)i.appendChild(l.firstChild)}else if(r!==s[n])try{i[n]=r}catch{}}}}function bC(t,e){return!t.composing&&(t.tagName==="OPTION"||_C(t,e)||wC(t,e))}function _C(t,e){var n=!0;try{n=document.activeElement!==t}catch{}return n&&t.value!==e}function wC(t,e){var n=t.value,r=t._vModifiers;if(C(r)){if(r.number)return zs(n)!==zs(e);if(r.trim)return n.trim()!==e.trim()}return n!==e}var xC={create:Up,update:Up},SC=Xr(function(t){var e={},n=/;(?![^(]*\))/g,r=/:(.+)/;return t.split(n).forEach(function(i){if(i){var s=i.split(r);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e});function vc(t){var e=oy(t.style);return t.staticStyle?_e(t.staticStyle,e):e}function oy(t){return Array.isArray(t)?vv(t):typeof t=="string"?SC(t):t}function CC(t,e){for(var n={},r,i=t;i.componentInstance;)i=i.componentInstance._vnode,i&&i.data&&(r=vc(i.data))&&_e(n,r);(r=vc(t.data))&&_e(n,r);for(var s=t;s=s.parent;)s.data&&(r=vc(s.data))&&_e(n,r);return n}var kC=/^--/,Wp=/\s*!important$/,Kp=function(t,e,n){if(kC.test(e))t.style.setProperty(e,n);else if(Wp.test(n))t.style.setProperty(lo(e),n.replace(Wp,""),"important");else{var r=EC(e);if(Array.isArray(n))for(var i=0,s=n.length;i<s;i++)t.style[r]=n[i];else t.style[r]=n}},Gp=["Webkit","Moz","ms"],Fo,EC=Xr(function(t){if(Fo=Fo||document.createElement("div").style,t=zr(t),t!=="filter"&&t in Fo)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<Gp.length;n++){var r=Gp[n]+e;if(r in Fo)return r}});function qp(t,e){var n=e.data,r=t.data;if(!(re(n.staticStyle)&&re(n.style)&&re(r.staticStyle)&&re(r.style))){var i,s,o=e.elm,a=r.staticStyle,l=r.normalizedStyle||r.style||{},c=a||l,u=oy(e.data.style)||{};e.data.normalizedStyle=C(u.__ob__)?_e({},u):u;var f=CC(e);for(s in c)re(f[s])&&Kp(o,s,"");for(s in f)i=f[s],Kp(o,s,i??"")}}var OC={create:qp,update:qp},ay=/\s+/;function ly(t,e){if(!(!e||!(e=e.trim())))if(t.classList)e.indexOf(" ")>-1?e.split(ay).forEach(function(r){return t.classList.add(r)}):t.classList.add(e);else{var n=" ".concat(t.getAttribute("class")||""," ");n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function cy(t,e){if(!(!e||!(e=e.trim())))if(t.classList)e.indexOf(" ")>-1?e.split(ay).forEach(function(i){return t.classList.remove(i)}):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var n=" ".concat(t.getAttribute("class")||""," "),r=" "+e+" ";n.indexOf(r)>=0;)n=n.replace(r," ");n=n.trim(),n?t.setAttribute("class",n):t.removeAttribute("class")}}function uy(t){if(t){if(typeof t=="object"){var e={};return t.css!==!1&&_e(e,Jp(t.name||"v")),_e(e,t),e}else if(typeof t=="string")return Jp(t)}}var Jp=Xr(function(t){return{enterClass:"".concat(t,"-enter"),enterToClass:"".concat(t,"-enter-to"),enterActiveClass:"".concat(t,"-enter-active"),leaveClass:"".concat(t,"-leave"),leaveToClass:"".concat(t,"-leave-to"),leaveActiveClass:"".concat(t,"-leave-active")}}),fy=kt&&!Ki,gi="transition",yc="animation",aa="transition",La="transitionend",_u="animation",dy="animationend";fy&&(window.ontransitionend===void 0&&window.onwebkittransitionend!==void 0&&(aa="WebkitTransition",La="webkitTransitionEnd"),window.onanimationend===void 0&&window.onwebkitanimationend!==void 0&&(_u="WebkitAnimation",dy="webkitAnimationEnd"));var Yp=kt?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function py(t){Yp(function(){Yp(t)})}function Mr(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),ly(t,e))}function En(t,e){t._transitionClasses&&pr(t._transitionClasses,e),cy(t,e)}function hy(t,e,n){var r=my(t,e),i=r.type,s=r.timeout,o=r.propCount;if(!i)return n();var a=i===gi?La:dy,l=0,c=function(){t.removeEventListener(a,u),n()},u=function(f){f.target===t&&++l>=o&&c()};setTimeout(function(){l<o&&c()},s+1),t.addEventListener(a,u)}var TC=/\b(transform|all)(,|$)/;function my(t,e){var n=window.getComputedStyle(t),r=(n[aa+"Delay"]||"").split(", "),i=(n[aa+"Duration"]||"").split(", "),s=Xp(r,i),o=(n[_u+"Delay"]||"").split(", "),a=(n[_u+"Duration"]||"").split(", "),l=Xp(o,a),c,u=0,f=0;e===gi?s>0&&(c=gi,u=s,f=i.length):e===yc?l>0&&(c=yc,u=l,f=a.length):(u=Math.max(s,l),c=u>0?s>l?gi:yc:null,f=c?c===gi?i.length:a.length:0);var d=c===gi&&TC.test(n[aa+"Property"]);return{type:c,timeout:u,propCount:f,hasTransform:d}}function Xp(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map(function(n,r){return Zp(n)+Zp(t[r])}))}function Zp(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function wu(t,e){var n=t.elm;C(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var r=uy(t.data.transition);if(!re(r)&&!(C(n._enterCb)||n.nodeType!==1)){for(var i=r.css,s=r.type,o=r.enterClass,a=r.enterToClass,l=r.enterActiveClass,c=r.appearClass,u=r.appearToClass,f=r.appearActiveClass,d=r.beforeEnter,p=r.enter,h=r.afterEnter,m=r.enterCancelled,g=r.beforeAppear,v=r.appear,x=r.afterAppear,k=r.appearCancelled,T=r.duration,P=Ar,D=Ar.$vnode;D&&D.parent;)P=D.context,D=D.parent;var H=!P._isMounted||!t.isRootInsert;if(!(H&&!v&&v!=="")){var L=H&&c?c:o,M=H&&f?f:l,z=H&&u?u:a,Q=H&&g||d,b=H&&me(v)?v:p,_=H&&x||h,O=H&&k||m,I=zs(it(T)?T.enter:T),R=i!==!1&&!Ki,U=Uf(b),q=n._enterCb=Oa(function(){R&&(En(n,z),En(n,M)),q.cancelled?(R&&En(n,L),O&&O(n)):_&&_(n),n._enterCb=null});t.data.show||Kn(t,"insert",function(){var J=n.parentNode,Y=J&&J._pending&&J._pending[t.key];Y&&Y.tag===t.tag&&Y.elm._leaveCb&&Y.elm._leaveCb(),b&&b(n,q)}),Q&&Q(n),R&&(Mr(n,L),Mr(n,M),py(function(){En(n,L),q.cancelled||(Mr(n,z),U||(vy(I)?setTimeout(q,I):hy(n,s,q)))})),t.data.show&&(e&&e(),b&&b(n,q)),!R&&!U&&q()}}}function gy(t,e){var n=t.elm;C(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var r=uy(t.data.transition);if(re(r)||n.nodeType!==1)return e();if(C(n._leaveCb))return;var i=r.css,s=r.type,o=r.leaveClass,a=r.leaveToClass,l=r.leaveActiveClass,c=r.beforeLeave,u=r.leave,f=r.afterLeave,d=r.leaveCancelled,p=r.delayLeave,h=r.duration,m=i!==!1&&!Ki,g=Uf(u),v=zs(it(h)?h.leave:h),x=n._leaveCb=Oa(function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),m&&(En(n,a),En(n,l)),x.cancelled?(m&&En(n,o),d&&d(n)):(e(),f&&f(n)),n._leaveCb=null});p?p(k):k();function k(){x.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),c&&c(n),m&&(Mr(n,o),Mr(n,l),py(function(){En(n,o),x.cancelled||(Mr(n,a),g||(vy(v)?setTimeout(x,v):hy(n,s,x)))})),u&&u(n,x),!m&&!g&&x())}}function vy(t){return typeof t=="number"&&!isNaN(t)}function Uf(t){if(re(t))return!1;var e=t.fns;return C(e)?Uf(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function Qp(t,e){e.data.show!==!0&&wu(e)}var $C=kt?{create:Qp,activate:Qp,remove:function(t,e){t.data.show!==!0?gy(t,e):e()}}:{},IC=[dC,pC,yC,xC,OC,$C],PC=IC.concat(fC),AC=oC({nodeOps:nC,modules:PC});Ki&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&Wf(t,"input")});var yy={inserted:function(t,e,n,r){n.tag==="select"?(r.elm&&!r.elm._vOptions?Kn(n,"postpatch",function(){yy.componentUpdated(t,e,n)}):eh(t,e,n.context),t._vOptions=[].map.call(t.options,Ba)):(n.tag==="textarea"||bu(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",MC),t.addEventListener("compositionend",rh),t.addEventListener("change",rh),Ki&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if(n.tag==="select"){eh(t,e,n.context);var r=t._vOptions,i=t._vOptions=[].map.call(t.options,Ba);if(i.some(function(o,a){return!Vr(o,r[a])})){var s=t.multiple?e.value.some(function(o){return nh(o,i)}):e.value!==e.oldValue&&nh(e.value,i);s&&Wf(t,"change")}}}};function eh(t,e,n){th(t,e),(Wi||xv)&&setTimeout(function(){th(t,e)},0)}function th(t,e,n){var r=e.value,i=t.multiple;if(!(i&&!Array.isArray(r))){for(var s,o,a=0,l=t.options.length;a<l;a++)if(o=t.options[a],i)s=bv(r,Ba(o))>-1,o.selected!==s&&(o.selected=s);else if(Vr(Ba(o),r)){t.selectedIndex!==a&&(t.selectedIndex=a);return}i||(t.selectedIndex=-1)}}function nh(t,e){return e.every(function(n){return!Vr(n,t)})}function Ba(t){return"_value"in t?t._value:t.value}function MC(t){t.target.composing=!0}function rh(t){t.target.composing&&(t.target.composing=!1,Wf(t.target,"input"))}function Wf(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function xu(t){return t.componentInstance&&(!t.data||!t.data.transition)?xu(t.componentInstance._vnode):t}var NC={bind:function(t,e,n){var r=e.value;n=xu(n);var i=n.data&&n.data.transition,s=t.__vOriginalDisplay=t.style.display==="none"?"":t.style.display;r&&i?(n.data.show=!0,wu(n,function(){t.style.display=s})):t.style.display=r?s:"none"},update:function(t,e,n){var r=e.value,i=e.oldValue;if(!r!=!i){n=xu(n);var s=n.data&&n.data.transition;s?(n.data.show=!0,r?wu(n,function(){t.style.display=t.__vOriginalDisplay}):gy(n,function(){t.style.display="none"})):t.style.display=r?t.__vOriginalDisplay:"none"}},unbind:function(t,e,n,r,i){i||(t.style.display=t.__vOriginalDisplay)}},DC={model:yy,show:NC},by={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Su(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?Su(Hv(e.children)):t}function _y(t){var e={},n=t.$options;for(var r in n.propsData)e[r]=t[r];var i=n._parentListeners;for(var r in i)e[zr(r)]=i[r];return e}function ih(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function RC(t){for(;t=t.parent;)if(t.data.transition)return!0}function LC(t,e){return e.key===t.key&&e.tag===t.tag}var BC=function(t){return t.tag||Hs(t)},FC=function(t){return t.name==="show"},jC={name:"transition",props:by,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(BC),!!n.length)){var r=this.mode,i=n[0];if(RC(this.$vnode))return i;var s=Su(i);if(!s)return i;if(this._leaving)return ih(t,i);var o="__transition-".concat(this._uid,"-");s.key=s.key==null?s.isComment?o+"comment":o+s.tag:ao(s.key)?String(s.key).indexOf(o)===0?s.key:o+s.key:s.key;var a=(s.data||(s.data={})).transition=_y(this),l=this._vnode,c=Su(l);if(s.data.directives&&s.data.directives.some(FC)&&(s.data.show=!0),c&&c.data&&!LC(s,c)&&!Hs(c)&&!(c.componentInstance&&c.componentInstance._vnode.isComment)){var u=c.data.transition=_e({},a);if(r==="out-in")return this._leaving=!0,Kn(u,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),ih(t,i);if(r==="in-out"){if(Hs(s))return l;var f,d=function(){f()};Kn(a,"afterEnter",d),Kn(a,"enterCancelled",d),Kn(u,"delayLeave",function(p){f=p})}}return i}}},wy=_e({tag:String,moveClass:String},by);delete wy.mode;var zC={props:wy,beforeMount:function(){var t=this,e=this._update;this._update=function(n,r){var i=Jv(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,i(),e.call(t,n,r)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],s=this.children=[],o=_y(this),a=0;a<i.length;a++){var l=i[a];l.tag&&l.key!=null&&String(l.key).indexOf("__vlist")!==0&&(s.push(l),n[l.key]=l,(l.data||(l.data={})).transition=o)}if(r){for(var c=[],u=[],a=0;a<r.length;a++){var l=r[a];l.data.transition=o,l.data.pos=l.elm.getBoundingClientRect(),n[l.key]?c.push(l):u.push(l)}this.kept=t(e,null,c),this.removed=u}return t(e,null,s)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";!t.length||!this.hasMove(t[0].elm,e)||(t.forEach(VC),t.forEach(HC),t.forEach(UC),this._reflow=document.body.offsetHeight,t.forEach(function(n){if(n.data.moved){var r=n.elm,i=r.style;Mr(r,e),i.transform=i.WebkitTransform=i.transitionDuration="",r.addEventListener(La,r._moveCb=function s(o){o&&o.target!==r||(!o||/transform$/.test(o.propertyName))&&(r.removeEventListener(La,s),r._moveCb=null,En(r,e))})}}))},methods:{hasMove:function(t,e){if(!fy)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(i){cy(n,i)}),ly(n,e),n.style.display="none",this.$el.appendChild(n);var r=my(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}};function VC(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function HC(t){t.data.newPos=t.elm.getBoundingClientRect()}function UC(t){var e=t.data.pos,n=t.data.newPos,r=e.left-n.left,i=e.top-n.top;if(r||i){t.data.moved=!0;var s=t.elm.style;s.transform=s.WebkitTransform="translate(".concat(r,"px,").concat(i,"px)"),s.transitionDuration="0s"}}var WC={Transition:jC,TransitionGroup:zC};W.config.mustUseProp=P1;W.config.isReservedTag=iy;W.config.isReservedAttr=$1;W.config.getTagNamespace=z1;W.config.isUnknownElement=V1;_e(W.options.directives,DC);_e(W.options.components,WC);W.prototype.__patch__=kt?AC:Ce;W.prototype.$mount=function(t,e){return t=t&&kt?H1(t):void 0,LS(this,t,e)};kt&&setTimeout(function(){Vt.devtools&&Ta&&Ta.emit("init",W)},0);const KC=Object.freeze(Object.defineProperty({__proto__:null,EffectScope:Tf,computed:Cx,customRef:yx,default:W,defineAsyncComponent:Kv,defineComponent:TS,del:Ef,effectScope:$x,getCurrentInstance:sx,getCurrentScope:Nv,h:cS,inject:Mx,isProxy:fx,isReactive:Pr,isReadonly:Zr,isRef:Je,isShallow:Ia,markRaw:dx,mergeDefaults:tS,nextTick:Nl,onActivated:wS,onBeforeMount:mS,onBeforeUnmount:bS,onBeforeUpdate:vS,onDeactivated:xS,onErrorCaptured:OS,onMounted:gS,onRenderTracked:CS,onRenderTriggered:kS,onScopeDispose:Px,onServerPrefetch:SS,onUnmounted:_S,onUpdated:yS,provide:Ax,proxyRefs:vx,reactive:ux,readonly:Pv,ref:px,set:Pl,shallowReactive:Of,shallowReadonly:Sx,shallowRef:hx,toRaw:Tv,toRef:Iv,toRefs:bx,triggerRef:mx,unref:gx,useAttrs:Qx,useCssModule:dS,useCssVars:pS,useListeners:eS,useSlots:Zx,version:Gv,watch:Tx,watchEffect:Ex,watchPostEffect:Mv,watchSyncEffect:Ox},Symbol.toStringTag,{value:"Module"}));function A(t,e,n,r,i,s,o,a){var l=typeof t=="function"?t.options:t;return e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),s&&(l._scopeId="data-v-"+s),{exports:t,options:l}}const GC={name:"StaleRecordError",methods:{reloadPage(){window.location.reload()}}};var qC=function(){var e=this,n=e._self._c;return n("div",{staticClass:"pt-8 pb-4"},[n("p",{staticClass:"text-gray-600 text-justify"},[e._v(" "+e._s(e.$t("errorModals.staleRecord.message"))+" ")]),n("div",{staticClass:"mt-8 text-center"},[n("button",{staticClass:"big-submit-button bg-editor-primary",on:{click:e.reloadPage}},[e._v(" "+e._s(e.$t("errorModals.staleRecord.button"))+" ")])])])},JC=[],YC=A(GC,qC,JC,!1,null,null);const XC=YC.exports,ZC={methods:{openErrorModal(t){let e=null;switch(t){case"staleRecord":e=XC;break;default:return}this.openModal({title:this.$t(`errorModals.${t}.title`),component:e,props:{modalClass:"w-144"}})}}},QC={name:"App",mixins:[ZC],computed:{uiOpenErrorModal(){return this.$store.state.ui.openErrorModal},uiErrorModalType(){return this.$store.state.ui.errorModalType}},watch:{"currentPage.path"(t,e){t!==e&&e!==void 0&&t!=this.$router.currentRoute.params.pageId&&this.$router.push({name:"editPage",params:{pageId:t}})},uiOpenErrorModal(t,e){t&&!e&&this.openErrorModal(this.uiErrorModalType)}}};var ek=function(){var e=this,n=e._self._c;return n("div",[n("router-view"),n("uikit-modal-root")],1)},tk=[],nk=A(QC,ek,tk,!1,null,null);const rk=nk.exports;/*!
 * vuex v3.6.2
 * (c) 2021 Evan You
 * @license MIT
 */function ik(t){var e=Number(t.version.split(".")[0]);if(e>=2)t.mixin({beforeCreate:r});else{var n=t.prototype._init;t.prototype._init=function(i){i===void 0&&(i={}),i.init=i.init?[r].concat(i.init):r,n.call(this,i)}}function r(){var i=this.$options;i.store?this.$store=typeof i.store=="function"?i.store():i.store:i.parent&&i.parent.$store&&(this.$store=i.parent.$store)}}var sk=typeof window<"u"?window:typeof global<"u"?global:{},ci=sk.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ok(t){ci&&(t._devtoolHook=ci,ci.emit("vuex:init",t),ci.on("vuex:travel-to-state",function(e){t.replaceState(e)}),t.subscribe(function(e,n){ci.emit("vuex:mutation",e,n)},{prepend:!0}),t.subscribeAction(function(e,n){ci.emit("vuex:action",e,n)},{prepend:!0}))}function ak(t,e){return t.filter(e)[0]}function Cu(t,e){if(e===void 0&&(e=[]),t===null||typeof t!="object")return t;var n=ak(e,function(i){return i.original===t});if(n)return n.copy;var r=Array.isArray(t)?[]:{};return e.push({original:t,copy:r}),Object.keys(t).forEach(function(i){r[i]=Cu(t[i],e)}),r}function Ji(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function xy(t){return t!==null&&typeof t=="object"}function lk(t){return t&&typeof t.then=="function"}function ck(t,e){return function(){return t(e)}}var sn=function(e,n){this.runtime=n,this._children=Object.create(null),this._rawModule=e;var r=e.state;this.state=(typeof r=="function"?r():r)||{}},Sy={namespaced:{configurable:!0}};Sy.namespaced.get=function(){return!!this._rawModule.namespaced};sn.prototype.addChild=function(e,n){this._children[e]=n};sn.prototype.removeChild=function(e){delete this._children[e]};sn.prototype.getChild=function(e){return this._children[e]};sn.prototype.hasChild=function(e){return e in this._children};sn.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};sn.prototype.forEachChild=function(e){Ji(this._children,e)};sn.prototype.forEachGetter=function(e){this._rawModule.getters&&Ji(this._rawModule.getters,e)};sn.prototype.forEachAction=function(e){this._rawModule.actions&&Ji(this._rawModule.actions,e)};sn.prototype.forEachMutation=function(e){this._rawModule.mutations&&Ji(this._rawModule.mutations,e)};Object.defineProperties(sn.prototype,Sy);var Qr=function(e){this.register([],e,!1)};Qr.prototype.get=function(e){return e.reduce(function(n,r){return n.getChild(r)},this.root)};Qr.prototype.getNamespace=function(e){var n=this.root;return e.reduce(function(r,i){return n=n.getChild(i),r+(n.namespaced?i+"/":"")},"")};Qr.prototype.update=function(e){Cy([],this.root,e)};Qr.prototype.register=function(e,n,r){var i=this;r===void 0&&(r=!0);var s=new sn(n,r);if(e.length===0)this.root=s;else{var o=this.get(e.slice(0,-1));o.addChild(e[e.length-1],s)}n.modules&&Ji(n.modules,function(a,l){i.register(e.concat(l),a,r)})};Qr.prototype.unregister=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1],i=n.getChild(r);i&&i.runtime&&n.removeChild(r)};Qr.prototype.isRegistered=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1];return n?n.hasChild(r):!1};function Cy(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return;Cy(t.concat(r),e.getChild(r),n.modules[r])}}var _t,Nt=function(e){var n=this;e===void 0&&(e={}),!_t&&typeof window<"u"&&window.Vue&&Oy(window.Vue);var r=e.plugins;r===void 0&&(r=[]);var i=e.strict;i===void 0&&(i=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Qr(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new _t,this._makeLocalGettersCache=Object.create(null);var s=this,o=this,a=o.dispatch,l=o.commit;this.dispatch=function(d,p){return a.call(s,d,p)},this.commit=function(d,p,h){return l.call(s,d,p,h)},this.strict=i;var c=this._modules.root.state;Dl(this,c,[],this._modules.root),Gf(this,c),r.forEach(function(f){return f(n)});var u=e.devtools!==void 0?e.devtools:_t.config.devtools;u&&ok(this)},Kf={state:{configurable:!0}};Kf.state.get=function(){return this._vm._data.$$state};Kf.state.set=function(t){};Nt.prototype.commit=function(e,n,r){var i=this,s=Fa(e,n,r),o=s.type,a=s.payload,l={type:o,payload:a},c=this._mutations[o];c&&(this._withCommit(function(){c.forEach(function(f){f(a)})}),this._subscribers.slice().forEach(function(u){return u(l,i.state)}))};Nt.prototype.dispatch=function(e,n){var r=this,i=Fa(e,n),s=i.type,o=i.payload,a={type:s,payload:o},l=this._actions[s];if(l){try{this._actionSubscribers.slice().filter(function(u){return u.before}).forEach(function(u){return u.before(a,r.state)})}catch{}var c=l.length>1?Promise.all(l.map(function(u){return u(o)})):l[0](o);return new Promise(function(u,f){c.then(function(d){try{r._actionSubscribers.filter(function(p){return p.after}).forEach(function(p){return p.after(a,r.state)})}catch{}u(d)},function(d){try{r._actionSubscribers.filter(function(p){return p.error}).forEach(function(p){return p.error(a,r.state,d)})}catch{}f(d)})})}};Nt.prototype.subscribe=function(e,n){return ky(e,this._subscribers,n)};Nt.prototype.subscribeAction=function(e,n){var r=typeof e=="function"?{before:e}:e;return ky(r,this._actionSubscribers,n)};Nt.prototype.watch=function(e,n,r){var i=this;return this._watcherVM.$watch(function(){return e(i.state,i.getters)},n,r)};Nt.prototype.replaceState=function(e){var n=this;this._withCommit(function(){n._vm._data.$$state=e})};Nt.prototype.registerModule=function(e,n,r){r===void 0&&(r={}),typeof e=="string"&&(e=[e]),this._modules.register(e,n),Dl(this,this.state,e,this._modules.get(e),r.preserveState),Gf(this,this.state)};Nt.prototype.unregisterModule=function(e){var n=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var r=qf(n.state,e.slice(0,-1));_t.delete(r,e[e.length-1])}),Ey(this)};Nt.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};Nt.prototype.hotUpdate=function(e){this._modules.update(e),Ey(this,!0)};Nt.prototype._withCommit=function(e){var n=this._committing;this._committing=!0,e(),this._committing=n};Object.defineProperties(Nt.prototype,Kf);function ky(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var r=e.indexOf(t);r>-1&&e.splice(r,1)}}function Ey(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;Dl(t,n,[],t._modules.root,!0),Gf(t,n,e)}function Gf(t,e,n){var r=t._vm;t.getters={},t._makeLocalGettersCache=Object.create(null);var i=t._wrappedGetters,s={};Ji(i,function(a,l){s[l]=ck(a,t),Object.defineProperty(t.getters,l,{get:function(){return t._vm[l]},enumerable:!0})});var o=_t.config.silent;_t.config.silent=!0,t._vm=new _t({data:{$$state:e},computed:s}),_t.config.silent=o,t.strict&&mk(t),r&&(n&&t._withCommit(function(){r._data.$$state=null}),_t.nextTick(function(){return r.$destroy()}))}function Dl(t,e,n,r,i){var s=!n.length,o=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[o],t._modulesNamespaceMap[o]=r),!s&&!i){var a=qf(e,n.slice(0,-1)),l=n[n.length-1];t._withCommit(function(){_t.set(a,l,r.state)})}var c=r.context=uk(t,o,n);r.forEachMutation(function(u,f){var d=o+f;dk(t,d,u,c)}),r.forEachAction(function(u,f){var d=u.root?f:o+f,p=u.handler||u;pk(t,d,p,c)}),r.forEachGetter(function(u,f){var d=o+f;hk(t,d,u,c)}),r.forEachChild(function(u,f){Dl(t,e,n.concat(f),u,i)})}function uk(t,e,n){var r=e==="",i={dispatch:r?t.dispatch:function(s,o,a){var l=Fa(s,o,a),c=l.payload,u=l.options,f=l.type;return(!u||!u.root)&&(f=e+f),t.dispatch(f,c)},commit:r?t.commit:function(s,o,a){var l=Fa(s,o,a),c=l.payload,u=l.options,f=l.type;(!u||!u.root)&&(f=e+f),t.commit(f,c,u)}};return Object.defineProperties(i,{getters:{get:r?function(){return t.getters}:function(){return fk(t,e)}},state:{get:function(){return qf(t.state,n)}}}),i}function fk(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach(function(i){if(i.slice(0,r)===e){var s=i.slice(r);Object.defineProperty(n,s,{get:function(){return t.getters[i]},enumerable:!0})}}),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function dk(t,e,n,r){var i=t._mutations[e]||(t._mutations[e]=[]);i.push(function(o){n.call(t,r.state,o)})}function pk(t,e,n,r){var i=t._actions[e]||(t._actions[e]=[]);i.push(function(o){var a=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},o);return lk(a)||(a=Promise.resolve(a)),t._devtoolHook?a.catch(function(l){throw t._devtoolHook.emit("vuex:error",l),l}):a})}function hk(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(s){return n(r.state,r.getters,s.state,s.getters)})}function mk(t){t._vm.$watch(function(){return this._data.$$state},function(){},{deep:!0,sync:!0})}function qf(t,e){return e.reduce(function(n,r){return n[r]},t)}function Fa(t,e,n){return xy(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}function Oy(t){_t&&t===_t||(_t=t,ik(_t))}var Rl=Bl(function(t,e){var n={};return Ll(e).forEach(function(r){var i=r.key,s=r.val;n[i]=function(){var a=this.$store.state,l=this.$store.getters;if(t){var c=Fl(this.$store,"mapState",t);if(!c)return;a=c.context.state,l=c.context.getters}return typeof s=="function"?s.call(this,a,l):a[s]},n[i].vuex=!0}),n}),Ty=Bl(function(t,e){var n={};return Ll(e).forEach(function(r){var i=r.key,s=r.val;n[i]=function(){for(var a=[],l=arguments.length;l--;)a[l]=arguments[l];var c=this.$store.commit;if(t){var u=Fl(this.$store,"mapMutations",t);if(!u)return;c=u.context.commit}return typeof s=="function"?s.apply(this,[c].concat(a)):c.apply(this.$store,[s].concat(a))}}),n}),$y=Bl(function(t,e){var n={};return Ll(e).forEach(function(r){var i=r.key,s=r.val;s=t+s,n[i]=function(){if(!(t&&!Fl(this.$store,"mapGetters",t)))return this.$store.getters[s]},n[i].vuex=!0}),n}),ot=Bl(function(t,e){var n={};return Ll(e).forEach(function(r){var i=r.key,s=r.val;n[i]=function(){for(var a=[],l=arguments.length;l--;)a[l]=arguments[l];var c=this.$store.dispatch;if(t){var u=Fl(this.$store,"mapActions",t);if(!u)return;c=u.context.dispatch}return typeof s=="function"?s.apply(this,[c].concat(a)):c.apply(this.$store,[s].concat(a))}}),n}),gk=function(t){return{mapState:Rl.bind(null,t),mapGetters:$y.bind(null,t),mapMutations:Ty.bind(null,t),mapActions:ot.bind(null,t)}};function Ll(t){return vk(t)?Array.isArray(t)?t.map(function(e){return{key:e,val:e}}):Object.keys(t).map(function(e){return{key:e,val:t[e]}}):[]}function vk(t){return Array.isArray(t)||xy(t)}function Bl(t){return function(e,n){return typeof e!="string"?(n=e,e=""):e.charAt(e.length-1)!=="/"&&(e+="/"),t(e,n)}}function Fl(t,e,n){var r=t._modulesNamespaceMap[n];return r}function yk(t){t===void 0&&(t={});var e=t.collapsed;e===void 0&&(e=!0);var n=t.filter;n===void 0&&(n=function(u,f,d){return!0});var r=t.transformer;r===void 0&&(r=function(u){return u});var i=t.mutationTransformer;i===void 0&&(i=function(u){return u});var s=t.actionFilter;s===void 0&&(s=function(u,f){return!0});var o=t.actionTransformer;o===void 0&&(o=function(u){return u});var a=t.logMutations;a===void 0&&(a=!0);var l=t.logActions;l===void 0&&(l=!0);var c=t.logger;return c===void 0&&(c=console),function(u){var f=Cu(u.state);typeof c>"u"||(a&&u.subscribe(function(d,p){var h=Cu(p);if(n(d,f,h)){var m=ah(),g=i(d),v="mutation "+d.type+m;sh(c,v,e),c.log("%c prev state","color: #9E9E9E; font-weight: bold",r(f)),c.log("%c mutation","color: #03A9F4; font-weight: bold",g),c.log("%c next state","color: #4CAF50; font-weight: bold",r(h)),oh(c)}f=h}),l&&u.subscribeAction(function(d,p){if(s(d,p)){var h=ah(),m=o(d),g="action "+d.type+h;sh(c,g,e),c.log("%c action","color: #03A9F4; font-weight: bold",m),oh(c)}}))}}function sh(t,e,n){var r=n?t.groupCollapsed:t.group;try{r.call(t,e)}catch{t.log(e)}}function oh(t){try{t.groupEnd()}catch{t.log(" log end ")}}function ah(){var t=new Date;return" @ "+jo(t.getHours(),2)+":"+jo(t.getMinutes(),2)+":"+jo(t.getSeconds(),2)+"."+jo(t.getMilliseconds(),3)}function bk(t,e){return new Array(e+1).join(t)}function jo(t,e){return bk("0",e-t.toString().length)+t}var Iy={Store:Nt,install:Oy,version:"3.6.2",mapState:Rl,mapMutations:Ty,mapGetters:$y,mapActions:ot,createNamespacedHelpers:gk,createLogger:yk};const _k={device:"desktop",previewReady:!1,site:null,style:null,locale:null,theme:null,page:null,section:null,sectionDefinition:null,hoveredSection:null,sectionBlock:null,sectionBlockDefinition:null,sections:{},sectionBlocks:{},editorSettings:{},touchedSections:[],ui:{saveButtonState:"default",publishButtonState:{status:null,label:null},openErrorModal:!1,errorModalType:null}},wk=t=>({async fetchSite({commit:e},n){return t.site.find(n).then(r=>{const{style:i,...s}=r;t.api.setSiteHandle(r.handle),e("SET_SITE",s),e("SET_STYLE",i)})},loadPublishButtonState({commit:e}){t.site.getLastPublication().then(n=>e("SET_PUBLISH_BUTTON_STATE",n))},async publishSite({commit:e}){t.site.publish().then(n=>e("SET_PUBLISH_BUTTON_STATE",n))},pollLastPublication({dispatch:e}){e("loadPublishButtonState"),setInterval(()=>e("loadPublishButtonState"),5e3)},previewStyle({commit:e,getters:n},r){e("SET_STYLE",r),t.livePreview.updateStyle(n.content,r)}}),Pt=t=>t==null||typeof t=="string"&&t.length===0||typeof t=="object"&&t.length===0,xk=t=>t.slice(0,1).toUpperCase()+t.slice(1),Py=t=>t.replace(/^([A-Z])/,(e,n)=>n.toLowerCase()).replace(/(?:_|-)([a-z\d]*)/g,(e,n)=>xk(n)),ja=t=>Array.isArray(t)?t.map(e=>ja(e)):t!=null&&t.constructor===Object?Object.keys(t).reduce((e,n)=>({...e,[Py(n)]:ja(t[n])}),{}):t,Sk=(t,e)=>{if(Pt(t))return null;let n,r;t<1024?(n=t,r="byte"):t<1024*1024?(n=(t/1024).toFixed(2).replace(".00",""),r="kb"):t<1024*1024*1024?(n=(t/1024/1024).toFixed(2),r="mb"):(n=(t/1024/1024/1024).toFixed(2),r="gb");let i=e.tc(`support.human.storageUnits.units.${r}`,n);return e.t("support.human.storageUnits.format",{number:n,unit:i})},Ck=(t,e)=>{let n;function r(...i){n&&clearTimeout(n),n=setTimeout(()=>{n=null,t(...i)},e)}return r},kk=(t,e,n)=>{let r=[...t];var i=t[e];return r.splice(e,1),r.splice(n,0,i),r},Ek=t=>{let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",n,r="";if(window.crypto&&window.crypto.getRandomValues){let i=new Uint32Array(t);for(window.crypto.getRandomValues(i),n=0;n<t;n++)r+=e[i[n]%e.length];return r}else throw new Error("Your browser is too old and can't generate secure random numbers")},Jf=()=>Ek(8),Ok=(t,e)=>(t.length>e&&(t=t.substring(0,e-3)+"..."),t),Yf=(t,...e)=>({...e.reduce((n,r)=>({...n,[r]:t[r]}),{})}),Tk=t=>Object.keys(t).forEach(e=>t[e]===void 0&&delete t[e]),$k=t=>{if(!t)return null;var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i.exec(t.trim());return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:e[3]?parseInt(e[3],16):0}:null},Xf=t=>{if(!t)return null;const e=(t.startsWith("--")?getComputedStyle(document.body).getPropertyValue(t):t).trim().toLowerCase();return e==="transparent"?"":e},Ay=t=>$k(Xf(t)),Ik=t=>t[0]==="/"?t:`/${t}`,bs=(t,e)=>{const n={...t,...e},r=Object.keys(n);for(const i of r){const s=t[i],o=e[i];typeof s=="object"&&typeof o=="object"&&(n[i]=bs(s,o))}return n},Pk=(t,e,n)=>!!e[n]&&!!t[n]&&e[n]!==t[n],Ak=(t,e,...n)=>n.some(r=>Pk(t,e,r)),Mk=t=>({editPage({state:e,dispatch:n},{id:r,locale:i}){console.log("editPage",r,i),n("resetPreview"),e.locale!==i?(n("setLocale",i),Promise.all([n("fetchPage",r),n("fetchSite")])):n("fetchPage",r)},setPage({commit:e},n){e("SET_PAGE",n)},async fetchPage({commit:e,state:{site:n}},r){return t.page.findById(n,r).then(i=>e("SET_PAGE",i))},async persistPage({commit:e,dispatch:n,state:{page:r,site:i,style:s},getters:{content:o,defaultPageAttributes:a}}){e("SET_SAVE_BUTTON_STATE","inProgress");const l={sections:o.pageSections,lockVersion:r.lockVersion,...a},c=Pt(o.siteSections)?{style:s}:{sections:o.siteSections,lockVersion:i.lockVersion,style:s};return t.page.update(r.id,l,c).then(()=>{e("SET_SAVE_BUTTON_STATE","success"),e("RESET_TOUCHED_SECTIONS"),Promise.all([n("fetchPage",r.id),n("fetchSite")])}).catch(({response:{status:u}})=>{e("SET_SAVE_BUTTON_STATE","fail"),console.log("[Maglev] could not save the page",u),u===409&&e("OPEN_ERROR_MODAL","staleRecord")})},setCurrentPageSettings({commit:e},n){e("SET_PAGE_SETTINGS",n)}}),Nk=t=>({fetchSection({commit:e,state:{sections:n}},r){const i=n[r];return e("SET_SECTION",i),i},hoverSection({commit:e},n){e("SET_HOVERED_SECTION",n)},leaveSection({commit:e}){e("SET_HOVERED_SECTION",null)},addSection({commit:e,getters:n,state:{site:r}},{sectionDefinition:i,insertAt:s}){i.insertAt&&(s=i.insertAt);const o=t.section.build(i,r);return e("ADD_SECTION",{section:o,insertAt:s}),e("TOUCH_SECTION",o.id),t.livePreview.addSection(n.content,o,s),o},removeSection({commit:e},n){e("REMOVE_SECTION",n),t.livePreview.removeSection(n)},updateSectionContent({commit:e,getters:n,state:{section:r}},i){e("UPDATE_SECTION_CONTENT",i),e("TOUCH_SECTION",r.id),t.livePreview.updateSection(n.content,n.denormalizedSection,i)},moveSection({commit:e,getters:n,state:{page:{sections:r}}},{from:i,to:s}){Pt(i)||Pt(s)||(e("MOVE_HOVERED_SECTION",{fromIndex:i,toIndex:s}),t.livePreview.moveSection(n.content,r[i],r[s],i<s?"down":"up"))},moveHoveredSection({dispatch:e,state:{hoveredSection:{sectionId:n},page:{sections:r}}},i){const s=t.section.calculateMovingIndices(r,n,i);e("moveSection",{from:s.fromIndex,to:s.toIndex})}}),Dk=t=>({fetchSectionBlock({commit:e,state:{sections:n,sectionBlocks:r}},i){const s=r[i];if(s){const o=Object.values(n).find(a=>(a.blocks||[]).indexOf(s==null?void 0:s.id)!==-1);e("SET_SECTION",o),e("SET_SECTION_BLOCK",s)}return s},addSectionBlock({commit:e,getters:n,state:{section:r,sectionDefinition:i}},{blockType:s,parentId:o}){const a=t.section.buildDefaultBlock(s,i);o&&(a.parentId=o),e("ADD_SECTION_BLOCK",a),e("TOUCH_SECTION",r.id),t.livePreview.addBlock(n.content,n.denormalizedSection,a)},removeSectionBlock({commit:e,getters:n,state:{section:r}},i){e("REMOVE_SECTION_BLOCK",i),e("TOUCH_SECTION",r.id),t.livePreview.removeBlock(n.content,n.denormalizedSection,i)},sortSectionBlocks({commit:e,getters:n,state:{section:r}},i){e("SORT_SECTION_BLOCKS",i),e("TOUCH_SECTION",r.id),t.livePreview.moveBlock(n.content,n.denormalizedSection)},updateSectionBlockContent({commit:e,getters:n,state:{section:r,sectionBlock:i}},s){e("UPDATE_SECTION_BLOCK_CONTENT",s),e("TOUCH_SECTION",r.id),t.livePreview.updateBlock(n.content,n.denormalizedSection,i,s)}}),Rk=t=>({setDevice({commit:e},n){e("SET_DEVICE",n)},setTheme({commit:e},n){e("SET_THEME",n)},setLocale({commit:e},n){t.api.setLocale(n),e("SET_LOCALE",n)},markPreviewAsReady({commit:e}){e("MARK_PREVIEW_AS_READY")},resetPreview({commit:e}){e("RESET_PREVIEW")},fetchEditorSettings({commit:e}){e("SET_EDITOR_SETTINGS",{logoUrl:window.logoUrl,primaryColor:window.primaryColor,sitePublishable:window.sitePublishable})},...wk(t),...Mk(t),...Nk(t),...Dk(t)});function Lk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function My(t,e,n){return e&&Lk(t.prototype,e),t}function tn(){return tn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tn.apply(this,arguments)}function Zf(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Wr(t){return!!(t&&typeof t.hasOwnProperty=="function"&&(t.hasOwnProperty("__ownerID")||t._map&&t._map.hasOwnProperty("__ownerID")))}function Ny(t,e,n){return Object.keys(t).reduce(function(r,i){var s=""+i;return r.has(s)?r.set(s,n(r.get(s),t[s])):r},e)}var Bk=function(e){return function(n){return Wr(n)?n.get(e):n[e]}},Qf=function(){function t(n,r,i){if(r===void 0&&(r={}),i===void 0&&(i={}),!n||typeof n!="string")throw new Error("Expected a string key for Entity, but found "+n+".");var s=i,o=s.idAttribute,a=o===void 0?"id":o,l=s.mergeStrategy,c=l===void 0?function(h,m){return tn({},h,m)}:l,u=s.processStrategy,f=u===void 0?function(h){return tn({},h)}:u,d=s.fallbackStrategy,p=d===void 0?function(h,m){}:d;this._key=n,this._getId=typeof a=="function"?a:Bk(a),this._idAttribute=a,this._mergeStrategy=c,this._processStrategy=f,this._fallbackStrategy=p,this.define(r)}var e=t.prototype;return e.define=function(r){this.schema=Object.keys(r).reduce(function(i,s){var o,a=r[s];return tn({},i,(o={},o[s]=a,o))},this.schema||{})},e.getId=function(r,i,s){return this._getId(r,i,s)},e.merge=function(r,i){return this._mergeStrategy(r,i)},e.fallback=function(r,i){return this._fallbackStrategy(r,i)},e.normalize=function(r,i,s,o,a,l){var c=this,u=this.getId(r,i,s),f=this.key;if(f in l||(l[f]={}),u in l[f]||(l[f][u]=[]),l[f][u].some(function(p){return p===r}))return u;l[f][u].push(r);var d=this._processStrategy(r,i,s);return Object.keys(this.schema).forEach(function(p){if(d.hasOwnProperty(p)&&typeof d[p]=="object"){var h=c.schema[p],m=typeof h=="function"?h(r):h;d[p]=o(d[p],d,p,m,a,l)}}),a(this,d,r,i,s),u},e.denormalize=function(r,i){var s=this;return Wr(r)?Ny(this.schema,r,i):(Object.keys(this.schema).forEach(function(o){if(r.hasOwnProperty(o)){var a=s.schema[o];r[o]=i(r[o],a)}}),r)},My(t,[{key:"key",get:function(){return this._key}},{key:"idAttribute",get:function(){return this._idAttribute}}]),t}(),ed=function(){function t(n,r){r&&(this._schemaAttribute=typeof r=="string"?function(i){return i[r]}:r),this.define(n)}var e=t.prototype;return e.define=function(r){this.schema=r},e.getSchemaAttribute=function(r,i,s){return!this.isSingleSchema&&this._schemaAttribute(r,i,s)},e.inferSchema=function(r,i,s){if(this.isSingleSchema)return this.schema;var o=this.getSchemaAttribute(r,i,s);return this.schema[o]},e.normalizeValue=function(r,i,s,o,a,l){var c=this.inferSchema(r,i,s);if(!c)return r;var u=o(r,i,s,c,a,l);return this.isSingleSchema||u===void 0||u===null?u:{id:u,schema:this.getSchemaAttribute(r,i,s)}},e.denormalizeValue=function(r,i){var s=Wr(r)?r.get("schema"):r.schema;if(!this.isSingleSchema&&!s)return r;var o=this.isSingleSchema?void 0:Wr(r)?r.get("id"):r.id,a=this.isSingleSchema?this.schema:this.schema[s];return i(o||r,a)},My(t,[{key:"isSingleSchema",get:function(){return!this._schemaAttribute}}]),t}(),Fk=function(t){Zf(e,t);function e(r,i){if(!i)throw new Error('Expected option "schemaAttribute" not found on UnionSchema.');return t.call(this,r,i)||this}var n=e.prototype;return n.normalize=function(i,s,o,a,l,c){return this.normalizeValue(i,s,o,a,l,c)},n.denormalize=function(i,s){return this.denormalizeValue(i,s)},e}(ed),jk=function(t){Zf(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.normalize=function(i,s,o,a,l,c){var u=this;return Object.keys(i).reduce(function(f,d,p){var h,m=i[d];return m!=null?tn({},f,(h={},h[d]=u.normalizeValue(m,i,d,a,l,c),h)):f},{})},n.denormalize=function(i,s){var o=this;return Object.keys(i).reduce(function(a,l){var c,u=i[l];return tn({},a,(c={},c[l]=o.denormalizeValue(u,s),c))},{})},e}(ed),Dy=function(e){var n=Array.isArray(e);if(n&&e.length>1)throw new Error("Expected schema definition to be a single schema, but found "+e.length+".");return e[0]},Ry=function(e){return Array.isArray(e)?e:Object.keys(e).map(function(n){return e[n]})},zk=function(e,n,r,i,s,o,a){e=Dy(e);var l=Ry(n);return l.map(function(c,u){return s(c,r,i,e,o,a)})},Vk=function(e,n,r){return e=Dy(e),n&&n.map?n.map(function(i){return r(i,e)}):n},Hk=function(t){Zf(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.normalize=function(i,s,o,a,l,c){var u=this,f=Ry(i);return f.map(function(d,p){return u.normalizeValue(d,s,o,a,l,c)}).filter(function(d){return d!=null})},n.denormalize=function(i,s){var o=this;return i&&i.map?i.map(function(a){return o.denormalizeValue(a,s)}):i},e}(ed),Ly=function(e,n,r,i,s,o,a){var l=tn({},n);return Object.keys(e).forEach(function(c){var u=e[c],f=typeof u=="function"?u(n):u,d=s(n[c],n,c,f,o,a);d==null?delete l[c]:l[c]=d}),l},By=function(e,n,r){if(Wr(n))return Ny(e,n,r);var i=tn({},n);return Object.keys(e).forEach(function(s){i[s]!=null&&(i[s]=r(i[s],e[s]))}),i},Uk=function(){function t(n){this.define(n)}var e=t.prototype;return e.define=function(r){this.schema=Object.keys(r).reduce(function(i,s){var o,a=r[s];return tn({},i,(o={},o[s]=a,o))},this.schema||{})},e.normalize=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return Ly.apply(void 0,[this.schema].concat(i))},e.denormalize=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return By.apply(void 0,[this.schema].concat(i))},t}(),Wk=function t(e,n,r,i,s,o){if(typeof e!="object"||!e)return e;if(typeof i=="object"&&(!i.normalize||typeof i.normalize!="function")){var a=Array.isArray(i)?zk:Ly;return a(i,e,n,r,t,s,o)}return i.normalize(e,n,r,t,s,o)},Kk=function(e){return function(n,r,i,s,o){var a=n.key,l=n.getId(i,s,o);a in e||(e[a]={});var c=e[a][l];c?e[a][l]=n.merge(c,r):e[a][l]=r}},td={Array:Hk,Entity:Qf,Object:Uk,Union:Fk,Values:jk},Fy=function(e,n){if(!e||typeof e!="object")throw new Error('Unexpected input given to normalize. Expected type to be "object", found "'+(e===null?"null":typeof e)+'".');var r={},i=Kk(r),s={},o=Wk(e,e,null,n,i,s);return{entities:r,result:o}},Gk=function(e,n,r,i,s){var o=i(e,n);if(o===void 0&&n instanceof Qf&&(o=n.fallback(e,n)),typeof o!="object"||o===null)return o;if(s[n.key]||(s[n.key]={}),!s[n.key][e]){var a=Wr(o)?o:tn({},o);s[n.key][e]=a,s[n.key][e]=n.denormalize(a,r)}return s[n.key][e]},qk=function(e){var n={},r=Jk(e);return function i(s,o){if(typeof o=="object"&&(!o.denormalize||typeof o.denormalize!="function")){var a=Array.isArray(o)?Vk:By;return a(o,s,i)}return s==null?s:o instanceof Qf?Gk(s,o,i,r,n):o.denormalize(s,i)}},Jk=function(e){var n=Wr(e);return function(r,i){var s=i.key;return typeof r=="object"?r:n?e.getIn([s,r.toString()]):e[s]&&e[s][r]}},Yk=function(e,n,r){if(typeof e<"u")return qk(r)(e,n)};const Xk=new td.Entity("blocks"),jy=new td.Entity("sections",{blocks:[Xk]}),lh=new td.Entity("page",{sections:[jy]}),zy=["title","path","visible","seoTitle","ogTitle","ogDescription","ogImageUrl","metaDescription","lockVersion"],Zk=t=>({isIndex:e=>e.path==="index"||e.path==="/index",build:()=>({title:"",path:"",visible:!0,seoTitle:"",metaDescription:""}),findAll:e=>{console.log("[PageService] Fetching all the pages",e);const n={params:e||{}},r=i=>i.sort((s,o)=>s.path==="index"?-1:o.path==="index"?1:s.title.localeCompare(o.title));return t.get("/pages",n).then(({data:i})=>r(i))},findById:(e,n)=>{n==="index"&&(n=e.homePageId);const r=String(n).replaceAll("/","%2F");return console.log("[PageService] Fetching page by id",r),t.get(`/pages/${r}`).then(({data:i})=>i)},create:e=>(console.log("[PageService] Creating page",e),t.post("/pages",{page:e})),update:(e,n,r)=>(console.log("[PageService] Updating page #",e),t.put(`/pages/${e}`,{page:n,site:r})),updateSettings:(e,n)=>(console.log("[PageService] Updating page settings #",e),t.put(`/pages/${e}`,{page:Yf(n,...zy)})),setVisible:(e,n)=>(console.log("[PageService] Setting page visible setting #",e),t.put(`/pages/${e}`,{page:{visible:n}})),clone:e=>(console.log("[PageService] Cloning page #",e),t.post(`/pages/${e}/clones`,{})),destroy:e=>(console.log("[PageService] Destroying page #",e),t.destroy(`/pages/${e}`)),normalize:e=>Fy(e,lh),denormalize:(e,n)=>Yk(e,lh,n)}),Qk=t=>({SET_DEVICE(e,n){e.device=n},MARK_PREVIEW_AS_READY(e){e.hoveredSection=null,e.section=null,e.previewReady=!0},RESET_PREVIEW(e){e.hoveredSection=null,e.section=null,e.previewReady=!1},SET_EDITOR_SETTINGS(e,n){e.editorSettings=n},SET_SITE(e,n){e.site=n},SET_STYLE(e,n){e.style=n},SET_LOCALE(e,n){e.locale=n},SET_THEME(e,n){e.theme=n},SET_PAGE(e,n){const{entities:r}=t.page.normalize(n);e.page=r.page[n.id],e.sections={...e.sections,...r.sections},e.sectionBlocks={...e.sectionBlocks,...r.blocks},e.hoveredSection=null},SET_PAGE_SETTINGS(e,n){const r=Yf(n,...zy);Tk(r),e.page={...e.page,...r}},SET_SECTION(e,n){if(n){const r=e.theme.sections.find(i=>i.id===n.type);e.section={...n},e.sectionDefinition={...r}}else e.section=e.sectionDefinition=null},SET_HOVERED_SECTION(e,n){if(!n)e.hoveredSection=null;else{const r=e.sections[n.sectionId],i=e.theme.sections.find(s=>s.id===r.type);e.hoveredSection={...n,name:i.name,definition:i}}},UPDATE_SECTION_CONTENT(e,n){let r={...e.section},i={id:n.settingId,value:n.value},s=r.settings.findIndex(o=>o.id===i.id);s===-1?r.settings.push(i):r.settings[s]=i,e.sections[e.section.id]=r,e.section=r},ADD_SECTION(e,{section:n,insertAt:r}){const{entities:{sections:i,blocks:s}}=t.section.normalize(n);e.sections={...e.sections,[n.id]:i[n.id]},e.sectionBlocks={...e.sectionBlocks,...s};const o={...e.page};switch(r){case"top":o.sections.unshift(n.id);break;case"bottom":case void 0:case null:case"":o.sections.push(n.id);break;default:o.sections.splice(o.sections.indexOf(r)+1,0,n.id)}e.page=o},REMOVE_SECTION(e,n){e.page.sections.splice(e.page.sections.indexOf(n),1)},MOVE_HOVERED_SECTION(e,{fromIndex:n,toIndex:r}){e.page.sections=kk(e.page.sections,n,r)},SET_SECTION_BLOCK(e,n){e.sectionBlock=n,e.sectionBlockDefinition=e.sectionDefinition.blocks.find(r=>r.type===n.type)},ADD_SECTION_BLOCK(e,n){e.sectionBlocks={...e.sectionBlocks,[n.id]:n};const r={...e.sections[e.section.id]};r.blocks.push(n.id),e.sections={...e.sections,[r.id]:r},e.section=r},REMOVE_SECTION_BLOCK(e,n){const r={...e.sections[e.section.id]},i=r.blocks.indexOf(n);r.blocks.splice(i,1),e.sections={...e.sections,[r.id]:r},e.section=r},SORT_SECTION_BLOCKS(e,n){const r={...e.sections};r[e.section.id].blocks=n.map(i=>i.id),n.forEach(i=>e.sectionBlocks[i.id].parentId=i.parentId),e.section={...r[e.section.id]},e.sections=r},UPDATE_SECTION_BLOCK_CONTENT(e,n){let r={...e.sectionBlocks[e.sectionBlock.id]},i={id:n.settingId,value:n.value},s=r.settings.findIndex(o=>o.id===i.id);s===-1?r.settings.push(i):r.settings[s]=i,e.sectionBlocks[e.sectionBlock.id]=r,e.sectionBlock=r},TOUCH_SECTION(e,n){if(e.touchedSections.indexOf(n)===-1){const r=[...e.touchedSections];r.push(n),e.touchedSections=r}},RESET_TOUCHED_SECTIONS(e){e.touchedSections=[]},SET_PUBLISH_BUTTON_STATE(e,n){e.ui.publishButtonState=n},SET_SAVE_BUTTON_STATE(e,n){e.ui.saveButtonState=n},OPEN_ERROR_MODAL(e,n){e.ui.openErrorModal=!0,e.ui.errorModalType=n},CLEAR_ERROR_MODAL(e){e.ui.openErrorModal=!1,e.ui.errorModalType=null}}),eE=t=>({sectionList:({page:e,sections:n,sectionBlocks:r},{sectionDefinition:i})=>{const s=t.page.denormalize(e,{sections:n,blocks:r});return s!=null&&s.sections?s.sections.map(o=>{const a=i(o);return{id:o.id,type:o.type,name:a.name,viewportFixedPosition:!!a.viewportFixedPosition}}):[]},stickySectionList:(e,{sectionList:n})=>n.filter(r=>r.viewportFixedPosition),defaultPageAttributes:({page:e})=>e.translated?{}:{title:e.title,path:e.path},content:({page:e,sections:n,sectionBlocks:r,touchedSections:i},{sectionDefinition:s})=>{const o=t.page.denormalize(e,{sections:n,blocks:r}),a=o.sections.filter(c=>s(c).siteScoped),l=a.some(c=>i.indexOf(c.id)!==-1);return{pageSections:o.sections,siteSections:l?a:[]}},denormalizedSection:({page:e,sections:n,sectionBlocks:r,section:i})=>t.page.denormalize(e,{sections:n,blocks:r}).sections.find(o=>o.id==i.id),sectionContent:({section:e})=>e?[...e.settings]:null,sectionDefinition:({theme:e})=>n=>e.sections.find(r=>r.id===n.type),sectionSettings:({sectionDefinition:e})=>n=>t.section.getSettings(e,n),sectionBlocks:({sectionBlocks:e,section:n,sectionDefinition:r})=>n?n.blocks.map(i=>{const s=e[i];return r.blocks.find(a=>a.type===s.type)?s:null}).filter(i=>i):[],sectionBlockLabel:({sectionDefinition:e})=>(n,r)=>{const i=e.blocks.find(s=>s.type===n.type);return t.section.getBlockLabel(n,i,r)},sectionBlockIndex:({section:e,sectionBlock:n})=>n?e.blocks.indexOf(n.id)+1:null,sectionBlockContent:({sectionBlock:e})=>e?[...e.settings]:null,sectionBlockSettings:({sectionBlockDefinition:e})=>n=>t.section.getSettings(e,n)});let Vy=null,Hy=null;const tE=t=>Vy=t,nE=t=>Hy=t,rE=document.querySelector("[name=csrf-token]").content;hv.defaults.headers.common["X-CSRF-TOKEN"]=rE;const po=hv.create({baseURL:window.apiBaseUrl,timeout:5e4,headers:{"Content-Type":"application/json",Accept:"application/json"},transformResponse(t){return t?ja(JSON.parse(t)):{}}});po.interceptors.request.use(t=>(t.headers["X-MAGLEV-SITE-HANDLE"]=Vy,t.headers["X-MAGLEV-LOCALE"]=Hy,t),t=>Promise.reject(t));const iE=po.get,sE=po.post,oE=po.put,aE=po.delete,fs=Object.freeze(Object.defineProperty({__proto__:null,destroy:aE,get:iE,post:sE,put:oE,setLocale:nE,setSiteHandle:tE},Symbol.toStringTag,{value:"Module"})),lE=t=>({find:async e=>e?window.site:(console.log("[SiteService] Fetching current site"),t.get("/site").then(({data:n})=>n)),updateStyle(e){return t.put("/style",{site:{style:e}}).then(n=>n.headers["lock-version"])},publish(){return t.post("/publication").then(({data:e})=>e)},getLastPublication(){return t.get("/publication").then(({data:e})=>e)}}),cE=t=>t.sectionCategories.map(e=>({name:e.name,children:t.sections.filter(n=>n.category==e.id).sort((n,r)=>n.name.localeCompare(r.name))})),uE=Object.freeze(Object.defineProperty({__proto__:null,buildCategories:cE},Symbol.toStringTag,{value:"Module"})),fE=t=>({findAll:(e,n)=>{console.log(`[CollectionItem] Fetching all the items of ${e}`,n);const r={params:n||{}};return t.get(`/collections/${e}`,r).then(({data:i})=>i)}}),dE=t=>({findAll:(e,n,r)=>{const i={params:{page:e,perPage:n,query:r,assetType:"image"}};return t.get("/assets",i).then(({data:s})=>s)},find:e=>t.get(`/assets/${e}`).then(({data:n})=>n),destroy:e=>t.destroy(`/assets/${e}`).then(({data:n})=>n),create:e=>{let n=new FormData;return Object.entries(e).forEach(([r,i])=>n.append(`asset[${r}]`,i)),t.post("/assets",n,{headers:{"Content-Type":"multipart/form-data"}})}}),pE=3,hE=(t,e,n)=>{if(n!=="up"&&n!=="down")return!1;const r=t.indexOf(e),i=r+(n==="up"?-1:1);return i<0||i>t.length-1?!1:{fromIndex:r,toIndex:i}},mE=(t,e)=>t.singleton?!e.some(n=>t.id===n.type):!0,gE=t=>Fy(t,jy),vE=(t,e)=>{var o;const n=t.id,r=e.sections.find(a=>a.type===n);let i,s;return t.siteScoped&&!Pt(r)?(i=[].concat(r.settings||[]),s=[].concat(r.blocks||[])):(i=nd(t,(o=t.sample)==null?void 0:o.settings),s=wE(t)),{id:Jf(),type:n,settings:i,blocks:s}},yE=(t,e)=>{const{settings:n}=t;return Pt(n)?[]:n.filter(r=>{const i=r.options.advanced;return e&&i||!e&&!i})},bE=(t,e)=>t.filter(n=>{var r;return!n.options.if||((r=e.find(({id:i})=>i===n.options.if))==null?void 0:r.value)}),Uy=(t,{blocks:e})=>{if(Pt(e))return null;let n=e.find(r=>r.type===t)||e[0];return{id:Jf(),type:n.type,settings:nd(n)}},nd=(t,e)=>t.settings.map(n=>_E(n,e?e[Py(n.id)]:null)),_E=(t,e)=>{let n=e??t.default;switch(t.type){case"image":n=typeof n=="string"?{url:n}:n||{};break;case"link":n=typeof n=="string"?{linkType:"url",href:n}:n;break}return{id:t.id,value:n}},wE=t=>{var n;if(!((n=t.sample)!=null&&n.blocks))return SE(t);let e={};return t.sample.blocks.forEach(r=>{Wy(t.blocks,r,e)}),Object.values(e).filter(r=>r)},Wy=(t,e,n,r)=>{const i=xE(t,e,r);i&&(n[i.id]=i,e.children&&e.children.forEach(s=>{Wy(t,s,n,i.id)}))},xE=(t,e,n)=>{let r=t.find(s=>s.type===e.type);if(!r)return null;let i={id:Jf(),type:r.type,settings:nd(r,e.settings)};return n&&(i.parentId=n),i},SE=t=>{if(Pt(t.blocks))return[];let e=[];return Array.from({length:pE},()=>e.push(Uy(null,t))),e},CE=(t,e,n)=>{let r,i;return e.settings.forEach(s=>{var a;const o=(a=t.settings.find(l=>l.id===s.id))==null?void 0:a.value;switch(s.type){case"text":r||(r=o,s.options.html&&(r=new DOMParser().parseFromString(o,"text/html").body.textContent));break;case"image":i||(i=o==null?void 0:o.url);break;case"link":!r&&!Pt(o==null?void 0:o.text)&&(r=o.text);break;case"collection_item":!r&&!Pt(o==null?void 0:o.label)&&(r=o.label),!i&&!Pt(o==null?void 0:o.imageUrl)&&(i=o.imageUrl);break}}),[Pt(r)?`${e.name} #${n}`:r,i]},kE=Object.freeze(Object.defineProperty({__proto__:null,build:vE,buildDefaultBlock:Uy,calculateMovingIndices:hE,canBeAddedToPage:mE,filterSettings:bE,getBlockLabel:CE,getSettings:yE,normalize:gE},Symbol.toStringTag,{value:"Module"})),Ky=(t,e)=>t.filter(n=>n.parentId===e).map(n=>({sectionBlock:{...n},children:Ky(t,n.id)})),Gy=(t,e)=>t.map(n=>[].concat({...n.sectionBlock,parentId:e},Gy(n.children,n.sectionBlock.id))).flat(),EE=(t,e)=>t.filter(n=>{const r=e.filter(({type:i})=>n.type===i).length;return n.root&&(n.limit===-1||n.limit>r)}),OE=Object.freeze(Object.defineProperty({__proto__:null,decodeTree:Gy,encodeToTree:Ky,filterRoot:EE},Symbol.toStringTag,{value:"Module"}));/*!
  * vue-router v3.6.5
  * (c) 2022 Evan You
  * @license MIT
  */function Zt(t,e){for(var n in e)t[n]=e[n];return t}var TE=/[!'()*]/g,$E=function(t){return"%"+t.charCodeAt(0).toString(16)},IE=/%2C/g,ui=function(t){return encodeURIComponent(t).replace(TE,$E).replace(IE,",")};function ku(t){try{return decodeURIComponent(t)}catch{}return t}function PE(t,e,n){e===void 0&&(e={});var r=n||AE,i;try{i=r(t||"")}catch{i={}}for(var s in e){var o=e[s];i[s]=Array.isArray(o)?o.map(ch):ch(o)}return i}var ch=function(t){return t==null||typeof t=="object"?t:String(t)};function AE(t){var e={};return t=t.trim().replace(/^(\?|#|&)/,""),t&&t.split("&").forEach(function(n){var r=n.replace(/\+/g," ").split("="),i=ku(r.shift()),s=r.length>0?ku(r.join("=")):null;e[i]===void 0?e[i]=s:Array.isArray(e[i])?e[i].push(s):e[i]=[e[i],s]}),e}function ME(t){var e=t?Object.keys(t).map(function(n){var r=t[n];if(r===void 0)return"";if(r===null)return ui(n);if(Array.isArray(r)){var i=[];return r.forEach(function(s){s!==void 0&&(s===null?i.push(ui(n)):i.push(ui(n)+"="+ui(s)))}),i.join("&")}return ui(n)+"="+ui(r)}).filter(function(n){return n.length>0}).join("&"):null;return e?"?"+e:""}var za=/\/?$/;function Va(t,e,n,r){var i=r&&r.options.stringifyQuery,s=e.query||{};try{s=Eu(s)}catch{}var o={name:e.name||t&&t.name,meta:t&&t.meta||{},path:e.path||"/",hash:e.hash||"",query:s,params:e.params||{},fullPath:uh(e,i),matched:t?NE(t):[]};return n&&(o.redirectedFrom=uh(n,i)),Object.freeze(o)}function Eu(t){if(Array.isArray(t))return t.map(Eu);if(t&&typeof t=="object"){var e={};for(var n in t)e[n]=Eu(t[n]);return e}else return t}var mr=Va(null,{path:"/"});function NE(t){for(var e=[];t;)e.unshift(t),t=t.parent;return e}function uh(t,e){var n=t.path,r=t.query;r===void 0&&(r={});var i=t.hash;i===void 0&&(i="");var s=e||ME;return(n||"/")+s(r)+i}function qy(t,e,n){return e===mr?t===e:e?t.path&&e.path?t.path.replace(za,"")===e.path.replace(za,"")&&(n||t.hash===e.hash&&la(t.query,e.query)):t.name&&e.name?t.name===e.name&&(n||t.hash===e.hash&&la(t.query,e.query)&&la(t.params,e.params)):!1:!1}function la(t,e){if(t===void 0&&(t={}),e===void 0&&(e={}),!t||!e)return t===e;var n=Object.keys(t).sort(),r=Object.keys(e).sort();return n.length!==r.length?!1:n.every(function(i,s){var o=t[i],a=r[s];if(a!==i)return!1;var l=e[i];return o==null||l==null?o===l:typeof o=="object"&&typeof l=="object"?la(o,l):String(o)===String(l)})}function DE(t,e){return t.path.replace(za,"/").indexOf(e.path.replace(za,"/"))===0&&(!e.hash||t.hash===e.hash)&&RE(t.query,e.query)}function RE(t,e){for(var n in e)if(!(n in t))return!1;return!0}function Jy(t){for(var e=0;e<t.matched.length;e++){var n=t.matched[e];for(var r in n.instances){var i=n.instances[r],s=n.enteredCbs[r];if(!(!i||!s)){delete n.enteredCbs[r];for(var o=0;o<s.length;o++)i._isBeingDestroyed||s[o](i)}}}}var LE={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(e,n){var r=n.props,i=n.children,s=n.parent,o=n.data;o.routerView=!0;for(var a=s.$createElement,l=r.name,c=s.$route,u=s._routerViewCache||(s._routerViewCache={}),f=0,d=!1;s&&s._routerRoot!==s;){var p=s.$vnode?s.$vnode.data:{};p.routerView&&f++,p.keepAlive&&s._directInactive&&s._inactive&&(d=!0),s=s.$parent}if(o.routerViewDepth=f,d){var h=u[l],m=h&&h.component;return m?(h.configProps&&fh(m,o,h.route,h.configProps),a(m,o,i)):a()}var g=c.matched[f],v=g&&g.components[l];if(!g||!v)return u[l]=null,a();u[l]={component:v},o.registerRouteInstance=function(k,T){var P=g.instances[l];(T&&P!==k||!T&&P===k)&&(g.instances[l]=T)},(o.hook||(o.hook={})).prepatch=function(k,T){g.instances[l]=T.componentInstance},o.hook.init=function(k){k.data.keepAlive&&k.componentInstance&&k.componentInstance!==g.instances[l]&&(g.instances[l]=k.componentInstance),Jy(c)};var x=g.props&&g.props[l];return x&&(Zt(u[l],{route:c,configProps:x}),fh(v,o,c,x)),a(v,o,i)}};function fh(t,e,n,r){var i=e.props=BE(n,r);if(i){i=e.props=Zt({},i);var s=e.attrs=e.attrs||{};for(var o in i)(!t.props||!(o in t.props))&&(s[o]=i[o],delete i[o])}}function BE(t,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(t);case"boolean":return e?t.params:void 0}}function Yy(t,e,n){var r=t.charAt(0);if(r==="/")return t;if(r==="?"||r==="#")return e+t;var i=e.split("/");(!n||!i[i.length-1])&&i.pop();for(var s=t.replace(/^\//,"").split("/"),o=0;o<s.length;o++){var a=s[o];a===".."?i.pop():a!=="."&&i.push(a)}return i[0]!==""&&i.unshift(""),i.join("/")}function FE(t){var e="",n="",r=t.indexOf("#");r>=0&&(e=t.slice(r),t=t.slice(0,r));var i=t.indexOf("?");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{path:t,query:n,hash:e}}function er(t){return t.replace(/\/(?:\s*\/)+/g,"/")}var Ha=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"},Yi=Qy,jE=rd,zE=WE,VE=Xy,HE=Zy,UE=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function rd(t,e){for(var n=[],r=0,i=0,s="",o=e&&e.delimiter||"/",a;(a=UE.exec(t))!=null;){var l=a[0],c=a[1],u=a.index;if(s+=t.slice(i,u),i=u+l.length,c){s+=c[1];continue}var f=t[i],d=a[2],p=a[3],h=a[4],m=a[5],g=a[6],v=a[7];s&&(n.push(s),s="");var x=d!=null&&f!=null&&f!==d,k=g==="+"||g==="*",T=g==="?"||g==="*",P=a[2]||o,D=h||m;n.push({name:p||r++,prefix:d||"",delimiter:P,optional:T,repeat:k,partial:x,asterisk:!!v,pattern:D?qE(D):v?".*":"[^"+ca(P)+"]+?"})}return i<t.length&&(s+=t.substr(i)),s&&n.push(s),n}function WE(t,e){return Xy(rd(t,e),e)}function KE(t){return encodeURI(t).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function GE(t){return encodeURI(t).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function Xy(t,e){for(var n=new Array(t.length),r=0;r<t.length;r++)typeof t[r]=="object"&&(n[r]=new RegExp("^(?:"+t[r].pattern+")$",sd(e)));return function(i,s){for(var o="",a=i||{},l=s||{},c=l.pretty?KE:encodeURIComponent,u=0;u<t.length;u++){var f=t[u];if(typeof f=="string"){o+=f;continue}var d=a[f.name],p;if(d==null)if(f.optional){f.partial&&(o+=f.prefix);continue}else throw new TypeError('Expected "'+f.name+'" to be defined');if(Ha(d)){if(!f.repeat)throw new TypeError('Expected "'+f.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(d.length===0){if(f.optional)continue;throw new TypeError('Expected "'+f.name+'" to not be empty')}for(var h=0;h<d.length;h++){if(p=c(d[h]),!n[u].test(p))throw new TypeError('Expected all "'+f.name+'" to match "'+f.pattern+'", but received `'+JSON.stringify(p)+"`");o+=(h===0?f.prefix:f.delimiter)+p}continue}if(p=f.asterisk?GE(d):c(d),!n[u].test(p))throw new TypeError('Expected "'+f.name+'" to match "'+f.pattern+'", but received "'+p+'"');o+=f.prefix+p}return o}}function ca(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function qE(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function id(t,e){return t.keys=e,t}function sd(t){return t&&t.sensitive?"":"i"}function JE(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return id(t,e)}function YE(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(Qy(t[i],e,n).source);var s=new RegExp("(?:"+r.join("|")+")",sd(n));return id(s,e)}function XE(t,e,n){return Zy(rd(t,n),e,n)}function Zy(t,e,n){Ha(e)||(n=e||n,e=[]),n=n||{};for(var r=n.strict,i=n.end!==!1,s="",o=0;o<t.length;o++){var a=t[o];if(typeof a=="string")s+=ca(a);else{var l=ca(a.prefix),c="(?:"+a.pattern+")";e.push(a),a.repeat&&(c+="(?:"+l+c+")*"),a.optional?a.partial?c=l+"("+c+")?":c="(?:"+l+"("+c+"))?":c=l+"("+c+")",s+=c}}var u=ca(n.delimiter||"/"),f=s.slice(-u.length)===u;return r||(s=(f?s.slice(0,-u.length):s)+"(?:"+u+"(?=$))?"),i?s+="$":s+=r&&f?"":"(?="+u+"|$)",id(new RegExp("^"+s,sd(n)),e)}function Qy(t,e,n){return Ha(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?JE(t,e):Ha(t)?YE(t,e,n):XE(t,e,n)}Yi.parse=jE;Yi.compile=zE;Yi.tokensToFunction=VE;Yi.tokensToRegExp=HE;var dh=Object.create(null);function ua(t,e,n){e=e||{};try{var r=dh[t]||(dh[t]=Yi.compile(t));return typeof e.pathMatch=="string"&&(e[0]=e.pathMatch),r(e,{pretty:!0})}catch{return""}finally{delete e[0]}}function od(t,e,n,r){var i=typeof t=="string"?{path:t}:t;if(i._normalized)return i;if(i.name){i=Zt({},t);var s=i.params;return s&&typeof s=="object"&&(i.params=Zt({},s)),i}if(!i.path&&i.params&&e){i=Zt({},i),i._normalized=!0;var o=Zt(Zt({},e.params),i.params);if(e.name)i.name=e.name,i.params=o;else if(e.matched.length){var a=e.matched[e.matched.length-1].path;i.path=ua(a,o,"path "+e.path)}return i}var l=FE(i.path||""),c=e&&e.path||"/",u=l.path?Yy(l.path,c,n||i.append):c,f=PE(l.query,i.query,r&&r.options.parseQuery),d=i.hash||l.hash;return d&&d.charAt(0)!=="#"&&(d="#"+d),{_normalized:!0,path:u,query:f,hash:d}}var ZE=[String,Object],QE=[String,Array],ph=function(){},eO={name:"RouterLink",props:{to:{type:ZE,required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:QE,default:"click"}},render:function(e){var n=this,r=this.$router,i=this.$route,s=r.resolve(this.to,i,this.append),o=s.location,a=s.route,l=s.href,c={},u=r.options.linkActiveClass,f=r.options.linkExactActiveClass,d=u??"router-link-active",p=f??"router-link-exact-active",h=this.activeClass==null?d:this.activeClass,m=this.exactActiveClass==null?p:this.exactActiveClass,g=a.redirectedFrom?Va(null,od(a.redirectedFrom),null,r):a;c[m]=qy(i,g,this.exactPath),c[h]=this.exact||this.exactPath?c[m]:DE(i,g);var v=c[m]?this.ariaCurrentValue:null,x=function(b){hh(b)&&(n.replace?r.replace(o,ph):r.push(o,ph))},k={click:hh};Array.isArray(this.event)?this.event.forEach(function(b){k[b]=x}):k[this.event]=x;var T={class:c},P=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:l,route:a,navigate:x,isActive:c[h],isExactActive:c[m]});if(P){if(P.length===1)return P[0];if(P.length>1||!P.length)return P.length===0?e():e("span",{},P)}if(this.tag==="a")T.on=k,T.attrs={href:l,"aria-current":v};else{var D=eb(this.$slots.default);if(D){D.isStatic=!1;var H=D.data=Zt({},D.data);H.on=H.on||{};for(var L in H.on){var M=H.on[L];L in k&&(H.on[L]=Array.isArray(M)?M:[M])}for(var z in k)z in H.on?H.on[z].push(k[z]):H.on[z]=x;var Q=D.data.attrs=Zt({},D.data.attrs);Q.href=l,Q["aria-current"]=v}else T.on=k}return e(this.tag,T,this.$slots.default)}};function hh(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){var e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function eb(t){if(t){for(var e,n=0;n<t.length;n++)if(e=t[n],e.tag==="a"||e.children&&(e=eb(e.children)))return e}}var Ua;function Ou(t){if(!(Ou.installed&&Ua===t)){Ou.installed=!0,Ua=t;var e=function(i){return i!==void 0},n=function(i,s){var o=i.$options._parentVnode;e(o)&&e(o=o.data)&&e(o=o.registerRouteInstance)&&o(i,s)};t.mixin({beforeCreate:function(){e(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),t.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,n(this,this)},destroyed:function(){n(this)}}),Object.defineProperty(t.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(t.prototype,"$route",{get:function(){return this._routerRoot._route}}),t.component("RouterView",LE),t.component("RouterLink",eO);var r=t.config.optionMergeStrategies;r.beforeRouteEnter=r.beforeRouteLeave=r.beforeRouteUpdate=r.created}}var ho=typeof window<"u";function zo(t,e,n,r,i){var s=e||[],o=n||Object.create(null),a=r||Object.create(null);t.forEach(function(u){Tu(s,o,a,u,i)});for(var l=0,c=s.length;l<c;l++)s[l]==="*"&&(s.push(s.splice(l,1)[0]),c--,l--);return{pathList:s,pathMap:o,nameMap:a}}function Tu(t,e,n,r,i,s){var o=r.path,a=r.name,l=r.pathToRegexpOptions||{},c=nO(o,i,l.strict);typeof r.caseSensitive=="boolean"&&(l.sensitive=r.caseSensitive);var u={path:c,regex:tO(c,l),components:r.components||{default:r.component},alias:r.alias?typeof r.alias=="string"?[r.alias]:r.alias:[],instances:{},enteredCbs:{},name:a,parent:i,matchAs:s,redirect:r.redirect,beforeEnter:r.beforeEnter,meta:r.meta||{},props:r.props==null?{}:r.components?r.props:{default:r.props}};if(r.children&&r.children.forEach(function(m){var g=s?er(s+"/"+m.path):void 0;Tu(t,e,n,m,u,g)}),e[u.path]||(t.push(u.path),e[u.path]=u),r.alias!==void 0)for(var f=Array.isArray(r.alias)?r.alias:[r.alias],d=0;d<f.length;++d){var p=f[d],h={path:p,children:r.children};Tu(t,e,n,h,i,u.path||"/")}a&&(n[a]||(n[a]=u))}function tO(t,e){var n=Yi(t,[],e);return n}function nO(t,e,n){return n||(t=t.replace(/\/$/,"")),t[0]==="/"||e==null?t:er(e.path+"/"+t)}function rO(t,e){var n=zo(t),r=n.pathList,i=n.pathMap,s=n.nameMap;function o(p){zo(p,r,i,s)}function a(p,h){var m=typeof p!="object"?s[p]:void 0;zo([h||p],r,i,s,m),m&&m.alias.length&&zo(m.alias.map(function(g){return{path:g,children:[h]}}),r,i,s,m)}function l(){return r.map(function(p){return i[p]})}function c(p,h,m){var g=od(p,h,!1,e),v=g.name;if(v){var x=s[v];if(!x)return d(null,g);var k=x.regex.keys.filter(function(L){return!L.optional}).map(function(L){return L.name});if(typeof g.params!="object"&&(g.params={}),h&&typeof h.params=="object")for(var T in h.params)!(T in g.params)&&k.indexOf(T)>-1&&(g.params[T]=h.params[T]);return g.path=ua(x.path,g.params),d(x,g,m)}else if(g.path){g.params={};for(var P=0;P<r.length;P++){var D=r[P],H=i[D];if(iO(H.regex,g.path,g.params))return d(H,g,m)}}return d(null,g)}function u(p,h){var m=p.redirect,g=typeof m=="function"?m(Va(p,h,null,e)):m;if(typeof g=="string"&&(g={path:g}),!g||typeof g!="object")return d(null,h);var v=g,x=v.name,k=v.path,T=h.query,P=h.hash,D=h.params;if(T=v.hasOwnProperty("query")?v.query:T,P=v.hasOwnProperty("hash")?v.hash:P,D=v.hasOwnProperty("params")?v.params:D,x)return s[x],c({_normalized:!0,name:x,query:T,hash:P,params:D},void 0,h);if(k){var H=sO(k,p),L=ua(H,D);return c({_normalized:!0,path:L,query:T,hash:P},void 0,h)}else return d(null,h)}function f(p,h,m){var g=ua(m,h.params),v=c({_normalized:!0,path:g});if(v){var x=v.matched,k=x[x.length-1];return h.params=v.params,d(k,h)}return d(null,h)}function d(p,h,m){return p&&p.redirect?u(p,m||h):p&&p.matchAs?f(p,h,p.matchAs):Va(p,h,m,e)}return{match:c,addRoute:a,getRoutes:l,addRoutes:o}}function iO(t,e,n){var r=e.match(t);if(r){if(!n)return!0}else return!1;for(var i=1,s=r.length;i<s;++i){var o=t.keys[i-1];o&&(n[o.name||"pathMatch"]=typeof r[i]=="string"?ku(r[i]):r[i])}return!0}function sO(t,e){return Yy(t,e.parent?e.parent.path:"/",!0)}var oO=ho&&window.performance&&window.performance.now?window.performance:Date;function tb(){return oO.now().toFixed(3)}var nb=tb();function jl(){return nb}function rb(t){return nb=t}var ib=Object.create(null);function sb(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var t=window.location.protocol+"//"+window.location.host,e=window.location.href.replace(t,""),n=Zt({},window.history.state);return n.key=jl(),window.history.replaceState(n,"",e),window.addEventListener("popstate",mh),function(){window.removeEventListener("popstate",mh)}}function tr(t,e,n,r){if(t.app){var i=t.options.scrollBehavior;i&&t.app.$nextTick(function(){var s=aO(),o=i.call(t,e,n,r?s:null);o&&(typeof o.then=="function"?o.then(function(a){yh(a,s)}).catch(function(a){}):yh(o,s))})}}function ob(){var t=jl();t&&(ib[t]={x:window.pageXOffset,y:window.pageYOffset})}function mh(t){ob(),t.state&&t.state.key&&rb(t.state.key)}function aO(){var t=jl();if(t)return ib[t]}function lO(t,e){var n=document.documentElement,r=n.getBoundingClientRect(),i=t.getBoundingClientRect();return{x:i.left-r.left-e.x,y:i.top-r.top-e.y}}function gh(t){return Di(t.x)||Di(t.y)}function vh(t){return{x:Di(t.x)?t.x:window.pageXOffset,y:Di(t.y)?t.y:window.pageYOffset}}function cO(t){return{x:Di(t.x)?t.x:0,y:Di(t.y)?t.y:0}}function Di(t){return typeof t=="number"}var uO=/^#\d/;function yh(t,e){var n=typeof t=="object";if(n&&typeof t.selector=="string"){var r=uO.test(t.selector)?document.getElementById(t.selector.slice(1)):document.querySelector(t.selector);if(r){var i=t.offset&&typeof t.offset=="object"?t.offset:{};i=cO(i),e=lO(r,i)}else gh(t)&&(e=vh(t))}else n&&gh(t)&&(e=vh(t));e&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:e.x,top:e.y,behavior:t.behavior}):window.scrollTo(e.x,e.y))}var nr=ho&&function(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")!==-1||t.indexOf("Android 4.0")!==-1)&&t.indexOf("Mobile Safari")!==-1&&t.indexOf("Chrome")===-1&&t.indexOf("Windows Phone")===-1?!1:window.history&&typeof window.history.pushState=="function"}();function Wa(t,e){ob();var n=window.history;try{if(e){var r=Zt({},n.state);r.key=jl(),n.replaceState(r,"",t)}else n.pushState({key:rb(tb())},"",t)}catch{window.location[e?"replace":"assign"](t)}}function $u(t){Wa(t,!0)}var ei={redirected:2,aborted:4,cancelled:8,duplicated:16};function fO(t,e){return zl(t,e,ei.redirected,'Redirected when going from "'+t.fullPath+'" to "'+mO(e)+'" via a navigation guard.')}function dO(t,e){var n=zl(t,e,ei.duplicated,'Avoided redundant navigation to current location: "'+t.fullPath+'".');return n.name="NavigationDuplicated",n}function bh(t,e){return zl(t,e,ei.cancelled,'Navigation cancelled from "'+t.fullPath+'" to "'+e.fullPath+'" with a new navigation.')}function pO(t,e){return zl(t,e,ei.aborted,'Navigation aborted from "'+t.fullPath+'" to "'+e.fullPath+'" via a navigation guard.')}function zl(t,e,n,r){var i=new Error(r);return i._isRouter=!0,i.from=t,i.to=e,i.type=n,i}var hO=["params","query","hash"];function mO(t){if(typeof t=="string")return t;if("path"in t)return t.path;var e={};return hO.forEach(function(n){n in t&&(e[n]=t[n])}),JSON.stringify(e,null,2)}function Ka(t){return Object.prototype.toString.call(t).indexOf("Error")>-1}function Vl(t,e){return Ka(t)&&t._isRouter&&(e==null||t.type===e)}function _h(t,e,n){var r=function(i){i>=t.length?n():t[i]?e(t[i],function(){r(i+1)}):r(i+1)};r(0)}function gO(t){return function(e,n,r){var i=!1,s=0,o=null;ab(t,function(a,l,c,u){if(typeof a=="function"&&a.cid===void 0){i=!0,s++;var f=wh(function(m){yO(m)&&(m=m.default),a.resolved=typeof m=="function"?m:Ua.extend(m),c.components[u]=m,s--,s<=0&&r()}),d=wh(function(m){var g="Failed to resolve async component "+u+": "+m;o||(o=Ka(m)?m:new Error(g),r(o))}),p;try{p=a(f,d)}catch(m){d(m)}if(p)if(typeof p.then=="function")p.then(f,d);else{var h=p.component;h&&typeof h.then=="function"&&h.then(f,d)}}}),i||r()}}function ab(t,e){return lb(t.map(function(n){return Object.keys(n.components).map(function(r){return e(n.components[r],n.instances[r],n,r)})}))}function lb(t){return Array.prototype.concat.apply([],t)}var vO=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol";function yO(t){return t.__esModule||vO&&t[Symbol.toStringTag]==="Module"}function wh(t){var e=!1;return function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];if(!e)return e=!0,t.apply(this,n)}}var on=function(e,n){this.router=e,this.base=bO(n),this.current=mr,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};on.prototype.listen=function(e){this.cb=e};on.prototype.onReady=function(e,n){this.ready?e():(this.readyCbs.push(e),n&&this.readyErrorCbs.push(n))};on.prototype.onError=function(e){this.errorCbs.push(e)};on.prototype.transitionTo=function(e,n,r){var i=this,s;try{s=this.router.match(e,this.current)}catch(a){throw this.errorCbs.forEach(function(l){l(a)}),a}var o=this.current;this.confirmTransition(s,function(){i.updateRoute(s),n&&n(s),i.ensureURL(),i.router.afterHooks.forEach(function(a){a&&a(s,o)}),i.ready||(i.ready=!0,i.readyCbs.forEach(function(a){a(s)}))},function(a){r&&r(a),a&&!i.ready&&(!Vl(a,ei.redirected)||o!==mr)&&(i.ready=!0,i.readyErrorCbs.forEach(function(l){l(a)}))})};on.prototype.confirmTransition=function(e,n,r){var i=this,s=this.current;this.pending=e;var o=function(m){!Vl(m)&&Ka(m)&&(i.errorCbs.length?i.errorCbs.forEach(function(g){g(m)}):console.error(m)),r&&r(m)},a=e.matched.length-1,l=s.matched.length-1;if(qy(e,s)&&a===l&&e.matched[a]===s.matched[l])return this.ensureURL(),e.hash&&tr(this.router,s,e,!1),o(dO(s,e));var c=_O(this.current.matched,e.matched),u=c.updated,f=c.deactivated,d=c.activated,p=[].concat(xO(f),this.router.beforeHooks,SO(u),d.map(function(m){return m.beforeEnter}),gO(d)),h=function(m,g){if(i.pending!==e)return o(bh(s,e));try{m(e,s,function(v){v===!1?(i.ensureURL(!0),o(pO(s,e))):Ka(v)?(i.ensureURL(!0),o(v)):typeof v=="string"||typeof v=="object"&&(typeof v.path=="string"||typeof v.name=="string")?(o(fO(s,e)),typeof v=="object"&&v.replace?i.replace(v):i.push(v)):g(v)})}catch(v){o(v)}};_h(p,h,function(){var m=CO(d),g=m.concat(i.router.resolveHooks);_h(g,h,function(){if(i.pending!==e)return o(bh(s,e));i.pending=null,n(e),i.router.app&&i.router.app.$nextTick(function(){Jy(e)})})})};on.prototype.updateRoute=function(e){this.current=e,this.cb&&this.cb(e)};on.prototype.setupListeners=function(){};on.prototype.teardown=function(){this.listeners.forEach(function(e){e()}),this.listeners=[],this.current=mr,this.pending=null};function bO(t){if(!t)if(ho){var e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^https?:\/\/[^\/]+/,"")}else t="/";return t.charAt(0)!=="/"&&(t="/"+t),t.replace(/\/$/,"")}function _O(t,e){var n,r=Math.max(t.length,e.length);for(n=0;n<r&&t[n]===e[n];n++);return{updated:e.slice(0,n),activated:e.slice(n),deactivated:t.slice(n)}}function ad(t,e,n,r){var i=ab(t,function(s,o,a,l){var c=wO(s,e);if(c)return Array.isArray(c)?c.map(function(u){return n(u,o,a,l)}):n(c,o,a,l)});return lb(r?i.reverse():i)}function wO(t,e){return typeof t!="function"&&(t=Ua.extend(t)),t.options[e]}function xO(t){return ad(t,"beforeRouteLeave",cb,!0)}function SO(t){return ad(t,"beforeRouteUpdate",cb)}function cb(t,e){if(e)return function(){return t.apply(e,arguments)}}function CO(t){return ad(t,"beforeRouteEnter",function(e,n,r,i){return kO(e,r,i)})}function kO(t,e,n){return function(i,s,o){return t(i,s,function(a){typeof a=="function"&&(e.enteredCbs[n]||(e.enteredCbs[n]=[]),e.enteredCbs[n].push(a)),o(a)})}}var ub=function(t){function e(n,r){t.call(this,n,r),this._startLocation=_s(this.base)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var r=this;if(!(this.listeners.length>0)){var i=this.router,s=i.options.scrollBehavior,o=nr&&s;o&&this.listeners.push(sb());var a=function(){var l=r.current,c=_s(r.base);r.current===mr&&c===r._startLocation||r.transitionTo(c,function(u){o&&tr(i,u,l,!0)})};window.addEventListener("popstate",a),this.listeners.push(function(){window.removeEventListener("popstate",a)})}},e.prototype.go=function(r){window.history.go(r)},e.prototype.push=function(r,i,s){var o=this,a=this,l=a.current;this.transitionTo(r,function(c){Wa(er(o.base+c.fullPath)),tr(o.router,c,l,!1),i&&i(c)},s)},e.prototype.replace=function(r,i,s){var o=this,a=this,l=a.current;this.transitionTo(r,function(c){$u(er(o.base+c.fullPath)),tr(o.router,c,l,!1),i&&i(c)},s)},e.prototype.ensureURL=function(r){if(_s(this.base)!==this.current.fullPath){var i=er(this.base+this.current.fullPath);r?Wa(i):$u(i)}},e.prototype.getCurrentLocation=function(){return _s(this.base)},e}(on);function _s(t){var e=window.location.pathname,n=e.toLowerCase(),r=t.toLowerCase();return t&&(n===r||n.indexOf(er(r+"/"))===0)&&(e=e.slice(t.length)),(e||"/")+window.location.search+window.location.hash}var fb=function(t){function e(n,r,i){t.call(this,n,r),!(i&&EO(this.base))&&xh()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var r=this;if(!(this.listeners.length>0)){var i=this.router,s=i.options.scrollBehavior,o=nr&&s;o&&this.listeners.push(sb());var a=function(){var c=r.current;xh()&&r.transitionTo(fa(),function(u){o&&tr(r.router,u,c,!0),nr||da(u.fullPath)})},l=nr?"popstate":"hashchange";window.addEventListener(l,a),this.listeners.push(function(){window.removeEventListener(l,a)})}},e.prototype.push=function(r,i,s){var o=this,a=this,l=a.current;this.transitionTo(r,function(c){Sh(c.fullPath),tr(o.router,c,l,!1),i&&i(c)},s)},e.prototype.replace=function(r,i,s){var o=this,a=this,l=a.current;this.transitionTo(r,function(c){da(c.fullPath),tr(o.router,c,l,!1),i&&i(c)},s)},e.prototype.go=function(r){window.history.go(r)},e.prototype.ensureURL=function(r){var i=this.current.fullPath;fa()!==i&&(r?Sh(i):da(i))},e.prototype.getCurrentLocation=function(){return fa()},e}(on);function EO(t){var e=_s(t);if(!/^\/#/.test(e))return window.location.replace(er(t+"/#"+e)),!0}function xh(){var t=fa();return t.charAt(0)==="/"?!0:(da("/"+t),!1)}function fa(){var t=window.location.href,e=t.indexOf("#");return e<0?"":(t=t.slice(e+1),t)}function Iu(t){var e=window.location.href,n=e.indexOf("#"),r=n>=0?e.slice(0,n):e;return r+"#"+t}function Sh(t){nr?Wa(Iu(t)):window.location.hash=t}function da(t){nr?$u(Iu(t)):window.location.replace(Iu(t))}var OO=function(t){function e(n,r){t.call(this,n,r),this.stack=[],this.index=-1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(r,i,s){var o=this;this.transitionTo(r,function(a){o.stack=o.stack.slice(0,o.index+1).concat(a),o.index++,i&&i(a)},s)},e.prototype.replace=function(r,i,s){var o=this;this.transitionTo(r,function(a){o.stack=o.stack.slice(0,o.index).concat(a),i&&i(a)},s)},e.prototype.go=function(r){var i=this,s=this.index+r;if(!(s<0||s>=this.stack.length)){var o=this.stack[s];this.confirmTransition(o,function(){var a=i.current;i.index=s,i.updateRoute(o),i.router.afterHooks.forEach(function(l){l&&l(o,a)})},function(a){Vl(a,ei.duplicated)&&(i.index=s)})}},e.prototype.getCurrentLocation=function(){var r=this.stack[this.stack.length-1];return r?r.fullPath:"/"},e.prototype.ensureURL=function(){},e}(on),Se=function(e){e===void 0&&(e={}),this.app=null,this.apps=[],this.options=e,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=rO(e.routes||[],this);var n=e.mode||"hash";switch(this.fallback=n==="history"&&!nr&&e.fallback!==!1,this.fallback&&(n="hash"),ho||(n="abstract"),this.mode=n,n){case"history":this.history=new ub(this,e.base);break;case"hash":this.history=new fb(this,e.base,this.fallback);break;case"abstract":this.history=new OO(this,e.base);break}},db={currentRoute:{configurable:!0}};Se.prototype.match=function(e,n,r){return this.matcher.match(e,n,r)};db.currentRoute.get=function(){return this.history&&this.history.current};Se.prototype.init=function(e){var n=this;if(this.apps.push(e),e.$once("hook:destroyed",function(){var o=n.apps.indexOf(e);o>-1&&n.apps.splice(o,1),n.app===e&&(n.app=n.apps[0]||null),n.app||n.history.teardown()}),!this.app){this.app=e;var r=this.history;if(r instanceof ub||r instanceof fb){var i=function(o){var a=r.current,l=n.options.scrollBehavior,c=nr&&l;c&&"fullPath"in o&&tr(n,o,a,!1)},s=function(o){r.setupListeners(),i(o)};r.transitionTo(r.getCurrentLocation(),s,s)}r.listen(function(o){n.apps.forEach(function(a){a._route=o})})}};Se.prototype.beforeEach=function(e){return ld(this.beforeHooks,e)};Se.prototype.beforeResolve=function(e){return ld(this.resolveHooks,e)};Se.prototype.afterEach=function(e){return ld(this.afterHooks,e)};Se.prototype.onReady=function(e,n){this.history.onReady(e,n)};Se.prototype.onError=function(e){this.history.onError(e)};Se.prototype.push=function(e,n,r){var i=this;if(!n&&!r&&typeof Promise<"u")return new Promise(function(s,o){i.history.push(e,s,o)});this.history.push(e,n,r)};Se.prototype.replace=function(e,n,r){var i=this;if(!n&&!r&&typeof Promise<"u")return new Promise(function(s,o){i.history.replace(e,s,o)});this.history.replace(e,n,r)};Se.prototype.go=function(e){this.history.go(e)};Se.prototype.back=function(){this.go(-1)};Se.prototype.forward=function(){this.go(1)};Se.prototype.getMatchedComponents=function(e){var n=e?e.matched?e:this.resolve(e).route:this.currentRoute;return n?[].concat.apply([],n.matched.map(function(r){return Object.keys(r.components).map(function(i){return r.components[i]})})):[]};Se.prototype.resolve=function(e,n,r){n=n||this.history.current;var i=od(e,n,r,this),s=this.match(i,n),o=s.redirectedFrom||s.fullPath,a=this.history.base,l=TO(a,o,this.mode);return{location:i,route:s,href:l,normalizedTo:i,resolved:s}};Se.prototype.getRoutes=function(){return this.matcher.getRoutes()};Se.prototype.addRoute=function(e,n){this.matcher.addRoute(e,n),this.history.current!==mr&&this.history.transitionTo(this.history.getCurrentLocation())};Se.prototype.addRoutes=function(e){this.matcher.addRoutes(e),this.history.current!==mr&&this.history.transitionTo(this.history.getCurrentLocation())};Object.defineProperties(Se.prototype,db);var pb=Se;function ld(t,e){return t.push(e),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function TO(t,e,n){var r=n==="hash"?"#"+e:e;return t?er(t+"/"+r):r}Se.install=Ou;Se.version="3.6.5";Se.isNavigationFailure=Vl;Se.NavigationFailureType=ei;Se.START_LOCATION=mr;ho&&window.Vue&&window.Vue.use(Se);const $O={name:"MaglevDefaultLayout",computed:{logoUrl(){return this.$store.state.editorSettings.logoUrl},pageId(){return this.currentPage.pathHash[this.currentLocale]}}};var IO=function(){var e=this,n=e._self._c;return n("div",{staticClass:"h-full"},[n("header",{staticClass:"flex h-16 border-b border-gray-200"},[e.currentSite&&e.currentPage&&e.currentLocale?n("router-link",{staticClass:"w-16 h-full flex justify-center items-center border-r border-gray-200",attrs:{to:{name:"editPage",params:{locale:e.currentLocale,pageId:e.pageId}}}},[n("img",{staticClass:"w-2/4",attrs:{src:e.logoUrl}})]):n("div",{staticClass:"w-16 h-full flex justify-center items-center border-r border-gray-200"},[n("img",{staticClass:"w-2/4",attrs:{src:e.logoUrl}})]),n("div",{staticClass:"flex flex-grow items-center h-full"},[e._t("header",function(){return[e._v(" [Layout] Default header ")]})],2)],1),n("div",{staticClass:"flex content-area"},[n("aside",{staticClass:"w-16 flex-shrink-0 flex content-center h-full border-r border-gray-200 relative z-20 bg-white"},[e._t("sidebar",function(){return[e._v(" [Layout] Default sidebar ")]})],2),n("main",{staticClass:"bg-gray-100 w-full h-full"},[e._t("default",function(){return[e._v(" [Layout] Default content ")]})],2)]),e._t("slide-pane")],2)},PO=[],AO=A($O,IO,PO,!1,null,"41dd6ac0");const MO=AO.exports,NO={name:"DeviceToggler",computed:{devices(){return[["desktop","computer"],["tablet","tablet"],["mobile","smartphone"]]},icons(){return this.devices.map(t=>({device:t[0],name:`${t[1]}-line`,color:t[0]===this.device?"var(--editor-color-primary)":null}))}}};var DO=function(){var e=this,n=e._self._c;return n("div",{staticClass:"flex items-center"},e._l(e.icons,function(r,i){return n("uikit-icon",{key:r.device,staticClass:"cursor-pointer",class:{"mx-2":i===1},attrs:{name:r.name,color:r.color,size:"1.5rem"},nativeOn:{click:function(s){return e.setDevice(r.device)}}})}),1)},RO=[],LO=A(NO,DO,RO,!1,null,null);const BO=LO.exports,FO={name:"LocaleTogglerLink",props:{locale:{type:Object,required:!0},defaultLocale:{type:Object,required:!0}},computed:{isActive(){return this.locale.prefix===this.currentLocale},pageId(){const t=this.currentPage.pathHash;return t[this.locale.prefix]||t[this.defaultLocale.prefix]}}};var jO=function(){var e=this,n=e._self._c;return n("router-link",{key:e.locale.prefix,staticClass:"flex items-center px-4 py-4 hover:bg-gray-100 transition-colors duration-200 focus:outline-none cursor-pointer text-md",class:{"font-bold":e.isActive},attrs:{to:{name:"editPage",params:{locale:e.locale.prefix,pageId:e.pageId}}}},[e._v(" "+e._s(e.locale.label)+" ")])},zO=[],VO=A(FO,jO,zO,!1,null,null);const HO=VO.exports,UO={name:"LocaleToggler",components:{LocaleLink:HO},computed:{currentLabel(){var t;return(t=this.locales.find(e=>e.prefix===this.currentLocale))==null?void 0:t.label},locales(){return this.currentSite.locales},defaultLocale(){return this.locales[0]}},watch:{currentLocale(){this.$refs.dropdown.close()}}};var WO=function(){var e=this,n=e._self._c;return n("div",[n("uikit-dropdown",{ref:"dropdown",staticClass:"h-full flex",attrs:{placement:"bottom"},scopedSlots:e._u([{key:"button",fn:function(){return[n("button",{staticClass:"h-full w-full px-6 hover:bg-editor-primary hover:bg-opacity-5 transition-colors duration-200 flex items-center focus:outline-none focus:none"},[n("uikit-icon",{staticClass:"mr-2",attrs:{name:"ri-global-line"}}),n("span",{staticClass:"mr-1"},[e._v(e._s(e.currentLabel))]),n("uikit-icon",{attrs:{name:"arrow-down-s-line"}})],1)]},proxy:!0},{key:"content",fn:function(){return[n("div",{staticClass:"w-48 flex flex-col"},e._l(e.locales,function(r){return n("locale-link",{key:r.prefix,attrs:{locale:r,defaultLocale:e.defaultLocale}})}),1)]},proxy:!0}])})],1)},KO=[],GO=A(UO,WO,KO,!1,null,null);const qO=GO.exports,JO={name:"PreviewButton"};var YO=function(){var e=this,n=e._self._c;return n("a",{staticClass:"px-6 flex items-center hover:bg-editor-primary/5 transition-colors duration-200",attrs:{href:e.currentPage.previewUrl,target:"_blank"}},[e._v(" "+e._s(e.$t("headerNav.previewSite"))+" ")])},XO=[],ZO=A(JO,YO,XO,!1,null,null);const QO=ZO.exports,eT={name:"PreviewToggler",computed:{}};var tT=function(){var e=this,n=e._self._c;return n("div",[n("uikit-dropdown",{ref:"dropdown",staticClass:"h-full flex",attrs:{placement:"bottom"},scopedSlots:e._u([{key:"button",fn:function(){return[n("button",{staticClass:"h-full w-full px-6 hover:bg-editor-primary hover:bg-opacity-5 transition-colors duration-200 flex items-center focus:outline-none focus:none"},[n("span",[e._v(e._s(e.$t("headerNav.previewToggler.button")))]),n("uikit-icon",{attrs:{name:"arrow-down-s-line"}})],1)]},proxy:!0},{key:"content",fn:function(){return[n("div",{staticClass:"w-48 flex flex-col"},[n("a",{staticClass:"preview-link",attrs:{target:"_blank",href:e.currentPage.previewUrl}},[e._v(e._s(e.$t("headerNav.previewToggler.draftLink")))]),n("a",{staticClass:"preview-link",attrs:{target:"_blank",href:e.currentPage.liveUrl}},[e._v(e._s(e.$t("headerNav.previewToggler.liveLink")))])])]},proxy:!0}])})],1)},nT=[],rT=A(eT,tT,nT,!1,null,"2c72a0a4");const iT=rT.exports,sT={name:"PublishButton",computed:{status(){return this.$store.state.ui.publishButtonState.status},label(){return this.$store.state.ui.publishButtonState.label||this.$t(`headerNav.publishButton.${this.status}`)},isUninitialized(){return!this.status},hasModifiedSections(){return!this.isBlank(this.$store.state.touchedSections)},isReady(){return this.status==="default"&&!this.hasModifiedSections},isInProgress(){return this.status==="inProgress"},isSuccess(){return this.status==="success"},isFail(){return this.status==="fail"}},methods:{async publish(){this.isReady&&this.$store.dispatch("publishSite")}}};var oT=function(){var e=this,n=e._self._c;return n("div",{staticClass:"px-5 flex items-center"},[e.isUninitialized?n("div",{staticClass:"flex items-center h-10 w-44 animate-pulse"},[n("div",{staticClass:"h-full w-full bg-gray-200 rounded"})]):n("button",{staticClass:"rounded-sm py-2 px-4 border transition-colors duration-200",class:{"text-gray-400 border-gray-100 hover:bg-editor-primary/5 cursor-not-allowed":e.hasModifiedSections,"text-gray-900 border-gray-400 hover:bg-editor-primary/5":e.isReady,"text-gray-900 cursor-wait":e.isInProgress,"bg-green-500 border-green-500 text-white":e.isSuccess,"bg-red-600 border-red-600 text-white":e.isFail},attrs:{disabled:e.isInProgress||e.hasModifiedSections},on:{click:e.publish}},[n("span",{staticClass:"flex items-center justify-center space-x-2"},[e.isInProgress?n("uikit-icon",{attrs:{icon:"circle-notch",name:"ri-loader-4-line",spin:""}}):e._e(),e.isSuccess?n("uikit-icon",{attrs:{name:"ri-check-line"}}):e._e(),e.isFail?n("uikit-icon",{attrs:{name:"ri-alert-line"}}):e._e(),n("span",[e._v(e._s(e.label))])],1)])])},aT=[],lT=A(sT,oT,aT,!1,null,null);const cT=lT.exports,uT={name:"SaveButton",props:{big:{type:Boolean,default:!1}},computed:{buttonState(){return this.$store.state.ui.saveButtonState}},methods:{async save(){await this.$store.dispatch("persistPage")}}};var fT=function(){var e=this,n=e._self._c;return n("uikit-submit-button",{staticClass:"block text-white bg-opacity-95 hover:bg-opacity-100 transition-colors duration-200",class:{"w-40 h-full":e.big,"rounded-sm py-2 px-4 text-center w-32 border border-opacity-0":!e.big},attrs:{type:"button",defaultColorClass:"bg-editor-primary",labels:e.$t("headerNav.saveButton"),buttonState:e.buttonState},on:{click:e.save}})},dT=[],pT=A(uT,fT,dT,!1,null,null);const hT=pT.exports,mT={name:"HeaderNavSeparator"};var gT=function(){var e=this;return e._self._c,e._m(0)},vT=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"h-full py-4 w-px"},[e("div",{staticClass:"h-full w-full bg-gray-300"})])}],yT=A(mT,gT,vT,!1,null,null);const bT=yT.exports,_T={name:"HeaderNav",components:{DeviceToggler:BO,LocaleToggler:qO,PreviewButton:QO,PublishButton:cT,SaveButton:hT,Separator:bT,PreviewToggler:iT},computed:{isLoading(){return!this.currentSite||!this.currentPage},isListPagesActive(){return this.$route.name==="listPages"},isEditPageActive(){return this.$route.name==="editPageSettings"}}};var wT=function(){var e=this,n=e._self._c;return n("nav",{staticClass:"h-full w-full"},[e.isLoading?n("div",{staticClass:"flex items-center justify-between h-full w-full animate-pulse"},[n("div",{staticClass:"h-6 bg-gray-200 rounded w-1/4 mx-6"}),n("div",{staticClass:"h-6 bg-gray-200 rounded w-1/4 mx-6"})]):n("div",{staticClass:"flex justify-between h-full w-full"},[n("div",{staticClass:"flex"},[n("router-link",{staticClass:"flex items-center py-4 px-6 flex-row hover:bg-editor-primary hover:bg-opacity-5 transition-colors duration-200",class:{"bg-white":!e.isListPagesActive,"bg-editor-primary bg-opacity-5":e.isListPagesActive},attrs:{to:{name:"listPages"}}},[n("span",[e._v(e._s(e.$t("headerNav.pages")))]),n("uikit-page-icon",{staticClass:"ml-4",attrs:{page:e.currentPage}}),n("span",{staticClass:"ml-2"},[e._v(e._s(e.currentPage.title))]),n("uikit-icon",{staticClass:"ml-3",attrs:{name:"arrow-down-s-line"}})],1),n("separator"),n("router-link",{staticClass:"flex items-center py-4 px-6 flex-row hover:bg-editor-primary hover:bg-opacity-5 transition-colors duration-200",class:{"bg-white":!e.isEditPageActive,"bg-editor-primary bg-opacity-5":e.isEditPageActive},attrs:{to:{name:"editPageSettings"}}},[n("uikit-icon",{attrs:{name:"settings-4-line",size:"1.25rem"}}),n("span",{staticClass:"ml-2"},[e._v(e._s(e.$t("headerNav.pageSettings")))])],1),n("separator")],1),n("div",{staticClass:"flex"},[n("div",{staticClass:"flex py-4 px-6"},[n("device-toggler")],1),n("separator"),e.hasMultipleLocales?n("div",{staticClass:"flex h-full relative"},[n("locale-toggler")],1):e._e(),e.hasMultipleLocales?n("separator"):e._e(),e.isSitePublishable?n("preview-toggler"):n("preview-button"),e.isSitePublishable?n("separator"):e._e(),e.isSitePublishable?n("div",{staticClass:"flex items-center h-full relative space-x-1 pr-4"},[n("publish-button"),n("save-button")],1):n("div",[n("save-button",{attrs:{big:!0}})],1)],1)])])},xT=[],ST=A(_T,wT,xT,!1,null,null);const CT=ST.exports,kT={};var ET=function(){var e=this,n=e._self._c;return e._self._setupProxy,n("h1",[e._v("Custom template for image picker?")])},OT=[],TT=A(kT,ET,OT,!1,null,null);const hb=TT.exports,$T={name:"SidebarNav",computed:{hasStyle(){return!this.isBlank(this.currentStyle)},isAddSectionPaneActive(){return this.$route.name==="addSection"},isSectionListPaneActive(){return this.$route.name==="listSections"},isEditStylePaneActive(){return this.$route.name==="editStyle"},leaveEditorUrl(){return window.leaveUrl}},methods:{openImageLibraryModal(){this.openModal({title:this.$t("imageLibrary.title"),component:hb,props:{modalClass:"w-216"}})}}};var IT=function(){var e=this,n=e._self._c;return n("nav",{staticClass:"w-16 flex flex-col justify-between"},[e.currentPage?n("ol",{staticClass:"divide-y divide-gray-300 px-4"},[n("li",[n("router-link",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:e.$t("sidebarNav.addNewSectionTooltip"),expression:"$t('sidebarNav.addNewSectionTooltip')",modifiers:{right:!0}}],staticClass:"flex justify-center py-5 -ml-4 -mr-4 hover:bg-editor-primary hover:bg-opacity-5 transition-colors duration-200",class:{"bg-white":!e.isAddSectionPaneActive,"bg-editor-primary bg-opacity-5":e.isAddSectionPaneActive},attrs:{to:{name:"addSection"}}},[n("uikit-icon",{attrs:{name:"add-box-line",size:"1.5rem"}})],1)],1),n("li",[n("router-link",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:e.$t("sidebarNav.managePageSectionsTooltip"),expression:"$t('sidebarNav.managePageSectionsTooltip')",modifiers:{right:!0}}],staticClass:"flex justify-center py-5 -ml-4 -mr-4 hover:bg-editor-primary hover:bg-opacity-5 transition-colors duration-200",class:{"bg-white":!e.isSectionListPaneActive,"bg-editor-primary bg-opacity-5":e.isSectionListPaneActive},attrs:{to:{name:"listSections"}}},[n("uikit-icon",{attrs:{name:"ri-stack-line",size:"1.5rem"}})],1)],1),e.hasStyle?n("li",[n("router-link",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:e.$t("sidebarNav.editStyleTooltip"),expression:"$t('sidebarNav.editStyleTooltip')",modifiers:{right:!0}}],staticClass:"flex justify-center py-5 -ml-4 -mr-4 hover:bg-editor-primary hover:bg-opacity-5 transition-colors duration-200",class:{"bg-white":!e.isEditStylePaneActive,"bg-editor-primary bg-opacity-5":e.isEditStylePaneActive},attrs:{to:{name:"editStyle"}}},[n("uikit-icon",{attrs:{name:"ri-drop-line",size:"1.25rem"}})],1)],1):e._e(),n("li",[n("a",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:e.$t("sidebarNav.openImageLibraryTooltip"),expression:"$t('sidebarNav.openImageLibraryTooltip')",modifiers:{right:!0}}],staticClass:"flex justify-center py-5 -ml-4 -mr-4 hover:bg-editor-primary hover:bg-opacity-5 transition-colors duration-200",attrs:{href:"#"},on:{click:function(r){return r.preventDefault(),e.openImageLibraryModal.apply(null,arguments)}}},[n("uikit-icon",{attrs:{name:"image-line",size:"1.5rem"}})],1)]),e._e(),e._e(),n("li")]):n("div",{staticClass:"flex justify-center h-full w-full animate-pulse"},[n("div",{staticClass:"w-6 bg-gray-200 rounded h-48 my-6"})]),n("ol",{staticClass:"divide-y divide-gray-300 px-4"},[n("li"),n("li",[n("a",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:e.$t("sidebarNav.leaveEditorTooltip"),expression:"$t('sidebarNav.leaveEditorTooltip')",modifiers:{right:!0}}],staticClass:"flex justify-center py-5 -ml-4 -mr-4 hover:bg-editor-primary hover:bg-opacity-5 transition-colors duration-200",attrs:{href:e.leaveEditorUrl}},[n("uikit-icon",{attrs:{name:"logout-box-r-line",size:"1.5rem"}})],1)])])])},PT=[],AT=A($T,IT,PT,!1,null,null);const MT=AT.exports,NT={name:"AppLayout",components:{Layout:MO,HeaderNav:CT,SidebarNav:MT}};var DT=function(){var e=this,n=e._self._c;return n("layout",{staticClass:"font-nunito overflow-hidden",attrs:{id:"maglev-app"},scopedSlots:e._u([{key:"header",fn:function(){return[n("header-nav")]},proxy:!0},{key:"sidebar",fn:function(){return[n("sidebar-nav")]},proxy:!0},{key:"slide-pane",fn:function(){return[n("transition",{attrs:{name:"slide",mode:"out-in"}},[n("router-view",{attrs:{name:"slide-pane"}})],1)]},proxy:!0}])},[n("router-view")],1)},RT=[],LT=A(NT,DT,RT,!1,null,null);const Ch=LT.exports;var Or=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function mb(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var pa={},ud={};Object.defineProperty(ud,"__esModule",{value:!0});var BT=function(){function t(e){this._observers=new Map,this._subscribed=!1;var n=(e??{}).delay,r=n===void 0?33:n;this._delay=r,this._handler=this._handleResize.bind(this)}return t.prototype.addObserver=function(e,n){return this._observers.set(e,n),n(this._getEvent()),this},t.prototype.deleteObserver=function(e){return this._observers.delete(e),this},t.prototype.deleteObservers=function(){return this._observers.clear(),this},t.prototype.notifyObservers=function(e){return this._observers.forEach(function(n){n(e)}),this},t.prototype.subscribe=function(){return typeof window>"u"||this._subscribed||(window.addEventListener("resize",this._handler),window.addEventListener("orientationchange",this._handler),this._subscribed=!0),this},t.prototype.unsubscribe=function(){return this._subscribed?(window.removeEventListener("resize",this._handler),window.removeEventListener("orientationchange",this._handler),this._subscribed=!1,this):this},t.prototype.setDelay=function(e){return this._delay=e,this},t.prototype.hasObserver=function(){return this._observers.size>0},t.prototype.dispatch=function(){return this._dispatch(),this},t.prototype._getEvent=function(){return typeof window>"u"?{width:0,height:0}:{width:window.innerWidth,height:window.innerHeight}},t.prototype._dispatch=function(){var e=this._getEvent();this.notifyObservers(e)},t.prototype._handleResize=function(){var e=this;clearTimeout(this._timer),this._timer=setTimeout(function(){e._dispatch()},this._delay)},t}();ud.WindowResizeSubject=BT;const FT=mb(KC);var gb;Object.defineProperty(pa,"__esModule",{value:!0});var jT=ud;function zT(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var bc=zT(FT),fd=new jT.WindowResizeSubject,vb=function(t){var e=typeof bc.default.observable=="function"?bc.default.observable({width:800,height:600}):new bc.default({data:{width:800,height:600}});return t.addObserver("option",function(n){var r=n.width,i=n.height;e.width=r,e.height=i}).subscribe(),{computed:{windowWidth:function(){return e.width},windowHeight:function(){return e.height}}}}(fd),VT=function(t){return{setDelay:function(e){t.setDelay(e)},init:function(){t.subscribe()},destroy:function(){t.unsubscribe()}}}(fd),kh={installed:!1},Eh={install:function(t,e){var n=(e===void 0?{}:e).delay,r=n===void 0?33:n;kh.installed||(kh.installed=!0,fd.setDelay(r),t.mixin({mixins:[vb]}))}},Vo=null;typeof window<"u"?Vo=window.Vue:typeof Or<"u"&&(Vo=Or.Vue),Vo&&Vo.use(Eh),pa.default=Eh,pa.vueWindowSize=VT,gb=pa.vueWindowSizeMixin=vb;const yb={mixins:[gb],computed:{previewLeftPadding(){return this.currentSection?this.calculatePreviewLeftPadding():0},previewPaneMaxWidth(){var e;const t=((e=document.querySelector(".slide-pane"))==null?void 0:e.offsetWidth)||0;return console.log("previewPaneMaxWidth",this.windowWidth,t),this.windowWidth-t},previewScaleRatio(){if(!this.mustPreviewScale())return 1;const t=document.querySelector(".content-area > aside").offsetWidth,e=document.querySelector(".slide-pane").offsetWidth;return(this.windowWidth-e)/(this.windowWidth-t)},hasEnoughWidthForTablet(){return this.isTabletDevice&&this.previewPaneMaxWidth>this.deviceWidthMap.tablet},hasEnoughWidthForMobile(){return this.isMobileDevice&&this.previewPaneMaxWidth>this.deviceWidthMap.mobile}},methods:{calculatePreviewLeftPadding(){var n,r;const t=((n=document.querySelector(".content-area > aside"))==null?void 0:n.offsetWidth)||0;return(((r=document.querySelector(".slide-pane"))==null?void 0:r.offsetWidth)||0)-t},mustPreviewScale(){return!(!this.currentSection||this.hasEnoughWidthForTablet||this.hasEnoughWidthForMobile)}}},HT={name:"SectionHighlighterTopLeftActions",props:{hoveredSection:{type:Object}},computed:{name(){return this.$st(`${this.currentI18nScope}.sections.${this.sectionType}.name`)||this.hoveredSection.name},sectionType(){return this.hoveredSection.definition.id},displayMoveArrows(){return!this.currentSection&&!this.hoveredSection.definition.insertAt}},methods:{...ot(["moveHoveredSection"])}};var UT=function(){var e=this,n=e._self._c;return n("div",{staticClass:"absolute top-0 left-0 mt-2 ml-2 flex"},[n("div",{staticClass:"bg-editor-primary text-white py-1 px-3 rounded-l-2xl text-xs flex items-center",class:{"rounded-r-2xl":!e.displayMoveArrows}},[n("span",[e._v(e._s(e.name))])]),e.displayMoveArrows?n("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(r){return e.moveHoveredSection("up")}}},[n("uikit-icon",{attrs:{name:"arrow-up-s-line"}})],1):e._e(),e.displayMoveArrows?n("button",{staticClass:"button button-last",attrs:{type:"button"},on:{click:function(r){return e.moveHoveredSection("down")}}},[n("uikit-icon",{attrs:{name:"arrow-down-s-line"}})],1):e._e()])},WT=[],KT=A(HT,UT,WT,!1,null,"ff9cb436");const GT=KT.exports,qT={name:"SectionHighlighterTopRightActions",props:{hoveredSection:{type:Object}},computed:{hasSettings(){const{definition:t}=this.hoveredSection;return!this.isBlank(this.services.section.getSettings(t,!1))},hasAdvancedSettings(){const{definition:t}=this.hoveredSection;return!this.isBlank(this.services.section.getSettings(t,!0))},hasBlocks(){const{definition:{blocks:t}}=this.hoveredSection;return!this.isBlank(t)}},methods:{...ot(["removeSection","leaveSection"]),remove(){const t=this.hoveredSection.sectionId;this.leaveSection(),this.currentSection&&this.currentSection.id===this.hoveredSection.sectionId&&this.$router.push({name:"editPage"}),setTimeout(()=>this.removeSection(t),200)}}};var JT=function(){var e=this,n=e._self._c;return n("div",{staticClass:"absolute top-0 right-0 mt-2 mr-2 flex"},[e.hasSettings?n("router-link",{attrs:{to:{name:"editSection",params:{sectionId:e.hoveredSection.sectionId}},custom:""},scopedSlots:e._u([{key:"default",fn:function({navigate:r}){return[n("button",{staticClass:"ml-2 button",attrs:{type:"button"},on:{click:r,keypress:function(i){return!i.type.indexOf("key")&&e._k(i.keyCode,"enter",13,i.key,"Enter")?null:r.apply(null,arguments)}}},[n("uikit-icon",{attrs:{name:"ri-pencil-line"}})],1)]}}],null,!1,3747269841)}):e._e(),e.hasBlocks?n("router-link",{attrs:{to:{name:"editSection",params:{sectionId:e.hoveredSection.sectionId},hash:"#blocks"},custom:""},scopedSlots:e._u([{key:"default",fn:function({navigate:r}){return[n("button",{staticClass:"ml-2 button",attrs:{type:"button"},on:{click:r,keypress:function(i){return!i.type.indexOf("key")&&e._k(i.keyCode,"enter",13,i.key,"Enter")?null:r.apply(null,arguments)}}},[n("uikit-icon",{attrs:{name:"ri-play-list-add-line"}})],1)]}}],null,!1,2464421611)}):e._e(),e.hasAdvancedSettings?n("router-link",{attrs:{to:{name:"editSection",params:{sectionId:e.hoveredSection.sectionId},hash:"#advanced"},custom:""},scopedSlots:e._u([{key:"default",fn:function({navigate:r}){return[n("button",{staticClass:"ml-2 button",attrs:{type:"button"},on:{click:r,keypress:function(i){return!i.type.indexOf("key")&&e._k(i.keyCode,"enter",13,i.key,"Enter")?null:r.apply(null,arguments)}}},[n("uikit-icon",{attrs:{name:"ri-settings-5-line"}})],1)]}}],null,!1,97643889)}):e._e(),n("uikit-confirmation-button",{staticClass:"ml-2 pointer-events-auto",on:{confirm:e.remove}},[n("div",{staticClass:"button"},[n("uikit-icon",{attrs:{name:"delete-bin-line"}})],1)])],1)},YT=[],XT=A(qT,JT,YT,!1,null,"5966b2d8");const ZT=XT.exports,QT={name:"SectionHighlighterBottomActions",props:{hoveredSection:{type:Object}},computed:{displayInsertButton(){if(!this.hoveredSection)return!1;const{definition:t}=this.hoveredSection;return t.insertButton}}};var e$=function(){var e=this,n=e._self._c;return e.displayInsertButton?n("div",{staticClass:"absolute bottom-0 flex justify-center w-full"},[n("router-link",{attrs:{to:{name:"addSectionAfter",params:{sectionId:e.hoveredSection.sectionId}},custom:""},scopedSlots:e._u([{key:"default",fn:function({navigate:r}){return[n("button",{staticClass:"button top-4",attrs:{type:"button"},on:{click:r,keypress:function(i){return!i.type.indexOf("key")&&e._k(i.keyCode,"enter",13,i.key,"Enter")?null:r.apply(null,arguments)}}},[n("uikit-icon",{attrs:{name:"ri-add-line",size:"1.5rem"}})],1)]}}],null,!1,2072438306)})],1):e._e()},t$=[],n$=A(QT,e$,t$,!1,null,"43e58480");const r$=n$.exports,i$={name:"SectionHighlighter",mixins:[yb],components:{TopLeftActions:GT,TopRightActions:ZT,BottomActions:r$},props:{hoveredSection:{type:Object}},data(){return{shadow:null}},mounted(){window.addEventListener("maglev:preview:scroll",this.onPreviewScroll)},beforeDestroy(){window.removeEventListener("maglev:preview:scroll",this.onPreviewScroll)},computed:{style(){if(!this.hoveredSection&&!this.shadow)return{};const{sectionRect:t}=this.hoveredSection||this.shadow;return this.performStyle(t)},minTop(){var t;return((t=this.hoveredSection)==null?void 0:t.sectionOffsetTop)||0}},methods:{afterAnimationDone(){this.shadow=null},onPreviewScroll(t){let e=this;window.requestAnimationFrame(()=>{const n=this.performStyle(t.detail.boundingRect);Object.entries(n).forEach(([r,i])=>e.$el.style[r]=i)})},performStyle(t){const e=t.top<this.minTop,n=e?this.minTop:t.top,r=e?t.height-(this.minTop-t.top):t.height;return{top:`${n*this.previewScaleRatio}px`,left:`calc(50% - ${this.previewLeftPadding}px / 2 - (${t.width}px * ${this.previewScaleRatio}) / 2 + ${this.previewLeftPadding}px)`,height:`${r*this.previewScaleRatio}px`,width:`calc(${t.width}px * ${this.previewScaleRatio})`}}},watch:{hoveredSection(t,e){t||(this.shadow={...e})}}};var s$=function(){var e=this,n=e._self._c;return e.previewReady?n("div",{staticClass:"h-48 absolute pointer-events-none transition duration-200 ease-in-out",style:e.style},[n("div",{staticClass:"w-full h-full relative mx-auto border-solid border-0 border-t-4 border-b-4",class:{tablet:e.hasEnoughWidthForTablet,mobile:e.hasEnoughWidthForMobile,"border-transparent":!e.hoveredSection,"border-editor-primary":e.hoveredSection}},[n("transition",{attrs:{name:"slide-fade",mode:"out-in"},on:{"after-leave":e.afterAnimationDone}},[e.hoveredSection?n("top-left-actions",{attrs:{"hovered-section":e.hoveredSection}}):e._e()],1),n("transition",{attrs:{name:"reverse-slide-fade",mode:"out-in"}},[e.hoveredSection?n("top-right-actions",{attrs:{hoveredSection:e.hoveredSection}}):e._e()],1),n("transition",{attrs:{name:"slide-up-fade",mode:"out-in"}},[e.hoveredSection?n("bottom-actions",{attrs:{"hovered-section":e.hoveredSection}}):e._e()],1)],1)]):e._e()},o$=[],a$=A(i$,s$,o$,!1,null,"70942757");const l$=a$.exports,c$={name:"PagePreview",components:{SectionHighlighter:l$},mixins:[yb],props:{locale:{type:String,default:null},pageId:{type:String,default:null}},data(){return{loadingPaddingLeft:0,previewScrollTop:0}},mounted(){this.loadingPaddingLeft=`${this.calculatePreviewLeftPadding()}px`},computed:{...Rl(["hoveredSection"]),isPageEmpty(){return this.currentSectionList.length===0},numberOfLocales(){return this.currentSite.locales.length},currentLocaleName(){return this.currentSite.locales.find(t=>t.prefix===this.currentLocale).label},deviceClass(){switch(this.device){case"mobile":return"mobile";case"tablet":return"tablet";default:return"desktop"}},dynamicStyle(){if(this.currentSection){let t=`transform: translateX(${this.previewLeftPadding}px) scale(${this.previewScaleRatio}); height: calc(100% * 1 / 1 / ${this.previewScaleRatio};`;return this.previewScaleRatio===1&&(t+=`width: ${this.previewPaneMaxWidth}px`),t}else return""}},methods:{onIframeLoaded(){this.services.livePreview.start(this.$refs.iframe)}}};var u$=function(){var e=this,n=e._self._c;return n("div",{staticClass:"relative w-full h-full overflow-y-hidden"},[n("div",{staticClass:"relative w-full h-full origin-top-left transition-all duration-100",style:e.dynamicStyle},[e.previewReady?e._e():n("div",{staticClass:"flex h-full w-full justify-center items-center",style:{"padding-left":`${e.loadingPaddingLeft}`}},[n("p",{staticClass:"animate-bounce duration-200"},[e._v(" "+e._s(e.$t("pagePreview.loading"))+" ")])]),e.currentPage?n("div",{staticClass:"absolute inset-0 flex justify-center items-center"},[n("div",{staticClass:"transition-all duration-100 ease-in-out",class:{[e.deviceClass]:!0,hidden:e.isPageEmpty},style:{opacity:e.previewReady?1:0}},[n("iframe",{ref:"iframe",staticClass:"w-full h-full",attrs:{src:e.currentPage.previewUrl},on:{load:e.onIframeLoaded}})]),e.isPageEmpty&&e.previewReady?n("div",{staticClass:"transition-all duration-100 ease-in-out",style:{opacity:e.previewReady?1:0}},[e.numberOfLocales===1?n("h2",{staticClass:"text-center text-4xl font-bold"},[e._v(" "+e._s(e.$t("pagePreview.empty.title.withoutLocale"))+" ")]):n("i18n",{staticClass:"text-center text-2xl font-bold",attrs:{path:"pagePreview.empty.title.withLocale",tag:"h2"},scopedSlots:e._u([{key:"localeName",fn:function(){return[n("span",{staticClass:"capitalize-first bg-editor-primary bg-opacity-20 px-2"},[e._v(e._s(e.currentLocaleName))])]},proxy:!0}],null,!1,3442817030)}),n("i18n",{staticClass:"flex mt-4 text-gray-600",attrs:{path:"pagePreview.empty.message",tag:"div"},scopedSlots:e._u([{key:"icon",fn:function(){return[n("uikit-icon",{staticClass:"mx-1 text-black",attrs:{name:"add-box-line",size:"1.5rem"}})]},proxy:!0}],null,!1,1328843043)})],1):e._e()]):e._e()]),n("section-highlighter",{attrs:{"hovered-section":e.hoveredSection}})],1)},f$=[],d$=A(c$,u$,f$,!1,null,"558c25c2");const $t=d$.exports,p$={name:"SlidePaneLayout",props:{title:{type:String,default:void 0},subTitle:{type:String,default:void 0},overflowY:{type:Boolean,default:!0},maxWidthPane:{type:Boolean,default:!1},withPreTitle:{type:Boolean,default:!1}}};var h$=function(){var e=this,n=e._self._c;return n("div",{staticClass:"slide-pane absolute inset-y-0 h-full bg-white border-r border-gray-200 origin-top-left flex flex-col",class:{"left-0 z-40":e.$route.meta.hidingSidebar,"left-16 z-10":!e.$route.meta.hidingSidebar,"w-1/2":e.maxWidthPane,"w-104":!e.maxWidthPane}},[e._t("header",function(){return[n("div",{staticClass:"py-6 mx-4"},[n("div",{staticClass:"h-6 flex items-center"},[e.withPreTitle?e._t("pre-title",function(){return[n("h2",{staticClass:"text-lg rounded w-3/4 bg-gray-200 animate-pulse"},[e._v("  ")])]}):n("div",{staticClass:"w-full"},[e.title?n("h2",{staticClass:"text-gray-800 font-semibold antialiased text-lg capitalize-first"},[e._v(" "+e._s(e.title)+" ")]):n("h2",{staticClass:"text-lg rounded w-3/4 bg-gray-200 animate-pulse"},[e._v("  ")])]),n("div",{staticClass:"ml-auto"},[n("router-link",{attrs:{to:{name:"editPage"}}},[n("uikit-icon",{attrs:{name:"ri-close-circle-line"}})],1)],1)],2),e.withPreTitle?n("div",[e.title?n("h2",{staticClass:"text-gray-800 font-semibold antialiased text-lg capitalize-first"},[e._v(" "+e._s(e.title)+" ")]):n("h2",{staticClass:"text-lg rounded w-3/4 bg-gray-200 animate-pulse"},[e._v("  ")])]):e._e(),e.subTitle?n("p",{staticClass:"text-gray-400 text-sm"},[e._v(e._s(e.subTitle))]):e._e()])]}),n("div",{staticClass:"flex-1 flex flex-col",class:{"overflow-y-auto":e.overflowY,"overflow-y-hidden":!e.overflowY}},[n("div",{staticClass:"flex-1 flex flex-col",class:{"pb-4 mx-4":e.overflowY,"overflow-y-hidden":!e.overflowY}},[e._t("default")],2)])],2)},m$=[],g$=A(p$,h$,m$,!1,null,"5f66c07f");const gr=g$.exports,v$={name:"SlidePane1",components:{Layout:gr}};var y$=function(){var e=this,n=e._self._c;return n("layout",{attrs:{title:"Title Slide pane #1","sub-title":"Sub title pane"}},[n("p",[e._v("Slide pane #1")])])},b$=[],_$=A(v$,y$,b$,!1,null,null);const w$=_$.exports,x$={name:"SlidePane2",components:{Layout:gr}};var S$=function(){var e=this,n=e._self._c;return n("layout",{attrs:{title:"Title Slide pane #2","sub-title":"Sub title pane"}},[n("p",[e._v("Slide pane #2")])])},C$=[],k$=A(x$,S$,C$,!1,null,null);const E$=k$.exports,Hl={data(){return{currentDropdown:null}},methods:{onDropdownToggle(t){t.open&&this.currentDropdown&&t!==this.currentDropdown&&this.currentDropdown.close(),this.currentDropdown=t}}},O$={name:"PageMainForm",props:{page:{type:Object,required:!0},errors:{type:Object,default:()=>{}}},computed:{isPageIndex(){return this.services.page.isIndex(this.page)},titleInput:{get(){return this.page.title},set(t){this.$emit("on-change",{title:t})}},pathInput:{get(){return this.page.path},set(t){this.$emit("on-change",{path:t})}},visibleInput:{get(){return this.page.visible},set(t){this.$emit("on-change",{visible:t})}}}};var T$=function(){var e=this,n=e._self._c;return n("div",{staticClass:"mt-2 grid grid-cols-1 gap-4"},[n("uikit-text-input",{attrs:{label:e.$t("page.form.title"),name:"title",error:e.errors.title},model:{value:e.titleInput,callback:function(r){e.titleInput=r},expression:"titleInput"}}),!e.isPageIndex||!e.page.id?n("uikit-text-input",{attrs:{label:e.$t("page.form.path"),name:"path",error:e.errors.path||e.errors.pathsValue},model:{value:e.pathInput,callback:function(r){e.pathInput=r},expression:"pathInput"}}):e._e(),n("uikit-checkbox-input",{attrs:{label:e.$t("page.form.visible"),placeholder:e.$t("page.form.visiblePlaceholder"),name:"visible"},model:{value:e.visibleInput,callback:function(r){e.visibleInput=r},expression:"visibleInput"}})],1)},$$=[],I$=A(O$,T$,$$,!1,null,null);const bb=I$.exports,P$={name:"PageSEOForm",props:{page:{type:Object,required:!0},errors:{type:Object,default:()=>{}}},computed:{seoTitleInput:{get(){return this.page.seoTitle},set(t){this.$emit("on-change",{seoTitle:t})}},metaDescriptionInput:{get(){return this.page.metaDescription},set(t){this.$emit("on-change",{metaDescription:t})}},ogTitleInput:{get(){return this.page.ogTitle},set(t){this.$emit("on-change",{ogTitle:t})}},ogDescriptionInput:{get(){return this.page.ogDescription},set(t){this.$emit("on-change",{ogDescription:t})}},ogImageUrlInput:{get(){return{url:this.page.ogImageUrl}},set(t){this.$emit("on-change",{ogImageUrl:(t==null?void 0:t.url)??null})}}}};var A$=function(){var e=this,n=e._self._c;return n("div",{staticClass:"mt-2 grid grid-cols-1 gap-4"},[n("uikit-textarea-input",{attrs:{label:e.$t("page.form.seoTitle"),name:"seo-title","max-length":60,rows:2},model:{value:e.seoTitleInput,callback:function(r){e.seoTitleInput=r},expression:"seoTitleInput"}}),n("uikit-textarea-input",{attrs:{label:e.$t("page.form.metaDescription"),name:"meta-description","max-length":155,rows:5},model:{value:e.metaDescriptionInput,callback:function(r){e.metaDescriptionInput=r},expression:"metaDescriptionInput"}}),n("uikit-textarea-input",{attrs:{label:e.$t("page.form.ogTitle"),name:"og-title","max-length":60,rows:2},model:{value:e.ogTitleInput,callback:function(r){e.ogTitleInput=r},expression:"ogTitleInput"}}),n("uikit-textarea-input",{attrs:{label:e.$t("page.form.ogDescription"),name:"og-description","max-length":200,rows:6},model:{value:e.ogDescriptionInput,callback:function(r){e.ogDescriptionInput=r},expression:"ogDescriptionInput"}}),n("uikit-image-input",{attrs:{label:e.$t("page.form.ogImageUrl"),name:"og-image-url",hasAltText:!1},model:{value:e.ogImageUrlInput,callback:function(r){e.ogImageUrlInput=r},expression:"ogImageUrlInput"}})],1)},M$=[],N$=A(P$,A$,M$,!1,null,null);const _b=N$.exports,D$={name:"EditPage",props:{page:{type:Object,required:!0},insideModal:{type:Boolean,default:!1}},data(){return{editedPage:null,errors:{},submitState:"default"}},computed:{tabs(){return[{name:this.$t("page.form.tabs.main"),tab:bb,type:"main"},{name:this.$t("page.form.tabs.seo"),tab:_b,type:"seo"}]}},methods:{updatePage(){this.submitState="inProgress";const{id:t,...e}=this.editedPage;this.services.page.updateSettings(t,{...e,lockVersion:this.page.lockVersion}).then(({headers:n})=>{this.submitState="success",this.$emit("on-update",{...e,lockVersion:n["page-lock-version"]})}).catch(({response:{status:n,data:r}})=>{console.log("[Maglev] could not update the page",n),this.submitState="fail",n===409&&this.openErrorModal("staleRecord"),n===400&&(this.errors=r.errors)})},onChange(t){this.editedPage={...this.editedPage,...t}}},watch:{page:{immediate:!0,handler(){this.editedPage={...this.page}}}}};var R$=function(){var e=this,n=e._self._c;return n("div",{staticClass:"flex flex-col flex-1 overflow-y-hidden"},[n("uikit-tabs",{staticClass:"overflow-y-hidden pb-4",attrs:{tabs:e.tabs,otherProps:{page:e.editedPage,errors:e.errors},navClass:e.insideModal?"mx-1":"mx-4",panelClass:e.insideModal?"":"mx-3"},on:{"on-change":e.onChange}}),n("div",{staticClass:"mt-auto",class:{"mx-4":!e.insideModal}},[n("uikit-submit-button",{staticClass:"big-submit-button",attrs:{type:"button",defaultColorClass:"bg-editor-primary",labels:e.$t("page.edit.submitButton"),buttonState:e.submitState},on:{click:e.updatePage}},[e._v(" "+e._s(e.$t("page.edit.submitButton"))+" ")]),e.insideModal?n("button",{staticClass:"cancel-button",on:{click:function(r){return e.$emit("on-close")}}},[e._v(" "+e._s(e.$t("page.edit.cancelButton"))+" ")]):e._e()],1)],1)},L$=[],B$=A(D$,R$,L$,!1,null,null);const wb=B$.exports,F$={name:"PageListItem",props:{page:{type:Object,required:!0}},computed:{isIndexPage(){return this.services.page.isIndex(this.page)},isCurrentPage(){return this.currentPage.id===this.page.id},isVisible(){return this.page.visible}},methods:{openEditPageModal(){this.openModal({title:this.$t("page.edit.title"),component:wb,closeOnClick:!1,props:{page:this.page,insideModal:!0,modalClass:"w-120 h-144"},listeners:{"on-update":t=>this.onUpdate(t)}})},onUpdate(t){this.closeDropdown(),this.isCurrentPage&&this.setCurrentPageSettings(t),this.$emit("on-update")},clonePage(){this.services.page.clone(this.page.id).then(()=>this.$emit("on-clone"))},showPage(){this.services.page.setVisible(this.page.id,!0).then(()=>this.$emit("on-update"))},hidePage(){this.services.page.setVisible(this.page.id,!1).then(()=>this.$emit("on-update"))},deletePage(){this.closeDropdown(),this.services.page.destroy(this.page.id).then(()=>{this.$emit("on-delete"),this.isCurrentPage&&this.$router.push({name:"editPage",params:{pageId:"index"}})})},closeDropdown(){this.$refs.deleteDropdown&&this.$refs.deleteDropdown.close()}}};var j$=function(){var e=this,n=e._self._c;return n("div",{staticClass:"flex items-center py-3 pl-6 pr-2 hover:bg-editor-primary hover:bg-opacity-5 transition-colors duration-200"},[n("router-link",{staticClass:"flex flex-grow items-center text-gray-800",attrs:{to:{name:"editPage",params:{pageId:e.page.path}}}},[n("uikit-page-icon",{attrs:{page:e.page}}),n("span",{staticClass:"ml-4"},[e._v(e._s(e.page.title))]),e.isVisible?e._e():n("uikit-icon",{staticClass:"ml-4 text-gray-400",attrs:{name:"ri-eye-off-line",size:"1rem"}})],1),n("div",{staticClass:"ml-auto pr-2 relative"},[n("uikit-dropdown",e._g({scopedSlots:e._u([{key:"button",fn:function(){return[n("button",{staticClass:"px-1 py-1 rounded-full bg-editor-primary bg-opacity-0 hover:text-gray-900 text-gray-600 focus:outline-none hover:bg-opacity-10 transition-colors duration-200"},[n("uikit-icon",{attrs:{name:"ri-more-2-fill",size:"1.25rem"}})],1)]},proxy:!0},{key:"content",fn:function(){return[n("div",{staticClass:"flex flex-col w-48 text-gray-800"},[n("button",{staticClass:"flex items-center px-4 py-4 hover:bg-gray-100 transition-colors duration-200 focus:outline-none",on:{click:function(r){return r.stopPropagation(),e.openEditPageModal.apply(null,arguments)}}},[n("uikit-icon",{attrs:{name:"ri-settings-5-line"}}),n("span",{staticClass:"ml-2 whitespace-nowrap"},[e._v(e._s(e.$t("page.list.item.edit")))])],1),n("button",{staticClass:"flex items-center px-4 py-4 hover:bg-gray-100 transition-colors duration-200 focus:outline-none",on:{click:function(r){return r.stopPropagation(),e.clonePage.apply(null,arguments)}}},[n("uikit-icon",{attrs:{name:"ri-file-copy-line"}}),n("span",{staticClass:"ml-2"},[e._v(e._s(e.$t("page.list.item.clone")))])],1),e.isVisible?n("button",{staticClass:"flex items-center px-4 py-4 hover:bg-gray-100 transition-colors duration-200 focus:outline-none",on:{click:function(r){return r.stopPropagation(),e.hidePage.apply(null,arguments)}}},[n("uikit-icon",{attrs:{name:"ri-eye-off-line"}}),n("span",{staticClass:"ml-2"},[e._v(e._s(e.$t("page.list.item.hide")))])],1):e._e(),e.isVisible?e._e():n("button",{staticClass:"flex items-center px-4 py-4 hover:bg-gray-100 transition-colors duration-200 focus:outline-none",on:{click:function(r){return r.stopPropagation(),e.showPage.apply(null,arguments)}}},[n("uikit-icon",{attrs:{name:"ri-eye-line"}}),n("span",{staticClass:"ml-2"},[e._v(e._s(e.$t("page.list.item.show")))])],1),e.isIndexPage?e._e():n("uikit-confirmation-button",{ref:"deleteDropdown",on:{confirm:e.deletePage}},[n("button",{staticClass:"flex items-center w-full px-4 py-4 hover:bg-gray-100 transition-colors duration-200 focus:outline-none"},[n("uikit-icon",{attrs:{name:"delete-bin-line"}}),n("span",{staticClass:"ml-2"},[e._v(e._s(e.$t("page.list.item.delete")))])],1)])],1)]},proxy:!0}])},e.$listeners))],1)],1)},z$=[],V$=A(F$,j$,z$,!1,null,null);const H$=V$.exports,U$={name:"PageList",mixins:[Hl],components:{ListItem:H$},props:{q:{type:String,required:!1}},data(){return{pages:[],isLoading:!0}},computed:{isEmpty(){return this.previewablePages.length===0},previewablePages(){return this.pages.filter(t=>!!t.previewUrl&&!t.static)}},methods:{async fetch(){this.isLoading=!0,this.pages=await this.services.page.findAll({q:this.q}),this.isLoading=!1}},watch:{q:{immediate:!0,handler(){this.fetch()}}}};var W$=function(){var e=this,n=e._self._c;return n("div",[n("transition",{attrs:{name:"fade",mode:"out-in"}},[e.isLoading?n("div",{key:"list-placeholder"},[n("div",{staticClass:"flex flex-col items-center w-full animate-pulse"},[n("div",{staticClass:"h-12 bg-gray-200 rounded w-full mb-3"}),n("div",{staticClass:"h-12 bg-gray-200 rounded w-full mb-3"}),n("div",{staticClass:"h-12 bg-gray-200 rounded w-full mb-3"})])]):e.isEmpty?n("div",{key:"empty-list",staticClass:"pt-4 text-center"},[e._v(" No pages found ")]):n("div",{key:"list"},e._l(e.previewablePages,function(r){return n("list-item",{key:r.id,attrs:{page:r},on:{"on-update":e.fetch,"on-clone":e.fetch,"on-delete":e.fetch,"on-dropdown-toggle":e.onDropdownToggle}})}),1)])],1)},K$=[],G$=A(U$,W$,K$,!1,null,null);const q$=G$.exports,J$={name:"NewPage",data(){return{page:{},errors:{},submitState:"default"}},mounted(){this.page=this.services.page.build()},computed:{tabs(){return[{name:this.$t("page.form.tabs.main"),tab:bb,type:"main"},{name:this.$t("page.form.tabs.seo"),tab:_b,type:"seo"}]}},methods:{createPage(){this.submitState="inProgress",this.services.page.create(this.page).then(()=>{this.submitState="success",this.$emit("on-close"),this.$emit("on-refresh")}).catch(({response:{status:t,data:e}})=>{console.log("[Maglev] could not create the page",t),this.submitState="fail",t===400&&(this.errors=e.errors)})},onChange(t){this.page={...this.page,...t}}}};var Y$=function(){var e=this,n=e._self._c;return n("div",{staticClass:"flex flex-col flex-1 overflow-y-hidden"},[n("uikit-tabs",{staticClass:"overflow-y-hidden pb-4",attrs:{tabs:e.tabs,otherProps:{page:e.page,errors:e.errors},navClass:"mx-1",panelClass:""},on:{"on-change":e.onChange}}),n("div",{staticClass:"mt-auto"},[n("uikit-submit-button",{staticClass:"big-submit-button",attrs:{type:"button",defaultColorClass:"bg-editor-primary",labels:e.$t("page.new.submitButton"),buttonState:e.submitState},on:{click:e.createPage}},[e._v(" "+e._s(e.$t("page.new.submitButton"))+" ")]),n("button",{staticClass:"cancel-button",on:{click:function(r){return e.$emit("on-close")}}},[e._v(" "+e._s(e.$t("page.new.cancelButton"))+" ")])],1)],1)},X$=[],Z$=A(J$,Y$,X$,!1,null,null);const Q$=Z$.exports,eI={name:"PageListView",components:{Layout:gr,PageList:q$},data(){return{q:null}},computed:{canAddPage(){return this.currentLocale===this.currentSite.locales[0].prefix}},methods:{search(t){this.q=t},openNewPageModal(){this.openModal({title:this.$t("page.new.title"),component:Q$,closeOnClick:!1,props:{modalClass:"w-120 h-144"},listeners:{"on-refresh":()=>this.$refs.list.fetch()}})}}};var tI=function(){var e=this,n=e._self._c;return n("layout",{attrs:{title:e.$t("page.list.title"),"sub-title":e.$t("page.list.subTitle"),overflowY:!1}},[n("div",{staticClass:"h-full flex flex-col px-4 pb-4"},[n("div",{staticClass:"py-2"},[n("uikit-search-input",{staticClass:"py-4",attrs:{placeholder:e.$t("page.list.searchPlaceholder")},on:{search:e.search}})],1),n("div",{staticClass:"flex-1 overflow-y-auto"},[n("page-list",{ref:"list",staticClass:"h-full pt-2",attrs:{q:e.q}})],1),e.canAddPage?n("div",{staticClass:"pt-4"},[n("button",{staticClass:"big-submit-button bg-editor-primary",on:{click:e.openNewPageModal}},[e._v(" "+e._s(e.$t("page.list.newButton"))+" ")])]):e._e()])])},nI=[],rI=A(eI,tI,nI,!1,null,null);const iI=rI.exports,sI={name:"EditPageView",components:{Layout:gr,EditPage:wb},methods:{updateCurrentPage(t){this.setCurrentPageSettings(t)}}};var oI=function(){var e=this,n=e._self._c;return n("layout",{attrs:{title:e.$t("page.edit.currentPage.title"),overflowY:!1}},[n("div",{staticClass:"flex flex-col flex-1 pb-4 overflow-y-hidden"},[e.currentPage?n("edit-page",{attrs:{page:e.currentPage},on:{"on-update":e.updateCurrentPage}}):e._e()],1)])},aI=[],lI=A(sI,oI,aI,!1,null,null);const cI=lI.exports,uI=[{path:"pages",name:"listPages",components:{default:$t,"slide-pane":iI},props:{"slide-pane":!0,default:!0}},{path:"editSettings",name:"editPageSettings",components:{default:$t,"slide-pane":cI},props:{"slide-pane":!0,default:!0}}],fI={name:"DynamicInput",props:{setting:{type:Object,default:()=>({type:"text"})},content:{type:Array,required:!0},isFocused:{type:Boolean,default:!1},i18nScope:{type:String,required:!1}},computed:{label(){const t=`${this.i18nScope}.${this.setting.id}`;return(this.isBlank(this.i18nScope)?null:this.$st(t))||this.setting.label},options(){return this.setting.options},value(){const t=this.content.find(e=>e.id===this.setting.id);return t==null?void 0:t.value},inputValue:{get(){return this.value},set(t){this.$emit("change",{settingId:this.setting.id,settingType:this.setting.type,settingOptions:this.setting.options,value:t})}}}};var dI=function(){var e=this,n=e._self._c;return n("div",[e.setting.type=="text"&&!e.options.html&&parseInt(e.options.nbRows||1)<2?n("uikit-text-input",{attrs:{label:e.label,name:e.setting.id,isFocused:e.isFocused},on:{blur:function(r){return e.$emit("blur")}},model:{value:e.inputValue,callback:function(r){e.inputValue=r},expression:"inputValue"}}):e._e(),e.setting.type=="text"&&!e.options.html&&parseInt(e.options.nbRows)>1?n("uikit-textarea-input",{attrs:{label:e.label,name:e.setting.id,isFocused:e.isFocused,rows:e.options.nbRows},on:{blur:function(r){return e.$emit("blur")}},model:{value:e.inputValue,callback:function(r){e.inputValue=r},expression:"inputValue"}}):e._e(),e.setting.type=="text"&&e.options.html?n("uikit-rich-text-input",{attrs:{label:e.label,name:e.setting.id,isFocused:e.isFocused,lineBreak:e.options.lineBreak,rows:e.options.nbRows,table:e.options.htmlTable},on:{blur:function(r){return e.$emit("blur")}},model:{value:e.inputValue,callback:function(r){e.inputValue=r},expression:"inputValue"}}):e._e(),e.setting.type=="image"?n("uikit-image-input",{attrs:{label:e.label,name:e.setting.id,isFocused:e.isFocused},model:{value:e.inputValue,callback:function(r){e.inputValue=r},expression:"inputValue"}}):e._e(),e.setting.type=="icon"?n("uikit-icon-input",{attrs:{label:e.label,name:e.setting.id,isFocused:e.isFocused},model:{value:e.inputValue,callback:function(r){e.inputValue=r},expression:"inputValue"}}):e._e(),e.setting.type=="checkbox"?n("uikit-checkbox-input",{attrs:{label:e.label,name:e.setting.id},model:{value:e.inputValue,callback:function(r){e.inputValue=r},expression:"inputValue"}}):e._e(),e.setting.type=="link"?n("uikit-link-input",{attrs:{label:e.label,name:e.setting.id,isFocused:e.isFocused,withText:e.options.withText},model:{value:e.inputValue,callback:function(r){e.inputValue=r},expression:"inputValue"}}):e._e(),e.setting.type=="color"?n("uikit-color-input",{attrs:{label:e.label,name:e.setting.id,presets:e.options.presets},model:{value:e.inputValue,callback:function(r){e.inputValue=r},expression:"inputValue"}}):e._e(),e.setting.type=="select"?n("uikit-simple-select",{attrs:{label:e.label,name:e.setting.id,selectOptions:e.options.selectOptions},model:{value:e.inputValue,callback:function(r){e.inputValue=r},expression:"inputValue"}}):e._e(),e.setting.type=="collection_item"?n("uikit-collection-item-input",{attrs:{label:e.label,name:e.setting.id,"collection-id":e.options.collectionId},model:{value:e.inputValue,callback:function(r){e.inputValue=r},expression:"inputValue"}}):e._e(),e.setting.type=="divider"?n("uikit-divider",{attrs:{text:e.label,withHint:e.options.withHint}}):e._e(),e.setting.type=="enhanced_text"?n("custom-enhanced-text",{attrs:{label:e.label,name:e.setting.id,isFocused:e.isFocused,lineBreak:e.options.lineBreak,rows:e.options.nbRows,table:e.options.htmlTable},on:{blur:function(r){return e.$emit("blur")}},model:{value:e.inputValue,callback:function(r){e.inputValue=r},expression:"inputValue"}}):e._e(),e.setting.type=="hint"?n("uikit-hint",{attrs:{text:e.label}}):e._e()],1)},pI=[],hI=A(fI,dI,pI,!1,null,null);const mI=hI.exports,gI={name:"DynamicForm",components:{DynamicInput:mI},props:{parentKey:{type:String,default:""},settings:{type:Array,default:()=>[]},content:{type:Array,default:()=>[]},focusedSetting:{type:String,default:void 0},i18nScope:{type:String,required:!1}},methods:{onChange(t){this.$emit("change",t)}}};var vI=function(){var e=this,n=e._self._c;return n("div",e._l(e.settings,function(r,i){return n("dynamic-input",{key:[e.parentKey,r.id].join(),class:{"mt-4":i!==0},attrs:{setting:r,content:e.content,isFocused:e.focusedSetting===r.id,i18nScope:e.i18nScope},on:{blur:function(s){return e.$emit("blur")},change:e.onChange}})}),1)},yI=[],bI=A(gI,vI,yI,!1,null,null);const dd=bI.exports,_I={name:"SectionSettingList",components:{DynamicForm:dd},props:{sectionId:{type:String,default:void 0},settingId:{type:String,default:void 0},advanced:{type:Boolean,default:!1}},computed:{sectionSettings(){return this.advanced?this.currentSectionAdvancedSettings:this.services.section.filterSettings(this.currentSectionSettings,this.currentSectionContent)},i18nScope(){return`${this.currentSectionI18nScope}.settings`}},methods:{...ot(["updateSectionContent"]),onBlur(){this.$router.push({name:"editSection",params:{sectionId:this.sectionId}}).catch(t=>{if(t.name!=="NavigationDuplicated")throw t})}}};var wI=function(){var e=this,n=e._self._c;return n("dynamic-form",{staticClass:"mt-2",attrs:{parentKey:e.currentSection.id,settings:e.sectionSettings,content:e.currentSectionContent,focusedSetting:e.settingId,i18nScope:e.i18nScope},on:{blur:e.onBlur,change:e.updateSectionContent}})},xI=[],SI=A(_I,wI,xI,!1,null,null);const Oh=SI.exports;var xb={exports:{}};/**!
 * Sortable 1.10.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function ha(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ha=function(e){return typeof e}:ha=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ha(t)}function CI(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wt(){return Wt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wt.apply(this,arguments)}function cr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){CI(t,i,n[i])})}return t}function kI(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function EI(t,e){if(t==null)return{};var n=kI(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function OI(t){return TI(t)||$I(t)||II()}function TI(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function $I(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function II(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var PI="1.10.2";function On(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var Nn=On(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),mo=On(/Edge/i),Th=On(/firefox/i),Pu=On(/safari/i)&&!On(/chrome/i)&&!On(/android/i),Sb=On(/iP(ad|od|hone)/i),AI=On(/chrome/i)&&On(/android/i),Cb={capture:!1,passive:!1};function pe(t,e,n){t.addEventListener(e,n,!Nn&&Cb)}function ce(t,e,n){t.removeEventListener(e,n,!Nn&&Cb)}function Ga(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function MI(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function Yt(t,e,n,r){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&Ga(t,e):Ga(t,e))||r&&t===n)return t;if(t===n)break}while(t=MI(t))}return null}var $h=/\s+/g;function Oe(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var r=(" "+t.className+" ").replace($h," ").replace(" "+e+" "," ");t.className=(r+(n?" "+e:"")).replace($h," ")}}function G(t,e,n){var r=t&&t.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in r)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),r[e]=n+(typeof n=="string"?"":"px")}}function Nr(t,e){var n="";if(typeof t=="string")n=t;else do{var r=G(t,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function kb(t,e,n){if(t){var r=t.getElementsByTagName(e),i=0,s=r.length;if(n)for(;i<s;i++)n(r[i],i);return r}return[]}function dn(){var t=document.scrollingElement;return t||document.documentElement}function Pe(t,e,n,r,i){if(!(!t.getBoundingClientRect&&t!==window)){var s,o,a,l,c,u,f;if(t!==window&&t!==dn()?(s=t.getBoundingClientRect(),o=s.top,a=s.left,l=s.bottom,c=s.right,u=s.height,f=s.width):(o=0,a=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,f=window.innerWidth),(e||n)&&t!==window&&(i=i||t.parentNode,!Nn))do if(i&&i.getBoundingClientRect&&(G(i,"transform")!=="none"||n&&G(i,"position")!=="static")){var d=i.getBoundingClientRect();o-=d.top+parseInt(G(i,"border-top-width")),a-=d.left+parseInt(G(i,"border-left-width")),l=o+s.height,c=a+s.width;break}while(i=i.parentNode);if(r&&t!==window){var p=Nr(i||t),h=p&&p.a,m=p&&p.d;p&&(o/=m,a/=h,f/=h,u/=m,l=o+u,c=a+f)}return{top:o,left:a,bottom:l,right:c,width:f,height:u}}}function Ih(t,e,n){for(var r=qn(t,!0),i=Pe(t)[e];r;){var s=Pe(r)[n],o=void 0;if(o=i>=s,!o)return r;if(r===dn())break;r=qn(r,!1)}return!1}function qa(t,e,n){for(var r=0,i=0,s=t.children;i<s.length;){if(s[i].style.display!=="none"&&s[i]!==te.ghost&&s[i]!==te.dragged&&Yt(s[i],n.draggable,t,!1)){if(r===e)return s[i];r++}i++}return null}function pd(t,e){for(var n=t.lastElementChild;n&&(n===te.ghost||G(n,"display")==="none"||e&&!Ga(n,e));)n=n.previousElementSibling;return n||null}function Ie(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==te.clone&&(!e||Ga(t,e))&&n++;return n}function Ph(t){var e=0,n=0,r=dn();if(t)do{var i=Nr(t),s=i.a,o=i.d;e+=t.scrollLeft*s,n+=t.scrollTop*o}while(t!==r&&(t=t.parentNode));return[e,n]}function NI(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t[n][r])return Number(n)}return-1}function qn(t,e){if(!t||!t.getBoundingClientRect)return dn();var n=t,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=G(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return dn();if(r||e)return n;r=!0}}while(n=n.parentNode);return dn()}function DI(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function _c(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var As;function Eb(t,e){return function(){if(!As){var n=arguments,r=this;n.length===1?t.call(r,n[0]):t.apply(r,n),As=setTimeout(function(){As=void 0},e)}}}function RI(){clearTimeout(As),As=void 0}function Ob(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function hd(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function Ah(t,e){G(t,"position","absolute"),G(t,"top",e.top),G(t,"left",e.left),G(t,"width",e.width),G(t,"height",e.height)}function wc(t){G(t,"position",""),G(t,"top",""),G(t,"left",""),G(t,"width",""),G(t,"height","")}var nt="Sortable"+new Date().getTime();function LI(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(i){if(!(G(i,"display")==="none"||i===te.ghost)){t.push({target:i,rect:Pe(i)});var s=cr({},t[t.length-1].rect);if(i.thisAnimationDuration){var o=Nr(i,!0);o&&(s.top-=o.f,s.left-=o.e)}i.fromRect=s}})}},addAnimationState:function(r){t.push(r)},removeAnimationState:function(r){t.splice(NI(t,{target:r}),1)},animateAll:function(r){var i=this;if(!this.options.animation){clearTimeout(e),typeof r=="function"&&r();return}var s=!1,o=0;t.forEach(function(a){var l=0,c=a.target,u=c.fromRect,f=Pe(c),d=c.prevFromRect,p=c.prevToRect,h=a.rect,m=Nr(c,!0);m&&(f.top-=m.f,f.left-=m.e),c.toRect=f,c.thisAnimationDuration&&_c(d,f)&&!_c(u,f)&&(h.top-f.top)/(h.left-f.left)===(u.top-f.top)/(u.left-f.left)&&(l=FI(h,d,p,i.options)),_c(f,u)||(c.prevFromRect=u,c.prevToRect=f,l||(l=i.options.animation),i.animate(c,h,f,l)),l&&(s=!0,o=Math.max(o,l),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},l),c.thisAnimationDuration=l)}),clearTimeout(e),s?e=setTimeout(function(){typeof r=="function"&&r()},o):typeof r=="function"&&r(),t=[]},animate:function(r,i,s,o){if(o){G(r,"transition",""),G(r,"transform","");var a=Nr(this.el),l=a&&a.a,c=a&&a.d,u=(i.left-s.left)/(l||1),f=(i.top-s.top)/(c||1);r.animatingX=!!u,r.animatingY=!!f,G(r,"transform","translate3d("+u+"px,"+f+"px,0)"),BI(r),G(r,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),G(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){G(r,"transition",""),G(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},o)}}}}function BI(t){return t.offsetWidth}function FI(t,e,n,r){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*r.animation}var ds=[],xc={initializeByDefault:!0},go={mount:function(e){for(var n in xc)xc.hasOwnProperty(n)&&!(n in e)&&(e[n]=xc[n]);ds.push(e)},pluginEvent:function(e,n,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var s=e+"Global";ds.forEach(function(o){n[o.pluginName]&&(n[o.pluginName][s]&&n[o.pluginName][s](cr({sortable:n},r)),n.options[o.pluginName]&&n[o.pluginName][e]&&n[o.pluginName][e](cr({sortable:n},r)))})},initializePlugins:function(e,n,r,i){ds.forEach(function(a){var l=a.pluginName;if(!(!e.options[l]&&!a.initializeByDefault)){var c=new a(e,n,e.options);c.sortable=e,c.options=e.options,e[l]=c,Wt(r,c.defaults)}});for(var s in e.options)if(e.options.hasOwnProperty(s)){var o=this.modifyOption(e,s,e.options[s]);typeof o<"u"&&(e.options[s]=o)}},getEventProperties:function(e,n){var r={};return ds.forEach(function(i){typeof i.eventProperties=="function"&&Wt(r,i.eventProperties.call(n[i.pluginName],e))}),r},modifyOption:function(e,n,r){var i;return ds.forEach(function(s){e[s.pluginName]&&s.optionListeners&&typeof s.optionListeners[n]=="function"&&(i=s.optionListeners[n].call(e[s.pluginName],r))}),i}};function ws(t){var e=t.sortable,n=t.rootEl,r=t.name,i=t.targetEl,s=t.cloneEl,o=t.toEl,a=t.fromEl,l=t.oldIndex,c=t.newIndex,u=t.oldDraggableIndex,f=t.newDraggableIndex,d=t.originalEvent,p=t.putSortable,h=t.extraEventProperties;if(e=e||n&&n[nt],!!e){var m,g=e.options,v="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!Nn&&!mo?m=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(m=document.createEvent("Event"),m.initEvent(r,!0,!0)),m.to=o||n,m.from=a||n,m.item=i||n,m.clone=s,m.oldIndex=l,m.newIndex=c,m.oldDraggableIndex=u,m.newDraggableIndex=f,m.originalEvent=d,m.pullMode=p?p.lastPutMode:void 0;var x=cr({},h,go.getEventProperties(r,e));for(var k in x)m[k]=x[k];n&&n.dispatchEvent(m),g[v]&&g[v].call(e,m)}}var bt=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.evt,s=EI(r,["evt"]);go.pluginEvent.bind(te)(e,n,cr({dragEl:F,parentEl:Be,ghostEl:oe,rootEl:Ee,nextEl:Sr,lastDownEl:ma,cloneEl:$e,cloneHidden:Hn,dragStarted:xs,putSortable:Ue,activeSortable:te.active,originalEvent:i,oldIndex:Si,oldDraggableIndex:Ms,newIndex:Tt,newDraggableIndex:Fn,hideGhostForTarget:Pb,unhideGhostForTarget:Ab,cloneNowHidden:function(){Hn=!0},cloneNowShown:function(){Hn=!1},dispatchSortableEvent:function(a){ft({sortable:n,name:a,originalEvent:i})}},s))};function ft(t){ws(cr({putSortable:Ue,cloneEl:$e,targetEl:F,rootEl:Ee,oldIndex:Si,oldDraggableIndex:Ms,newIndex:Tt,newDraggableIndex:Fn},t))}var F,Be,oe,Ee,Sr,ma,$e,Hn,Si,Tt,Ms,Fn,Ho,Ue,vi=!1,Ja=!1,Ya=[],wr,qt,Sc,Cc,Mh,Nh,xs,fi,Ns,Ds=!1,Uo=!1,ga,Xe,kc=[],Au=!1,Xa=[],Ul=typeof document<"u",Wo=Sb,Dh=mo||Nn?"cssFloat":"float",jI=Ul&&!AI&&!Sb&&"draggable"in document.createElement("div"),Tb=function(){if(Ul){if(Nn)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),$b=function(e,n){var r=G(e),i=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),s=qa(e,0,n),o=qa(e,1,n),a=s&&G(s),l=o&&G(o),c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+Pe(s).width,u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+Pe(o).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&a.float&&a.float!=="none"){var f=a.float==="left"?"left":"right";return o&&(l.clear==="both"||l.clear===f)?"vertical":"horizontal"}return s&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||c>=i&&r[Dh]==="none"||o&&r[Dh]==="none"&&c+u>i)?"vertical":"horizontal"},zI=function(e,n,r){var i=r?e.left:e.top,s=r?e.right:e.bottom,o=r?e.width:e.height,a=r?n.left:n.top,l=r?n.right:n.bottom,c=r?n.width:n.height;return i===a||s===l||i+o/2===a+c/2},VI=function(e,n){var r;return Ya.some(function(i){if(!pd(i)){var s=Pe(i),o=i[nt].options.emptyInsertThreshold,a=e>=s.left-o&&e<=s.right+o,l=n>=s.top-o&&n<=s.bottom+o;if(o&&a&&l)return r=i}}),r},Ib=function(e){function n(s,o){return function(a,l,c,u){var f=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(s==null&&(o||f))return!0;if(s==null||s===!1)return!1;if(o&&s==="clone")return s;if(typeof s=="function")return n(s(a,l,c,u),o)(a,l,c,u);var d=(o?a:l).options.group.name;return s===!0||typeof s=="string"&&s===d||s.join&&s.indexOf(d)>-1}}var r={},i=e.group;(!i||ha(i)!="object")&&(i={name:i}),r.name=i.name,r.checkPull=n(i.pull,!0),r.checkPut=n(i.put),r.revertClone=i.revertClone,e.group=r},Pb=function(){!Tb&&oe&&G(oe,"display","none")},Ab=function(){!Tb&&oe&&G(oe,"display","")};Ul&&document.addEventListener("click",function(t){if(Ja)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Ja=!1,!1},!0);var xr=function(e){if(F){e=e.touches?e.touches[0]:e;var n=VI(e.clientX,e.clientY);if(n){var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[nt]._onDragOver(r)}}},HI=function(e){F&&F.parentNode[nt]._isOutsideThisEl(e.target)};function te(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=Wt({},e),t[nt]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return $b(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,a){o.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:te.supportPointer!==!1&&"PointerEvent"in window,emptyInsertThreshold:5};go.initializePlugins(this,t,n);for(var r in n)!(r in e)&&(e[r]=n[r]);Ib(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:jI,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?pe(t,"pointerdown",this._onTapStart):(pe(t,"mousedown",this._onTapStart),pe(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(pe(t,"dragover",this),pe(t,"dragenter",this)),Ya.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Wt(this,LI())}te.prototype={constructor:te,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(fi=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,F):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,r=this.el,i=this.options,s=i.preventOnFilter,o=e.type,a=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(a||e).target,c=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,u=i.filter;if(YI(r),!F&&!(/mousedown|pointerdown/.test(o)&&e.button!==0||i.disabled)&&!c.isContentEditable&&(l=Yt(l,i.draggable,r,!1),!(l&&l.animated)&&ma!==l)){if(Si=Ie(l),Ms=Ie(l,i.draggable),typeof u=="function"){if(u.call(this,e,l,this)){ft({sortable:n,rootEl:c,name:"filter",targetEl:l,toEl:r,fromEl:r}),bt("filter",n,{evt:e}),s&&e.cancelable&&e.preventDefault();return}}else if(u&&(u=u.split(",").some(function(f){if(f=Yt(c,f.trim(),r,!1),f)return ft({sortable:n,rootEl:f,name:"filter",targetEl:l,fromEl:r,toEl:r}),bt("filter",n,{evt:e}),!0}),u)){s&&e.cancelable&&e.preventDefault();return}i.handle&&!Yt(c,i.handle,r,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,n,r){var i=this,s=i.el,o=i.options,a=s.ownerDocument,l;if(r&&!F&&r.parentNode===s){var c=Pe(r);if(Ee=s,F=r,Be=F.parentNode,Sr=F.nextSibling,ma=r,Ho=o.group,te.dragged=F,wr={target:F,clientX:(n||e).clientX,clientY:(n||e).clientY},Mh=wr.clientX-c.left,Nh=wr.clientY-c.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,F.style["will-change"]="all",l=function(){if(bt("delayEnded",i,{evt:e}),te.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!Th&&i.nativeDraggable&&(F.draggable=!0),i._triggerDragStart(e,n),ft({sortable:i,name:"choose",originalEvent:e}),Oe(F,o.chosenClass,!0)},o.ignore.split(",").forEach(function(u){kb(F,u.trim(),Oc)}),pe(a,"dragover",xr),pe(a,"mousemove",xr),pe(a,"touchmove",xr),pe(a,"mouseup",i._onDrop),pe(a,"touchend",i._onDrop),pe(a,"touchcancel",i._onDrop),Th&&this.nativeDraggable&&(this.options.touchStartThreshold=4,F.draggable=!0),bt("delayStart",this,{evt:e}),o.delay&&(!o.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(mo||Nn))){if(te.eventCanceled){this._onDrop();return}pe(a,"mouseup",i._disableDelayedDrag),pe(a,"touchend",i._disableDelayedDrag),pe(a,"touchcancel",i._disableDelayedDrag),pe(a,"mousemove",i._delayedDragTouchMoveHandler),pe(a,"touchmove",i._delayedDragTouchMoveHandler),o.supportPointer&&pe(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(l,o.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){F&&Oc(F),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;ce(e,"mouseup",this._disableDelayedDrag),ce(e,"touchend",this._disableDelayedDrag),ce(e,"touchcancel",this._disableDelayedDrag),ce(e,"mousemove",this._delayedDragTouchMoveHandler),ce(e,"touchmove",this._delayedDragTouchMoveHandler),ce(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?pe(document,"pointermove",this._onTouchMove):n?pe(document,"touchmove",this._onTouchMove):pe(document,"mousemove",this._onTouchMove):(pe(F,"dragend",this),pe(Ee,"dragstart",this._onDragStart));try{document.selection?va(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(vi=!1,Ee&&F){bt("dragStarted",this,{evt:n}),this.nativeDraggable&&pe(document,"dragover",HI);var r=this.options;!e&&Oe(F,r.dragClass,!1),Oe(F,r.ghostClass,!0),te.active=this,e&&this._appendGhost(),ft({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(qt){this._lastX=qt.clientX,this._lastY=qt.clientY,Pb();for(var e=document.elementFromPoint(qt.clientX,qt.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(qt.clientX,qt.clientY),e!==n);)n=e;if(F.parentNode[nt]._isOutsideThisEl(e),n)do{if(n[nt]){var r=void 0;if(r=n[nt]._onDragOver({clientX:qt.clientX,clientY:qt.clientY,target:e,rootEl:n}),r&&!this.options.dragoverBubble)break}e=n}while(n=n.parentNode);Ab()}},_onTouchMove:function(e){if(wr){var n=this.options,r=n.fallbackTolerance,i=n.fallbackOffset,s=e.touches?e.touches[0]:e,o=oe&&Nr(oe,!0),a=oe&&o&&o.a,l=oe&&o&&o.d,c=Wo&&Xe&&Ph(Xe),u=(s.clientX-wr.clientX+i.x)/(a||1)+(c?c[0]-kc[0]:0)/(a||1),f=(s.clientY-wr.clientY+i.y)/(l||1)+(c?c[1]-kc[1]:0)/(l||1);if(!te.active&&!vi){if(r&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}if(oe){o?(o.e+=u-(Sc||0),o.f+=f-(Cc||0)):o={a:1,b:0,c:0,d:1,e:u,f};var d="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");G(oe,"webkitTransform",d),G(oe,"mozTransform",d),G(oe,"msTransform",d),G(oe,"transform",d),Sc=u,Cc=f,qt=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!oe){var e=this.options.fallbackOnBody?document.body:Ee,n=Pe(F,!0,Wo,!0,e),r=this.options;if(Wo){for(Xe=e;G(Xe,"position")==="static"&&G(Xe,"transform")==="none"&&Xe!==document;)Xe=Xe.parentNode;Xe!==document.body&&Xe!==document.documentElement?(Xe===document&&(Xe=dn()),n.top+=Xe.scrollTop,n.left+=Xe.scrollLeft):Xe=dn(),kc=Ph(Xe)}oe=F.cloneNode(!0),Oe(oe,r.ghostClass,!1),Oe(oe,r.fallbackClass,!0),Oe(oe,r.dragClass,!0),G(oe,"transition",""),G(oe,"transform",""),G(oe,"box-sizing","border-box"),G(oe,"margin",0),G(oe,"top",n.top),G(oe,"left",n.left),G(oe,"width",n.width),G(oe,"height",n.height),G(oe,"opacity","0.8"),G(oe,"position",Wo?"absolute":"fixed"),G(oe,"zIndex","100000"),G(oe,"pointerEvents","none"),te.ghost=oe,e.appendChild(oe),G(oe,"transform-origin",Mh/parseInt(oe.style.width)*100+"% "+Nh/parseInt(oe.style.height)*100+"%")}},_onDragStart:function(e,n){var r=this,i=e.dataTransfer,s=r.options;if(bt("dragStart",this,{evt:e}),te.eventCanceled){this._onDrop();return}bt("setupClone",this),te.eventCanceled||($e=hd(F),$e.draggable=!1,$e.style["will-change"]="",this._hideClone(),Oe($e,this.options.chosenClass,!1),te.clone=$e),r.cloneId=va(function(){bt("clone",r),!te.eventCanceled&&(r.options.removeCloneOnHide||Ee.insertBefore($e,F),r._hideClone(),ft({sortable:r,name:"clone"}))}),!n&&Oe(F,s.dragClass,!0),n?(Ja=!0,r._loopId=setInterval(r._emulateDragOver,50)):(ce(document,"mouseup",r._onDrop),ce(document,"touchend",r._onDrop),ce(document,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",s.setData&&s.setData.call(r,i,F)),pe(document,"drop",r),G(F,"transform","translateZ(0)")),vi=!0,r._dragStartId=va(r._dragStarted.bind(r,n,e)),pe(document,"selectstart",r),xs=!0,Pu&&G(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,r=e.target,i,s,o,a=this.options,l=a.group,c=te.active,u=Ho===l,f=a.sort,d=Ue||c,p,h=this,m=!1;if(Au)return;function g(U,q){bt(U,h,cr({evt:e,isOwner:u,axis:p?"vertical":"horizontal",revert:o,dragRect:i,targetRect:s,canSort:f,fromSortable:d,target:r,completed:x,onMove:function(Y,S){return Ec(Ee,n,F,i,Y,Pe(Y),e,S)},changed:k},q))}function v(){g("dragOverAnimationCapture"),h.captureAnimationState(),h!==d&&d.captureAnimationState()}function x(U){return g("dragOverCompleted",{insertion:U}),U&&(u?c._hideClone():c._showClone(h),h!==d&&(Oe(F,Ue?Ue.options.ghostClass:c.options.ghostClass,!1),Oe(F,a.ghostClass,!0)),Ue!==h&&h!==te.active?Ue=h:h===te.active&&Ue&&(Ue=null),d===h&&(h._ignoreWhileAnimating=r),h.animateAll(function(){g("dragOverAnimationComplete"),h._ignoreWhileAnimating=null}),h!==d&&(d.animateAll(),d._ignoreWhileAnimating=null)),(r===F&&!F.animated||r===n&&!r.animated)&&(fi=null),!a.dragoverBubble&&!e.rootEl&&r!==document&&(F.parentNode[nt]._isOutsideThisEl(e.target),!U&&xr(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function k(){Tt=Ie(F),Fn=Ie(F,a.draggable),ft({sortable:h,name:"change",toEl:n,newIndex:Tt,newDraggableIndex:Fn,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),r=Yt(r,a.draggable,n,!0),g("dragOver"),te.eventCanceled)return m;if(F.contains(e.target)||r.animated&&r.animatingX&&r.animatingY||h._ignoreWhileAnimating===r)return x(!1);if(Ja=!1,c&&!a.disabled&&(u?f||(o=!Ee.contains(F)):Ue===this||(this.lastPutMode=Ho.checkPull(this,c,F,e))&&l.checkPut(this,c,F,e))){if(p=this._getDirection(e,r)==="vertical",i=Pe(F),g("dragOverValid"),te.eventCanceled)return m;if(o)return Be=Ee,v(),this._hideClone(),g("revert"),te.eventCanceled||(Sr?Ee.insertBefore(F,Sr):Ee.appendChild(F)),x(!0);var T=pd(n,a.draggable);if(!T||KI(e,p,this)&&!T.animated){if(T===F)return x(!1);if(T&&n===e.target&&(r=T),r&&(s=Pe(r)),Ec(Ee,n,F,i,r,s,e,!!r)!==!1)return v(),n.appendChild(F),Be=n,k(),x(!0)}else if(r.parentNode===n){s=Pe(r);var P=0,D,H=F.parentNode!==n,L=!zI(F.animated&&F.toRect||i,r.animated&&r.toRect||s,p),M=p?"top":"left",z=Ih(r,"top","top")||Ih(F,"top","top"),Q=z?z.scrollTop:void 0;fi!==r&&(D=s[M],Ds=!1,Uo=!L&&a.invertSwap||H),P=GI(e,r,s,p,L?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,Uo,fi===r);var b;if(P!==0){var _=Ie(F);do _-=P,b=Be.children[_];while(b&&(G(b,"display")==="none"||b===oe))}if(P===0||b===r)return x(!1);fi=r,Ns=P;var O=r.nextElementSibling,I=!1;I=P===1;var R=Ec(Ee,n,F,i,r,s,e,I);if(R!==!1)return(R===1||R===-1)&&(I=R===1),Au=!0,setTimeout(WI,30),v(),I&&!O?n.appendChild(F):r.parentNode.insertBefore(F,I?O:r),z&&Ob(z,0,Q-z.scrollTop),Be=F.parentNode,D!==void 0&&!Uo&&(ga=Math.abs(D-Pe(r)[M])),k(),x(!0)}if(n.contains(F))return x(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){ce(document,"mousemove",this._onTouchMove),ce(document,"touchmove",this._onTouchMove),ce(document,"pointermove",this._onTouchMove),ce(document,"dragover",xr),ce(document,"mousemove",xr),ce(document,"touchmove",xr)},_offUpEvents:function(){var e=this.el.ownerDocument;ce(e,"mouseup",this._onDrop),ce(e,"touchend",this._onDrop),ce(e,"pointerup",this._onDrop),ce(e,"touchcancel",this._onDrop),ce(document,"selectstart",this)},_onDrop:function(e){var n=this.el,r=this.options;if(Tt=Ie(F),Fn=Ie(F,r.draggable),bt("drop",this,{evt:e}),Be=F&&F.parentNode,Tt=Ie(F),Fn=Ie(F,r.draggable),te.eventCanceled){this._nulling();return}vi=!1,Uo=!1,Ds=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Mu(this.cloneId),Mu(this._dragStartId),this.nativeDraggable&&(ce(document,"drop",this),ce(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Pu&&G(document.body,"user-select",""),G(F,"transform",""),e&&(xs&&(e.cancelable&&e.preventDefault(),!r.dropBubble&&e.stopPropagation()),oe&&oe.parentNode&&oe.parentNode.removeChild(oe),(Ee===Be||Ue&&Ue.lastPutMode!=="clone")&&$e&&$e.parentNode&&$e.parentNode.removeChild($e),F&&(this.nativeDraggable&&ce(F,"dragend",this),Oc(F),F.style["will-change"]="",xs&&!vi&&Oe(F,Ue?Ue.options.ghostClass:this.options.ghostClass,!1),Oe(F,this.options.chosenClass,!1),ft({sortable:this,name:"unchoose",toEl:Be,newIndex:null,newDraggableIndex:null,originalEvent:e}),Ee!==Be?(Tt>=0&&(ft({rootEl:Be,name:"add",toEl:Be,fromEl:Ee,originalEvent:e}),ft({sortable:this,name:"remove",toEl:Be,originalEvent:e}),ft({rootEl:Be,name:"sort",toEl:Be,fromEl:Ee,originalEvent:e}),ft({sortable:this,name:"sort",toEl:Be,originalEvent:e})),Ue&&Ue.save()):Tt!==Si&&Tt>=0&&(ft({sortable:this,name:"update",toEl:Be,originalEvent:e}),ft({sortable:this,name:"sort",toEl:Be,originalEvent:e})),te.active&&((Tt==null||Tt===-1)&&(Tt=Si,Fn=Ms),ft({sortable:this,name:"end",toEl:Be,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){bt("nulling",this),Ee=F=Be=oe=Sr=$e=ma=Hn=wr=qt=xs=Tt=Fn=Si=Ms=fi=Ns=Ue=Ho=te.dragged=te.ghost=te.clone=te.active=null,Xa.forEach(function(e){e.checked=!0}),Xa.length=Sc=Cc=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":F&&(this._onDragOver(e),UI(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,r=this.el.children,i=0,s=r.length,o=this.options;i<s;i++)n=r[i],Yt(n,o.draggable,this.el,!1)&&e.push(n.getAttribute(o.dataIdAttr)||JI(n));return e},sort:function(e){var n={},r=this.el;this.toArray().forEach(function(i,s){var o=r.children[s];Yt(o,this.options.draggable,r,!1)&&(n[i]=o)},this),e.forEach(function(i){n[i]&&(r.removeChild(n[i]),r.appendChild(n[i]))})},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return Yt(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var r=this.options;if(n===void 0)return r[e];var i=go.modifyOption(this,e,n);typeof i<"u"?r[e]=i:r[e]=n,e==="group"&&Ib(r)},destroy:function(){bt("destroy",this);var e=this.el;e[nt]=null,ce(e,"mousedown",this._onTapStart),ce(e,"touchstart",this._onTapStart),ce(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(ce(e,"dragover",this),ce(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Ya.splice(Ya.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Hn){if(bt("hideClone",this),te.eventCanceled)return;G($e,"display","none"),this.options.removeCloneOnHide&&$e.parentNode&&$e.parentNode.removeChild($e),Hn=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Hn){if(bt("showClone",this),te.eventCanceled)return;Ee.contains(F)&&!this.options.group.revertClone?Ee.insertBefore($e,F):Sr?Ee.insertBefore($e,Sr):Ee.appendChild($e),this.options.group.revertClone&&this.animate(F,$e),G($e,"display",""),Hn=!1}}};function UI(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Ec(t,e,n,r,i,s,o,a){var l,c=t[nt],u=c.options.onMove,f;return window.CustomEvent&&!Nn&&!mo?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=n,l.draggedRect=r,l.related=i||e,l.relatedRect=s||Pe(e),l.willInsertAfter=a,l.originalEvent=o,t.dispatchEvent(l),u&&(f=u.call(c,l,o)),f}function Oc(t){t.draggable=!1}function WI(){Au=!1}function KI(t,e,n){var r=Pe(pd(n.el,n.options.draggable)),i=10;return e?t.clientX>r.right+i||t.clientX<=r.right&&t.clientY>r.bottom&&t.clientX>=r.left:t.clientX>r.right&&t.clientY>r.top||t.clientX<=r.right&&t.clientY>r.bottom+i}function GI(t,e,n,r,i,s,o,a){var l=r?t.clientY:t.clientX,c=r?n.height:n.width,u=r?n.top:n.left,f=r?n.bottom:n.right,d=!1;if(!o){if(a&&ga<c*i){if(!Ds&&(Ns===1?l>u+c*s/2:l<f-c*s/2)&&(Ds=!0),Ds)d=!0;else if(Ns===1?l<u+ga:l>f-ga)return-Ns}else if(l>u+c*(1-i)/2&&l<f-c*(1-i)/2)return qI(e)}return d=d||o,d&&(l<u+c*s/2||l>f-c*s/2)?l>u+c/2?1:-1:0}function qI(t){return Ie(F)<Ie(t)?1:-1}function JI(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,r=0;n--;)r+=e.charCodeAt(n);return r.toString(36)}function YI(t){Xa.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var r=e[n];r.checked&&Xa.push(r)}}function va(t){return setTimeout(t,0)}function Mu(t){return clearTimeout(t)}Ul&&pe(document,"touchmove",function(t){(te.active||vi)&&t.cancelable&&t.preventDefault()});te.utils={on:pe,off:ce,css:G,find:kb,is:function(e,n){return!!Yt(e,n,e,!1)},extend:DI,throttle:Eb,closest:Yt,toggleClass:Oe,clone:hd,index:Ie,nextTick:va,cancelNextTick:Mu,detectDirection:$b,getChild:qa};te.get=function(t){return t[nt]};te.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(te.utils=cr({},te.utils,r.utils)),go.mount(r)})};te.create=function(t,e){return new te(t,e)};te.version=PI;var Fe=[],Ss,Nu,Du=!1,Tc,$c,Za,Cs;function XI(){function t(){this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var r=n.originalEvent;this.sortable.nativeDraggable?pe(document,"dragover",this._handleAutoScroll):this.options.supportPointer?pe(document,"pointermove",this._handleFallbackAutoScroll):r.touches?pe(document,"touchmove",this._handleFallbackAutoScroll):pe(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var r=n.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?ce(document,"dragover",this._handleAutoScroll):(ce(document,"pointermove",this._handleFallbackAutoScroll),ce(document,"touchmove",this._handleFallbackAutoScroll),ce(document,"mousemove",this._handleFallbackAutoScroll)),Rh(),ya(),RI()},nulling:function(){Za=Nu=Ss=Du=Cs=Tc=$c=null,Fe.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,r){var i=this,s=(n.touches?n.touches[0]:n).clientX,o=(n.touches?n.touches[0]:n).clientY,a=document.elementFromPoint(s,o);if(Za=n,r||mo||Nn||Pu){Ic(n,this.options,a,r);var l=qn(a,!0);Du&&(!Cs||s!==Tc||o!==$c)&&(Cs&&Rh(),Cs=setInterval(function(){var c=qn(document.elementFromPoint(s,o),!0);c!==l&&(l=c,ya()),Ic(n,i.options,c,r)},10),Tc=s,$c=o)}else{if(!this.options.bubbleScroll||qn(a,!0)===dn()){ya();return}Ic(n,this.options,qn(a,!1),!1)}}},Wt(t,{pluginName:"scroll",initializeByDefault:!0})}function ya(){Fe.forEach(function(t){clearInterval(t.pid)}),Fe=[]}function Rh(){clearInterval(Cs)}var Ic=Eb(function(t,e,n,r){if(e.scroll){var i=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,o=e.scrollSensitivity,a=e.scrollSpeed,l=dn(),c=!1,u;Nu!==n&&(Nu=n,ya(),Ss=e.scroll,u=e.scrollFn,Ss===!0&&(Ss=qn(n,!0)));var f=0,d=Ss;do{var p=d,h=Pe(p),m=h.top,g=h.bottom,v=h.left,x=h.right,k=h.width,T=h.height,P=void 0,D=void 0,H=p.scrollWidth,L=p.scrollHeight,M=G(p),z=p.scrollLeft,Q=p.scrollTop;p===l?(P=k<H&&(M.overflowX==="auto"||M.overflowX==="scroll"||M.overflowX==="visible"),D=T<L&&(M.overflowY==="auto"||M.overflowY==="scroll"||M.overflowY==="visible")):(P=k<H&&(M.overflowX==="auto"||M.overflowX==="scroll"),D=T<L&&(M.overflowY==="auto"||M.overflowY==="scroll"));var b=P&&(Math.abs(x-i)<=o&&z+k<H)-(Math.abs(v-i)<=o&&!!z),_=D&&(Math.abs(g-s)<=o&&Q+T<L)-(Math.abs(m-s)<=o&&!!Q);if(!Fe[f])for(var O=0;O<=f;O++)Fe[O]||(Fe[O]={});(Fe[f].vx!=b||Fe[f].vy!=_||Fe[f].el!==p)&&(Fe[f].el=p,Fe[f].vx=b,Fe[f].vy=_,clearInterval(Fe[f].pid),(b!=0||_!=0)&&(c=!0,Fe[f].pid=setInterval((function(){r&&this.layer===0&&te.active._onTouchMove(Za);var I=Fe[this.layer].vy?Fe[this.layer].vy*a:0,R=Fe[this.layer].vx?Fe[this.layer].vx*a:0;typeof u=="function"&&u.call(te.dragged.parentNode[nt],R,I,t,Za,Fe[this.layer].el)!=="continue"||Ob(Fe[this.layer].el,R,I)}).bind({layer:f}),24))),f++}while(e.bubbleScroll&&d!==l&&(d=qn(d,!1)));Du=c}},30),Mb=function(e){var n=e.originalEvent,r=e.putSortable,i=e.dragEl,s=e.activeSortable,o=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(n){var c=r||s;a();var u=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,f=document.elementFromPoint(u.clientX,u.clientY);l(),c&&!c.el.contains(f)&&(o("spill"),this.onSpill({dragEl:i,putSortable:r}))}};function md(){}md.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,r=e.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var i=qa(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop:Mb};Wt(md,{pluginName:"revertOnSpill"});function gd(){}gd.prototype={onSpill:function(e){var n=e.dragEl,r=e.putSortable,i=r||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:Mb};Wt(gd,{pluginName:"removeOnSpill"});var Rt;function ZI(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(n){var r=n.dragEl;Rt=r},dragOverValid:function(n){var r=n.completed,i=n.target,s=n.onMove,o=n.activeSortable,a=n.changed,l=n.cancel;if(o.options.swap){var c=this.sortable.el,u=this.options;if(i&&i!==c){var f=Rt;s(i)!==!1?(Oe(i,u.swapClass,!0),Rt=i):Rt=null,f&&f!==Rt&&Oe(f,u.swapClass,!1)}a(),r(!0),l()}},drop:function(n){var r=n.activeSortable,i=n.putSortable,s=n.dragEl,o=i||this.sortable,a=this.options;Rt&&Oe(Rt,a.swapClass,!1),Rt&&(a.swap||i&&i.options.swap)&&s!==Rt&&(o.captureAnimationState(),o!==r&&r.captureAnimationState(),QI(s,Rt),o.animateAll(),o!==r&&r.animateAll())},nulling:function(){Rt=null}},Wt(t,{pluginName:"swap",eventProperties:function(){return{swapItem:Rt}}})}function QI(t,e){var n=t.parentNode,r=e.parentNode,i,s;!n||!r||n.isEqualNode(e)||r.isEqualNode(t)||(i=Ie(t),s=Ie(e),n.isEqualNode(r)&&i<s&&s++,n.insertBefore(e,n.children[i]),r.insertBefore(t,r.children[s]))}var ie=[],Ot=[],ps,Jt,hs=!1,Et=!1,di=!1,be,ms,Ko;function eP(){function t(e){for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));e.options.supportPointer?pe(document,"pointerup",this._deselectMultiDrag):(pe(document,"mouseup",this._deselectMultiDrag),pe(document,"touchend",this._deselectMultiDrag)),pe(document,"keydown",this._checkKeyDown),pe(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(i,s){var o="";ie.length&&Jt===e?ie.forEach(function(a,l){o+=(l?", ":"")+a.textContent}):o=s.textContent,i.setData("Text",o)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(n){var r=n.dragEl;be=r},delayEnded:function(){this.isMultiDrag=~ie.indexOf(be)},setupClone:function(n){var r=n.sortable,i=n.cancel;if(this.isMultiDrag){for(var s=0;s<ie.length;s++)Ot.push(hd(ie[s])),Ot[s].sortableIndex=ie[s].sortableIndex,Ot[s].draggable=!1,Ot[s].style["will-change"]="",Oe(Ot[s],this.options.selectedClass,!1),ie[s]===be&&Oe(Ot[s],this.options.chosenClass,!1);r._hideClone(),i()}},clone:function(n){var r=n.sortable,i=n.rootEl,s=n.dispatchSortableEvent,o=n.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||ie.length&&Jt===r&&(Lh(!0,i),s("clone"),o()))},showClone:function(n){var r=n.cloneNowShown,i=n.rootEl,s=n.cancel;this.isMultiDrag&&(Lh(!1,i),Ot.forEach(function(o){G(o,"display","")}),r(),Ko=!1,s())},hideClone:function(n){var r=this;n.sortable;var i=n.cloneNowHidden,s=n.cancel;this.isMultiDrag&&(Ot.forEach(function(o){G(o,"display","none"),r.options.removeCloneOnHide&&o.parentNode&&o.parentNode.removeChild(o)}),i(),Ko=!0,s())},dragStartGlobal:function(n){n.sortable,!this.isMultiDrag&&Jt&&Jt.multiDrag._deselectMultiDrag(),ie.forEach(function(r){r.sortableIndex=Ie(r)}),ie=ie.sort(function(r,i){return r.sortableIndex-i.sortableIndex}),di=!0},dragStarted:function(n){var r=this,i=n.sortable;if(this.isMultiDrag){if(this.options.sort&&(i.captureAnimationState(),this.options.animation)){ie.forEach(function(o){o!==be&&G(o,"position","absolute")});var s=Pe(be,!1,!0,!0);ie.forEach(function(o){o!==be&&Ah(o,s)}),Et=!0,hs=!0}i.animateAll(function(){Et=!1,hs=!1,r.options.animation&&ie.forEach(function(o){wc(o)}),r.options.sort&&Go()})}},dragOver:function(n){var r=n.target,i=n.completed,s=n.cancel;Et&&~ie.indexOf(r)&&(i(!1),s())},revert:function(n){var r=n.fromSortable,i=n.rootEl,s=n.sortable,o=n.dragRect;ie.length>1&&(ie.forEach(function(a){s.addAnimationState({target:a,rect:Et?Pe(a):o}),wc(a),a.fromRect=o,r.removeAnimationState(a)}),Et=!1,tP(!this.options.removeCloneOnHide,i))},dragOverCompleted:function(n){var r=n.sortable,i=n.isOwner,s=n.insertion,o=n.activeSortable,a=n.parentEl,l=n.putSortable,c=this.options;if(s){if(i&&o._hideClone(),hs=!1,c.animation&&ie.length>1&&(Et||!i&&!o.options.sort&&!l)){var u=Pe(be,!1,!0,!0);ie.forEach(function(d){d!==be&&(Ah(d,u),a.appendChild(d))}),Et=!0}if(!i)if(Et||Go(),ie.length>1){var f=Ko;o._showClone(r),o.options.animation&&!Ko&&f&&Ot.forEach(function(d){o.addAnimationState({target:d,rect:ms}),d.fromRect=ms,d.thisAnimationDuration=null})}else o._showClone(r)}},dragOverAnimationCapture:function(n){var r=n.dragRect,i=n.isOwner,s=n.activeSortable;if(ie.forEach(function(a){a.thisAnimationDuration=null}),s.options.animation&&!i&&s.multiDrag.isMultiDrag){ms=Wt({},r);var o=Nr(be,!0);ms.top-=o.f,ms.left-=o.e}},dragOverAnimationComplete:function(){Et&&(Et=!1,Go())},drop:function(n){var r=n.originalEvent,i=n.rootEl,s=n.parentEl,o=n.sortable,a=n.dispatchSortableEvent,l=n.oldIndex,c=n.putSortable,u=c||this.sortable;if(r){var f=this.options,d=s.children;if(!di)if(f.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),Oe(be,f.selectedClass,!~ie.indexOf(be)),~ie.indexOf(be))ie.splice(ie.indexOf(be),1),ps=null,ws({sortable:o,rootEl:i,name:"deselect",targetEl:be,originalEvt:r});else{if(ie.push(be),ws({sortable:o,rootEl:i,name:"select",targetEl:be,originalEvt:r}),r.shiftKey&&ps&&o.el.contains(ps)){var p=Ie(ps),h=Ie(be);if(~p&&~h&&p!==h){var m,g;for(h>p?(g=p,m=h):(g=h,m=p+1);g<m;g++)~ie.indexOf(d[g])||(Oe(d[g],f.selectedClass,!0),ie.push(d[g]),ws({sortable:o,rootEl:i,name:"select",targetEl:d[g],originalEvt:r}))}}else ps=be;Jt=u}if(di&&this.isMultiDrag){if((s[nt].options.sort||s!==i)&&ie.length>1){var v=Pe(be),x=Ie(be,":not(."+this.options.selectedClass+")");if(!hs&&f.animation&&(be.thisAnimationDuration=null),u.captureAnimationState(),!hs&&(f.animation&&(be.fromRect=v,ie.forEach(function(T){if(T.thisAnimationDuration=null,T!==be){var P=Et?Pe(T):v;T.fromRect=P,u.addAnimationState({target:T,rect:P})}})),Go(),ie.forEach(function(T){d[x]?s.insertBefore(T,d[x]):s.appendChild(T),x++}),l===Ie(be))){var k=!1;ie.forEach(function(T){if(T.sortableIndex!==Ie(T)){k=!0;return}}),k&&a("update")}ie.forEach(function(T){wc(T)}),u.animateAll()}Jt=u}(i===s||c&&c.lastPutMode!=="clone")&&Ot.forEach(function(T){T.parentNode&&T.parentNode.removeChild(T)})}},nullingGlobal:function(){this.isMultiDrag=di=!1,Ot.length=0},destroyGlobal:function(){this._deselectMultiDrag(),ce(document,"pointerup",this._deselectMultiDrag),ce(document,"mouseup",this._deselectMultiDrag),ce(document,"touchend",this._deselectMultiDrag),ce(document,"keydown",this._checkKeyDown),ce(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(n){if(!(typeof di<"u"&&di)&&Jt===this.sortable&&!(n&&Yt(n.target,this.options.draggable,this.sortable.el,!1))&&!(n&&n.button!==0))for(;ie.length;){var r=ie[0];Oe(r,this.options.selectedClass,!1),ie.shift(),ws({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:r,originalEvt:n})}},_checkKeyDown:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},Wt(t,{pluginName:"multiDrag",utils:{select:function(n){var r=n.parentNode[nt];!r||!r.options.multiDrag||~ie.indexOf(n)||(Jt&&Jt!==r&&(Jt.multiDrag._deselectMultiDrag(),Jt=r),Oe(n,r.options.selectedClass,!0),ie.push(n))},deselect:function(n){var r=n.parentNode[nt],i=ie.indexOf(n);!r||!r.options.multiDrag||!~i||(Oe(n,r.options.selectedClass,!1),ie.splice(i,1))}},eventProperties:function(){var n=this,r=[],i=[];return ie.forEach(function(s){r.push({multiDragElement:s,index:s.sortableIndex});var o;Et&&s!==be?o=-1:Et?o=Ie(s,":not(."+n.options.selectedClass+")"):o=Ie(s),i.push({multiDragElement:s,index:o})}),{items:OI(ie),clones:[].concat(Ot),oldIndicies:r,newIndicies:i}},optionListeners:{multiDragKey:function(n){return n=n.toLowerCase(),n==="ctrl"?n="Control":n.length>1&&(n=n.charAt(0).toUpperCase()+n.substr(1)),n}}})}function tP(t,e){ie.forEach(function(n,r){var i=e.children[n.sortableIndex+(t?Number(r):0)];i?e.insertBefore(n,i):e.appendChild(n)})}function Lh(t,e){Ot.forEach(function(n,r){var i=e.children[n.sortableIndex+(t?Number(r):0)];i?e.insertBefore(n,i):e.appendChild(n)})}function Go(){ie.forEach(function(t){t!==be&&t.parentNode&&t.parentNode.removeChild(t)})}te.mount(new XI);te.mount(gd,md);const nP=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:eP,Sortable:te,Swap:ZI,default:te},Symbol.toStringTag,{value:"Module"})),rP=mb(nP);(function(t,e){(function(r,i){t.exports=i(rP)})(typeof self<"u"?self:Or,function(n){return function(r){var i={};function s(o){if(i[o])return i[o].exports;var a=i[o]={i:o,l:!1,exports:{}};return r[o].call(a.exports,a,a.exports,s),a.l=!0,a.exports}return s.m=r,s.c=i,s.d=function(o,a,l){s.o(o,a)||Object.defineProperty(o,a,{enumerable:!0,get:l})},s.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},s.t=function(o,a){if(a&1&&(o=s(o)),a&8||a&4&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(s.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),a&2&&typeof o!="string")for(var c in o)s.d(l,c,(function(u){return o[u]}).bind(null,c));return l},s.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return s.d(a,"a",a),a},s.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},s.p="",s(s.s="fb15")}({"01f9":function(r,i,s){var o=s("2d00"),a=s("5ca1"),l=s("2aba"),c=s("32e9"),u=s("84f2"),f=s("41a0"),d=s("7f20"),p=s("38fd"),h=s("2b4c")("iterator"),m=!([].keys&&"next"in[].keys()),g="@@iterator",v="keys",x="values",k=function(){return this};r.exports=function(T,P,D,H,L,M,z){f(D,P,H);var Q=function(y){if(!m&&y in I)return I[y];switch(y){case v:return function(){return new D(this,y)};case x:return function(){return new D(this,y)}}return function(){return new D(this,y)}},b=P+" Iterator",_=L==x,O=!1,I=T.prototype,R=I[h]||I[g]||L&&I[L],U=R||Q(L),q=L?_?Q("entries"):U:void 0,J=P=="Array"&&I.entries||R,Y,S,w;if(J&&(w=p(J.call(new T)),w!==Object.prototype&&w.next&&(d(w,b,!0),!o&&typeof w[h]!="function"&&c(w,h,k))),_&&R&&R.name!==x&&(O=!0,U=function(){return R.call(this)}),(!o||z)&&(m||O||!I[h])&&c(I,h,U),u[P]=U,u[b]=k,L)if(Y={values:_?U:Q(x),keys:M?U:Q(v),entries:q},z)for(S in Y)S in I||l(I,S,Y[S]);else a(a.P+a.F*(m||O),P,Y);return Y}},"02f4":function(r,i,s){var o=s("4588"),a=s("be13");r.exports=function(l){return function(c,u){var f=String(a(c)),d=o(u),p=f.length,h,m;return d<0||d>=p?l?"":void 0:(h=f.charCodeAt(d),h<55296||h>56319||d+1===p||(m=f.charCodeAt(d+1))<56320||m>57343?l?f.charAt(d):h:l?f.slice(d,d+2):(h-55296<<10)+(m-56320)+65536)}}},"0390":function(r,i,s){var o=s("02f4")(!0);r.exports=function(a,l,c){return l+(c?o(a,l).length:1)}},"0bfb":function(r,i,s){var o=s("cb7c");r.exports=function(){var a=o(this),l="";return a.global&&(l+="g"),a.ignoreCase&&(l+="i"),a.multiline&&(l+="m"),a.unicode&&(l+="u"),a.sticky&&(l+="y"),l}},"0d58":function(r,i,s){var o=s("ce10"),a=s("e11e");r.exports=Object.keys||function(c){return o(c,a)}},1495:function(r,i,s){var o=s("86cc"),a=s("cb7c"),l=s("0d58");r.exports=s("9e1e")?Object.defineProperties:function(u,f){a(u);for(var d=l(f),p=d.length,h=0,m;p>h;)o.f(u,m=d[h++],f[m]);return u}},"214f":function(r,i,s){s("b0c5");var o=s("2aba"),a=s("32e9"),l=s("79e5"),c=s("be13"),u=s("2b4c"),f=s("520a"),d=u("species"),p=!l(function(){var m=/./;return m.exec=function(){var g=[];return g.groups={a:"7"},g},"".replace(m,"$<a>")!=="7"}),h=function(){var m=/(?:)/,g=m.exec;m.exec=function(){return g.apply(this,arguments)};var v="ab".split(m);return v.length===2&&v[0]==="a"&&v[1]==="b"}();r.exports=function(m,g,v){var x=u(m),k=!l(function(){var M={};return M[x]=function(){return 7},""[m](M)!=7}),T=k?!l(function(){var M=!1,z=/a/;return z.exec=function(){return M=!0,null},m==="split"&&(z.constructor={},z.constructor[d]=function(){return z}),z[x](""),!M}):void 0;if(!k||!T||m==="replace"&&!p||m==="split"&&!h){var P=/./[x],D=v(c,x,""[m],function(z,Q,b,_,O){return Q.exec===f?k&&!O?{done:!0,value:P.call(Q,b,_)}:{done:!0,value:z.call(b,Q,_)}:{done:!1}}),H=D[0],L=D[1];o(String.prototype,m,H),a(RegExp.prototype,x,g==2?function(M,z){return L.call(M,this,z)}:function(M){return L.call(M,this)})}}},"230e":function(r,i,s){var o=s("d3f4"),a=s("7726").document,l=o(a)&&o(a.createElement);r.exports=function(c){return l?a.createElement(c):{}}},"23c6":function(r,i,s){var o=s("2d95"),a=s("2b4c")("toStringTag"),l=o(function(){return arguments}())=="Arguments",c=function(u,f){try{return u[f]}catch{}};r.exports=function(u){var f,d,p;return u===void 0?"Undefined":u===null?"Null":typeof(d=c(f=Object(u),a))=="string"?d:l?o(f):(p=o(f))=="Object"&&typeof f.callee=="function"?"Arguments":p}},2621:function(r,i){i.f=Object.getOwnPropertySymbols},"2aba":function(r,i,s){var o=s("7726"),a=s("32e9"),l=s("69a8"),c=s("ca5a")("src"),u=s("fa5b"),f="toString",d=(""+u).split(f);s("8378").inspectSource=function(p){return u.call(p)},(r.exports=function(p,h,m,g){var v=typeof m=="function";v&&(l(m,"name")||a(m,"name",h)),p[h]!==m&&(v&&(l(m,c)||a(m,c,p[h]?""+p[h]:d.join(String(h)))),p===o?p[h]=m:g?p[h]?p[h]=m:a(p,h,m):(delete p[h],a(p,h,m)))})(Function.prototype,f,function(){return typeof this=="function"&&this[c]||u.call(this)})},"2aeb":function(r,i,s){var o=s("cb7c"),a=s("1495"),l=s("e11e"),c=s("613b")("IE_PROTO"),u=function(){},f="prototype",d=function(){var p=s("230e")("iframe"),h=l.length,m="<",g=">",v;for(p.style.display="none",s("fab2").appendChild(p),p.src="javascript:",v=p.contentWindow.document,v.open(),v.write(m+"script"+g+"document.F=Object"+m+"/script"+g),v.close(),d=v.F;h--;)delete d[f][l[h]];return d()};r.exports=Object.create||function(h,m){var g;return h!==null?(u[f]=o(h),g=new u,u[f]=null,g[c]=h):g=d(),m===void 0?g:a(g,m)}},"2b4c":function(r,i,s){var o=s("5537")("wks"),a=s("ca5a"),l=s("7726").Symbol,c=typeof l=="function",u=r.exports=function(f){return o[f]||(o[f]=c&&l[f]||(c?l:a)("Symbol."+f))};u.store=o},"2d00":function(r,i){r.exports=!1},"2d95":function(r,i){var s={}.toString;r.exports=function(o){return s.call(o).slice(8,-1)}},"2fdb":function(r,i,s){var o=s("5ca1"),a=s("d2c8"),l="includes";o(o.P+o.F*s("5147")(l),"String",{includes:function(u){return!!~a(this,u,l).indexOf(u,arguments.length>1?arguments[1]:void 0)}})},"32e9":function(r,i,s){var o=s("86cc"),a=s("4630");r.exports=s("9e1e")?function(l,c,u){return o.f(l,c,a(1,u))}:function(l,c,u){return l[c]=u,l}},"38fd":function(r,i,s){var o=s("69a8"),a=s("4bf8"),l=s("613b")("IE_PROTO"),c=Object.prototype;r.exports=Object.getPrototypeOf||function(u){return u=a(u),o(u,l)?u[l]:typeof u.constructor=="function"&&u instanceof u.constructor?u.constructor.prototype:u instanceof Object?c:null}},"41a0":function(r,i,s){var o=s("2aeb"),a=s("4630"),l=s("7f20"),c={};s("32e9")(c,s("2b4c")("iterator"),function(){return this}),r.exports=function(u,f,d){u.prototype=o(c,{next:a(1,d)}),l(u,f+" Iterator")}},"456d":function(r,i,s){var o=s("4bf8"),a=s("0d58");s("5eda")("keys",function(){return function(c){return a(o(c))}})},4588:function(r,i){var s=Math.ceil,o=Math.floor;r.exports=function(a){return isNaN(a=+a)?0:(a>0?o:s)(a)}},4630:function(r,i){r.exports=function(s,o){return{enumerable:!(s&1),configurable:!(s&2),writable:!(s&4),value:o}}},"4bf8":function(r,i,s){var o=s("be13");r.exports=function(a){return Object(o(a))}},5147:function(r,i,s){var o=s("2b4c")("match");r.exports=function(a){var l=/./;try{"/./"[a](l)}catch{try{return l[o]=!1,!"/./"[a](l)}catch{}}return!0}},"520a":function(r,i,s){var o=s("0bfb"),a=RegExp.prototype.exec,l=String.prototype.replace,c=a,u="lastIndex",f=function(){var h=/a/,m=/b*/g;return a.call(h,"a"),a.call(m,"a"),h[u]!==0||m[u]!==0}(),d=/()??/.exec("")[1]!==void 0,p=f||d;p&&(c=function(m){var g=this,v,x,k,T;return d&&(x=new RegExp("^"+g.source+"$(?!\\s)",o.call(g))),f&&(v=g[u]),k=a.call(g,m),f&&k&&(g[u]=g.global?k.index+k[0].length:v),d&&k&&k.length>1&&l.call(k[0],x,function(){for(T=1;T<arguments.length-2;T++)arguments[T]===void 0&&(k[T]=void 0)}),k}),r.exports=c},"52a7":function(r,i){i.f={}.propertyIsEnumerable},5537:function(r,i,s){var o=s("8378"),a=s("7726"),l="__core-js_shared__",c=a[l]||(a[l]={});(r.exports=function(u,f){return c[u]||(c[u]=f!==void 0?f:{})})("versions",[]).push({version:o.version,mode:s("2d00")?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},"5ca1":function(r,i,s){var o=s("7726"),a=s("8378"),l=s("32e9"),c=s("2aba"),u=s("9b43"),f="prototype",d=function(p,h,m){var g=p&d.F,v=p&d.G,x=p&d.S,k=p&d.P,T=p&d.B,P=v?o:x?o[h]||(o[h]={}):(o[h]||{})[f],D=v?a:a[h]||(a[h]={}),H=D[f]||(D[f]={}),L,M,z,Q;v&&(m=h);for(L in m)M=!g&&P&&P[L]!==void 0,z=(M?P:m)[L],Q=T&&M?u(z,o):k&&typeof z=="function"?u(Function.call,z):z,P&&c(P,L,z,p&d.U),D[L]!=z&&l(D,L,Q),k&&H[L]!=z&&(H[L]=z)};o.core=a,d.F=1,d.G=2,d.S=4,d.P=8,d.B=16,d.W=32,d.U=64,d.R=128,r.exports=d},"5eda":function(r,i,s){var o=s("5ca1"),a=s("8378"),l=s("79e5");r.exports=function(c,u){var f=(a.Object||{})[c]||Object[c],d={};d[c]=u(f),o(o.S+o.F*l(function(){f(1)}),"Object",d)}},"5f1b":function(r,i,s){var o=s("23c6"),a=RegExp.prototype.exec;r.exports=function(l,c){var u=l.exec;if(typeof u=="function"){var f=u.call(l,c);if(typeof f!="object")throw new TypeError("RegExp exec method returned something other than an Object or null");return f}if(o(l)!=="RegExp")throw new TypeError("RegExp#exec called on incompatible receiver");return a.call(l,c)}},"613b":function(r,i,s){var o=s("5537")("keys"),a=s("ca5a");r.exports=function(l){return o[l]||(o[l]=a(l))}},"626a":function(r,i,s){var o=s("2d95");r.exports=Object("z").propertyIsEnumerable(0)?Object:function(a){return o(a)=="String"?a.split(""):Object(a)}},6762:function(r,i,s){var o=s("5ca1"),a=s("c366")(!0);o(o.P,"Array",{includes:function(c){return a(this,c,arguments.length>1?arguments[1]:void 0)}}),s("9c6c")("includes")},6821:function(r,i,s){var o=s("626a"),a=s("be13");r.exports=function(l){return o(a(l))}},"69a8":function(r,i){var s={}.hasOwnProperty;r.exports=function(o,a){return s.call(o,a)}},"6a99":function(r,i,s){var o=s("d3f4");r.exports=function(a,l){if(!o(a))return a;var c,u;if(l&&typeof(c=a.toString)=="function"&&!o(u=c.call(a))||typeof(c=a.valueOf)=="function"&&!o(u=c.call(a))||!l&&typeof(c=a.toString)=="function"&&!o(u=c.call(a)))return u;throw TypeError("Can't convert object to primitive value")}},7333:function(r,i,s){var o=s("0d58"),a=s("2621"),l=s("52a7"),c=s("4bf8"),u=s("626a"),f=Object.assign;r.exports=!f||s("79e5")(function(){var d={},p={},h=Symbol(),m="abcdefghijklmnopqrst";return d[h]=7,m.split("").forEach(function(g){p[g]=g}),f({},d)[h]!=7||Object.keys(f({},p)).join("")!=m})?function(p,h){for(var m=c(p),g=arguments.length,v=1,x=a.f,k=l.f;g>v;)for(var T=u(arguments[v++]),P=x?o(T).concat(x(T)):o(T),D=P.length,H=0,L;D>H;)k.call(T,L=P[H++])&&(m[L]=T[L]);return m}:f},7726:function(r,i){var s=r.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=s)},"77f1":function(r,i,s){var o=s("4588"),a=Math.max,l=Math.min;r.exports=function(c,u){return c=o(c),c<0?a(c+u,0):l(c,u)}},"79e5":function(r,i){r.exports=function(s){try{return!!s()}catch{return!0}}},"7f20":function(r,i,s){var o=s("86cc").f,a=s("69a8"),l=s("2b4c")("toStringTag");r.exports=function(c,u,f){c&&!a(c=f?c:c.prototype,l)&&o(c,l,{configurable:!0,value:u})}},8378:function(r,i){var s=r.exports={version:"2.6.5"};typeof __e=="number"&&(__e=s)},"84f2":function(r,i){r.exports={}},"86cc":function(r,i,s){var o=s("cb7c"),a=s("c69a"),l=s("6a99"),c=Object.defineProperty;i.f=s("9e1e")?Object.defineProperty:function(f,d,p){if(o(f),d=l(d,!0),o(p),a)try{return c(f,d,p)}catch{}if("get"in p||"set"in p)throw TypeError("Accessors not supported!");return"value"in p&&(f[d]=p.value),f}},"9b43":function(r,i,s){var o=s("d8e8");r.exports=function(a,l,c){if(o(a),l===void 0)return a;switch(c){case 1:return function(u){return a.call(l,u)};case 2:return function(u,f){return a.call(l,u,f)};case 3:return function(u,f,d){return a.call(l,u,f,d)}}return function(){return a.apply(l,arguments)}}},"9c6c":function(r,i,s){var o=s("2b4c")("unscopables"),a=Array.prototype;a[o]==null&&s("32e9")(a,o,{}),r.exports=function(l){a[o][l]=!0}},"9def":function(r,i,s){var o=s("4588"),a=Math.min;r.exports=function(l){return l>0?a(o(l),9007199254740991):0}},"9e1e":function(r,i,s){r.exports=!s("79e5")(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},a352:function(r,i){r.exports=n},a481:function(r,i,s){var o=s("cb7c"),a=s("4bf8"),l=s("9def"),c=s("4588"),u=s("0390"),f=s("5f1b"),d=Math.max,p=Math.min,h=Math.floor,m=/\$([$&`']|\d\d?|<[^>]*>)/g,g=/\$([$&`']|\d\d?)/g,v=function(x){return x===void 0?x:String(x)};s("214f")("replace",2,function(x,k,T,P){return[function(L,M){var z=x(this),Q=L==null?void 0:L[k];return Q!==void 0?Q.call(L,z,M):T.call(String(z),L,M)},function(H,L){var M=P(T,H,this,L);if(M.done)return M.value;var z=o(H),Q=String(this),b=typeof L=="function";b||(L=String(L));var _=z.global;if(_){var O=z.unicode;z.lastIndex=0}for(var I=[];;){var R=f(z,Q);if(R===null||(I.push(R),!_))break;var U=String(R[0]);U===""&&(z.lastIndex=u(Q,l(z.lastIndex),O))}for(var q="",J=0,Y=0;Y<I.length;Y++){R=I[Y];for(var S=String(R[0]),w=d(p(c(R.index),Q.length),0),y=[],E=1;E<R.length;E++)y.push(v(R[E]));var N=R.groups;if(b){var j=[S].concat(y,w,Q);N!==void 0&&j.push(N);var X=String(L.apply(void 0,j))}else X=D(S,Q,w,y,N,L);w>=J&&(q+=Q.slice(J,w)+X,J=w+S.length)}return q+Q.slice(J)}];function D(H,L,M,z,Q,b){var _=M+H.length,O=z.length,I=g;return Q!==void 0&&(Q=a(Q),I=m),T.call(b,I,function(R,U){var q;switch(U.charAt(0)){case"$":return"$";case"&":return H;case"`":return L.slice(0,M);case"'":return L.slice(_);case"<":q=Q[U.slice(1,-1)];break;default:var J=+U;if(J===0)return R;if(J>O){var Y=h(J/10);return Y===0?R:Y<=O?z[Y-1]===void 0?U.charAt(1):z[Y-1]+U.charAt(1):R}q=z[J-1]}return q===void 0?"":q})}})},aae3:function(r,i,s){var o=s("d3f4"),a=s("2d95"),l=s("2b4c")("match");r.exports=function(c){var u;return o(c)&&((u=c[l])!==void 0?!!u:a(c)=="RegExp")}},ac6a:function(r,i,s){for(var o=s("cadf"),a=s("0d58"),l=s("2aba"),c=s("7726"),u=s("32e9"),f=s("84f2"),d=s("2b4c"),p=d("iterator"),h=d("toStringTag"),m=f.Array,g={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},v=a(g),x=0;x<v.length;x++){var k=v[x],T=g[k],P=c[k],D=P&&P.prototype,H;if(D&&(D[p]||u(D,p,m),D[h]||u(D,h,k),f[k]=m,T))for(H in o)D[H]||l(D,H,o[H],!0)}},b0c5:function(r,i,s){var o=s("520a");s("5ca1")({target:"RegExp",proto:!0,forced:o!==/./.exec},{exec:o})},be13:function(r,i){r.exports=function(s){if(s==null)throw TypeError("Can't call method on  "+s);return s}},c366:function(r,i,s){var o=s("6821"),a=s("9def"),l=s("77f1");r.exports=function(c){return function(u,f,d){var p=o(u),h=a(p.length),m=l(d,h),g;if(c&&f!=f){for(;h>m;)if(g=p[m++],g!=g)return!0}else for(;h>m;m++)if((c||m in p)&&p[m]===f)return c||m||0;return!c&&-1}}},c649:function(r,i,s){(function(o){s.d(i,"c",function(){return p}),s.d(i,"a",function(){return f}),s.d(i,"b",function(){return l}),s.d(i,"d",function(){return d}),s("a481");function a(){return typeof window<"u"?window.console:o.console}var l=a();function c(h){var m=Object.create(null);return function(v){var x=m[v];return x||(m[v]=h(v))}}var u=/-(\w)/g,f=c(function(h){return h.replace(u,function(m,g){return g?g.toUpperCase():""})});function d(h){h.parentElement!==null&&h.parentElement.removeChild(h)}function p(h,m,g){var v=g===0?h.children[0]:h.children[g-1].nextSibling;h.insertBefore(m,v)}}).call(this,s("c8ba"))},c69a:function(r,i,s){r.exports=!s("9e1e")&&!s("79e5")(function(){return Object.defineProperty(s("230e")("div"),"a",{get:function(){return 7}}).a!=7})},c8ba:function(r,i){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch{typeof window=="object"&&(s=window)}r.exports=s},ca5a:function(r,i){var s=0,o=Math.random();r.exports=function(a){return"Symbol(".concat(a===void 0?"":a,")_",(++s+o).toString(36))}},cadf:function(r,i,s){var o=s("9c6c"),a=s("d53b"),l=s("84f2"),c=s("6821");r.exports=s("01f9")(Array,"Array",function(u,f){this._t=c(u),this._i=0,this._k=f},function(){var u=this._t,f=this._k,d=this._i++;return!u||d>=u.length?(this._t=void 0,a(1)):f=="keys"?a(0,d):f=="values"?a(0,u[d]):a(0,[d,u[d]])},"values"),l.Arguments=l.Array,o("keys"),o("values"),o("entries")},cb7c:function(r,i,s){var o=s("d3f4");r.exports=function(a){if(!o(a))throw TypeError(a+" is not an object!");return a}},ce10:function(r,i,s){var o=s("69a8"),a=s("6821"),l=s("c366")(!1),c=s("613b")("IE_PROTO");r.exports=function(u,f){var d=a(u),p=0,h=[],m;for(m in d)m!=c&&o(d,m)&&h.push(m);for(;f.length>p;)o(d,m=f[p++])&&(~l(h,m)||h.push(m));return h}},d2c8:function(r,i,s){var o=s("aae3"),a=s("be13");r.exports=function(l,c,u){if(o(c))throw TypeError("String#"+u+" doesn't accept regex!");return String(a(l))}},d3f4:function(r,i){r.exports=function(s){return typeof s=="object"?s!==null:typeof s=="function"}},d53b:function(r,i){r.exports=function(s,o){return{value:o,done:!!s}}},d8e8:function(r,i){r.exports=function(s){if(typeof s!="function")throw TypeError(s+" is not a function!");return s}},e11e:function(r,i){r.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},f559:function(r,i,s){var o=s("5ca1"),a=s("9def"),l=s("d2c8"),c="startsWith",u=""[c];o(o.P+o.F*s("5147")(c),"String",{startsWith:function(d){var p=l(this,d,c),h=a(Math.min(arguments.length>1?arguments[1]:void 0,p.length)),m=String(d);return u?u.call(p,m,h):p.slice(h,h+m.length)===m}})},f6fd:function(r,i){(function(s){var o="currentScript",a=s.getElementsByTagName("script");o in s||Object.defineProperty(s,o,{get:function(){try{throw new Error}catch(u){var l,c=(/.*at [^\(]*\((.*):.+:.+\)$/ig.exec(u.stack)||[!1])[1];for(l in a)if(a[l].src==c||a[l].readyState=="interactive")return a[l];return null}}})})(document)},f751:function(r,i,s){var o=s("5ca1");o(o.S+o.F,"Object",{assign:s("7333")})},fa5b:function(r,i,s){r.exports=s("5537")("native-function-to-string",Function.toString)},fab2:function(r,i,s){var o=s("7726").document;r.exports=o&&o.documentElement},fb15:function(r,i,s){if(s.r(i),typeof window<"u"){s("f6fd");var o;(o=window.document.currentScript)&&(o=o.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(s.p=o[1])}s("f751"),s("f559"),s("ac6a"),s("cadf"),s("456d");function a(S){if(Array.isArray(S))return S}function l(S,w){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(S)))){var y=[],E=!0,N=!1,j=void 0;try{for(var X=S[Symbol.iterator](),de;!(E=(de=X.next()).done)&&(y.push(de.value),!(w&&y.length===w));E=!0);}catch(we){N=!0,j=we}finally{try{!E&&X.return!=null&&X.return()}finally{if(N)throw j}}return y}}function c(S,w){(w==null||w>S.length)&&(w=S.length);for(var y=0,E=new Array(w);y<w;y++)E[y]=S[y];return E}function u(S,w){if(S){if(typeof S=="string")return c(S,w);var y=Object.prototype.toString.call(S).slice(8,-1);if(y==="Object"&&S.constructor&&(y=S.constructor.name),y==="Map"||y==="Set")return Array.from(S);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return c(S,w)}}function f(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d(S,w){return a(S)||l(S,w)||u(S,w)||f()}s("6762"),s("2fdb");function p(S){if(Array.isArray(S))return c(S)}function h(S){if(typeof Symbol<"u"&&Symbol.iterator in Object(S))return Array.from(S)}function m(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g(S){return p(S)||h(S)||u(S)||m()}var v=s("a352"),x=s.n(v),k=s("c649");function T(S,w,y){return y===void 0||(S=S||{},S[w]=y),S}function P(S,w){return S.map(function(y){return y.elm}).indexOf(w)}function D(S,w,y,E){if(!S)return[];var N=S.map(function(de){return de.elm}),j=w.length-E,X=g(w).map(function(de,we){return we>=j?N.length:N.indexOf(de)});return y?X.filter(function(de){return de!==-1}):X}function H(S,w){var y=this;this.$nextTick(function(){return y.$emit(S.toLowerCase(),w)})}function L(S){var w=this;return function(y){w.realList!==null&&w["onDrag"+S](y),H.call(w,S,y)}}function M(S){return["transition-group","TransitionGroup"].includes(S)}function z(S){if(!S||S.length!==1)return!1;var w=d(S,1),y=w[0].componentOptions;return y?M(y.tag):!1}function Q(S,w,y){return S[y]||(w[y]?w[y]():void 0)}function b(S,w,y){var E=0,N=0,j=Q(w,y,"header");j&&(E=j.length,S=S?[].concat(g(j),g(S)):g(j));var X=Q(w,y,"footer");return X&&(N=X.length,S=S?[].concat(g(S),g(X)):g(X)),{children:S,headerOffset:E,footerOffset:N}}function _(S,w){var y=null,E=function(ct,Dt){y=T(y,ct,Dt)},N=Object.keys(S).filter(function(we){return we==="id"||we.startsWith("data-")}).reduce(function(we,ct){return we[ct]=S[ct],we},{});if(E("attrs",N),!w)return y;var j=w.on,X=w.props,de=w.attrs;return E("on",j),E("props",X),Object.assign(y.attrs,de),y}var O=["Start","Add","Remove","Update","End"],I=["Choose","Unchoose","Sort","Filter","Clone"],R=["Move"].concat(O,I).map(function(S){return"on"+S}),U=null,q={options:Object,list:{type:Array,required:!1,default:null},value:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:function(w){return w}},element:{type:String,default:"div"},tag:{type:String,default:null},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},J={name:"draggable",inheritAttrs:!1,props:q,data:function(){return{transitionMode:!1,noneFunctionalComponentMode:!1}},render:function(w){var y=this.$slots.default;this.transitionMode=z(y);var E=b(y,this.$slots,this.$scopedSlots),N=E.children,j=E.headerOffset,X=E.footerOffset;this.headerOffset=j,this.footerOffset=X;var de=_(this.$attrs,this.componentData);return w(this.getTag(),de,N)},created:function(){this.list!==null&&this.value!==null&&k.b.error("Value and list props are mutually exclusive! Please set one or another."),this.element!=="div"&&k.b.warn("Element props is deprecated please use tag props instead. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#element-props"),this.options!==void 0&&k.b.warn("Options props is deprecated, add sortable options directly as vue.draggable item, or use v-bind. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#options-props")},mounted:function(){var w=this;if(this.noneFunctionalComponentMode=this.getTag().toLowerCase()!==this.$el.nodeName.toLowerCase()&&!this.getIsFunctional(),this.noneFunctionalComponentMode&&this.transitionMode)throw new Error("Transition-group inside component is not supported. Please alter tag value or remove transition-group. Current tag value: ".concat(this.getTag()));var y={};O.forEach(function(j){y["on"+j]=L.call(w,j)}),I.forEach(function(j){y["on"+j]=H.bind(w,j)});var E=Object.keys(this.$attrs).reduce(function(j,X){return j[Object(k.a)(X)]=w.$attrs[X],j},{}),N=Object.assign({},this.options,E,y,{onMove:function(X,de){return w.onDragMove(X,de)}});!("draggable"in N)&&(N.draggable=">*"),this._sortable=new x.a(this.rootContainer,N),this.computeIndexes()},beforeDestroy:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{rootContainer:function(){return this.transitionMode?this.$el.children[0]:this.$el},realList:function(){return this.list?this.list:this.value}},watch:{options:{handler:function(w){this.updateOptions(w)},deep:!0},$attrs:{handler:function(w){this.updateOptions(w)},deep:!0},realList:function(){this.computeIndexes()}},methods:{getIsFunctional:function(){var w=this._vnode.fnOptions;return w&&w.functional},getTag:function(){return this.tag||this.element},updateOptions:function(w){for(var y in w){var E=Object(k.a)(y);R.indexOf(E)===-1&&this._sortable.option(E,w[y])}},getChildrenNodes:function(){if(this.noneFunctionalComponentMode)return this.$children[0].$slots.default;var w=this.$slots.default;return this.transitionMode?w[0].child.$slots.default:w},computeIndexes:function(){var w=this;this.$nextTick(function(){w.visibleIndexes=D(w.getChildrenNodes(),w.rootContainer.children,w.transitionMode,w.footerOffset)})},getUnderlyingVm:function(w){var y=P(this.getChildrenNodes()||[],w);if(y===-1)return null;var E=this.realList[y];return{index:y,element:E}},getUnderlyingPotencialDraggableComponent:function(w){var y=w.__vue__;return!y||!y.$options||!M(y.$options._componentTag)?!("realList"in y)&&y.$children.length===1&&"realList"in y.$children[0]?y.$children[0]:y:y.$parent},emitChanges:function(w){var y=this;this.$nextTick(function(){y.$emit("change",w)})},alterList:function(w){if(this.list){w(this.list);return}var y=g(this.value);w(y),this.$emit("input",y)},spliceList:function(){var w=arguments,y=function(N){return N.splice.apply(N,g(w))};this.alterList(y)},updatePosition:function(w,y){var E=function(j){return j.splice(y,0,j.splice(w,1)[0])};this.alterList(E)},getRelatedContextFromMoveEvent:function(w){var y=w.to,E=w.related,N=this.getUnderlyingPotencialDraggableComponent(y);if(!N)return{component:N};var j=N.realList,X={list:j,component:N};if(y!==E&&j&&N.getUnderlyingVm){var de=N.getUnderlyingVm(E);if(de)return Object.assign(de,X)}return X},getVmIndex:function(w){var y=this.visibleIndexes,E=y.length;return w>E-1?E:y[w]},getComponent:function(){return this.$slots.default[0].componentInstance},resetTransitionData:function(w){if(!(!this.noTransitionOnDrag||!this.transitionMode)){var y=this.getChildrenNodes();y[w].data=null;var E=this.getComponent();E.children=[],E.kept=void 0}},onDragStart:function(w){this.context=this.getUnderlyingVm(w.item),w.item._underlying_vm_=this.clone(this.context.element),U=w.item},onDragAdd:function(w){var y=w.item._underlying_vm_;if(y!==void 0){Object(k.d)(w.item);var E=this.getVmIndex(w.newIndex);this.spliceList(E,0,y),this.computeIndexes();var N={element:y,newIndex:E};this.emitChanges({added:N})}},onDragRemove:function(w){if(Object(k.c)(this.rootContainer,w.item,w.oldIndex),w.pullMode==="clone"){Object(k.d)(w.clone);return}var y=this.context.index;this.spliceList(y,1);var E={element:this.context.element,oldIndex:y};this.resetTransitionData(y),this.emitChanges({removed:E})},onDragUpdate:function(w){Object(k.d)(w.item),Object(k.c)(w.from,w.item,w.oldIndex);var y=this.context.index,E=this.getVmIndex(w.newIndex);this.updatePosition(y,E);var N={element:this.context.element,oldIndex:y,newIndex:E};this.emitChanges({moved:N})},updateProperty:function(w,y){w.hasOwnProperty(y)&&(w[y]+=this.headerOffset)},computeFutureIndex:function(w,y){if(!w.element)return 0;var E=g(y.to.children).filter(function(de){return de.style.display!=="none"}),N=E.indexOf(y.related),j=w.component.getVmIndex(N),X=E.indexOf(U)!==-1;return X||!y.willInsertAfter?j:j+1},onDragMove:function(w,y){var E=this.move;if(!E||!this.realList)return!0;var N=this.getRelatedContextFromMoveEvent(w),j=this.context,X=this.computeFutureIndex(N,w);Object.assign(j,{futureIndex:X});var de=Object.assign({},w,{relatedContext:N,draggedContext:j});return E(de,y)},onDragEnd:function(){this.computeIndexes(),U=null}}};typeof window<"u"&&"Vue"in window&&window.Vue.component("draggable",J);var Y=J;i.default=Y}}).default})})(xb);var iP=xb.exports;const Nb=cd(iP),sP={name:"SectionBlockListItem",props:{sectionBlock:{type:Object,required:!0},index:{type:Number,required:!0}},data(){return{imageLoaded:!1}},computed:{isList(){return this.currentSectionDefinition.blocksPresentation!=="tree"},presentation(){const t=this.$store.getters.sectionBlockLabel(this.sectionBlock,this.index+1);return{label:t[0],image:t[1]}},label(){return this.presentation.label},image(){return this.presentation.image}},methods:{...ot(["removeSectionBlock"])}};var oP=function(){var e=this,n=e._self._c;return n("div",{staticClass:"bg-gray-100 rounded-md px-4 py-3 flex items-center justify-between text-gray-800",class:{"cursor-move":e.isList}},[n("router-link",{staticClass:"flex items-center",attrs:{to:{name:"editSectionBlock",params:{sectionBlockId:e.sectionBlock.id}}}},[e.image?n("div",{staticClass:"h-8 w-8 bg-gray-400 mr-3"},[n("img",{staticClass:"object-cover w-full h-full",class:{hidden:!e.imageLoaded},attrs:{src:e.image},on:{load:()=>e.imageLoaded=!0}})]):e._e(),n("span",[e._v(e._s(e._f("truncate")(e.label,40)))])]),n("div",{staticClass:"flex items-center"},[e._t("actions"),n("uikit-confirmation-button",e._g({on:{confirm:function(r){return e.removeSectionBlock(e.sectionBlock.id)}}},e.$listeners),[n("uikit-list-item-button",{attrs:{iconName:"ri-close-line"}})],1)],2)],1)},aP=[],lP=A(sP,oP,aP,!1,null,null);const Db=lP.exports,cP={name:"NewSectionBlockButton",computed:{hasTypes(){return this.blockTypes.length>0},hasMultipleTypes(){return this.blockTypes.length>1},blockTypes(){return this.currentSectionDefinition.blocksPresentation==="tree"?this.services.block.filterRoot(this.currentSectionDefinition.blocks,this.currentSectionBlocks):this.currentSectionDefinition.blocks}},methods:{...ot(["addSectionBlock"]),addSectionBlockAndClose(t){this.addSectionBlock({blockType:t}),this.$refs.dropdown.close()}}};var uP=function(){var e=this,n=e._self._c;return e.hasTypes?n("div",{staticClass:"w-full button-wrapper"},[e.hasMultipleTypes?n("uikit-dropdown",e._g({ref:"dropdown",attrs:{placement:"top"},scopedSlots:e._u([{key:"button",fn:function(){return[n("button",{staticClass:"big-submit-button bg-editor-primary"},[n("uikit-icon",{attrs:{name:"ri-add-line",size:"1.5rem"}}),n("span",{staticClass:"ml-3"},[e._v(e._s(e.$t("sectionPane.blockList.add")))])],1)]},proxy:!0},{key:"content",fn:function(){return[n("div",{staticClass:"w-full flex flex-col"},e._l(e.blockTypes,function(r){return n("button",{key:r.type,staticClass:"mb-2 text-base text-gray-900 py-2 px-14 hover:bg-gray-100 transition-colors",on:{click:function(i){return e.addSectionBlockAndClose(r.type)}}},[e._v(" "+e._s(r.name)+" ")])}),0)]},proxy:!0}],null,!1,232980020)},e.$listeners)):n("button",{staticClass:"big-submit-button bg-editor-primary",on:{click:e.addSectionBlock}},[n("uikit-icon",{attrs:{name:"ri-add-line",size:"1.5rem"}}),n("span",{staticClass:"ml-3"},[e._v(e._s(e.$t("sectionPane.blockList.add")))])],1)],1):e._e()},fP=[],dP=A(cP,uP,fP,!1,null,"47db768c");const Rb=dP.exports,pP={name:"SectionBlockList",mixins:[Hl],components:{draggable:Nb,ListItem:Db,NewBlockButton:Rb},computed:{list:{get(){return this.currentSectionBlocks},set(t){this.sortSectionBlocks(t)}},dragOptions(){return{animation:0,group:"description",disabled:!1,ghostClass:"ghost"}}},methods:{...ot(["sortSectionBlocks"])}};var hP=function(){var e=this,n=e._self._c;return n("div",{staticClass:"flex flex-col h-full"},[n("div",{staticClass:"relative flex-auto h-0 overflow-y-auto pt-2"},[n("draggable",e._b({model:{value:e.list,callback:function(r){e.list=r},expression:"list"}},"draggable",e.dragOptions,!1),[n("transition-group",{attrs:{type:"transition",name:"flip-list"}},e._l(e.currentSectionBlocks,function(r,i){return n("list-item",{key:r.id,staticClass:"mb-4",attrs:{sectionBlock:r,index:i},on:{"on-dropdown-toggle":e.onDropdownToggle}})}),1)],1)],1),n("div",{staticClass:"mt-auto relative"},[n("new-block-button",{on:{"on-dropdown-toggle":e.onDropdownToggle}})],1)])},mP=[],gP=A(pP,hP,mP,!1,null,"f77b006d");const vP=gP.exports,yP={name:"NewNestedSectionBlockButton",props:{parentId:{type:String,required:!0},accept:{type:Array,required:!0}},computed:{hasMultipleTypes(){return this.blockTypes.length>1},blockTypes(){return this.currentSectionDefinition.blocks.filter(t=>this.accept.indexOf(t.type)!==-1)}},methods:{...ot(["addSectionBlock"]),addNestedSectionBlock(){this.addSectionBlock({blockType:this.blockTypes[0].type,parentId:this.parentId})},addNestedSectionBlockAndClose(t){this.addSectionBlock({blockType:t,parentId:this.parentId}),this.$refs.dropdown.close()}}};var bP=function(){var e=this,n=e._self._c;return n("div",{staticClass:"w-full"},[e.hasMultipleTypes?n("uikit-dropdown",e._g({ref:"dropdown",attrs:{placement:"left",fullWidth:!0},scopedSlots:e._u([{key:"button",fn:function(){return[n("uikit-list-item-button",{attrs:{iconName:"ri-add-line"}})]},proxy:!0},{key:"content",fn:function(){return[n("div",{staticClass:"w-full flex flex-col"},e._l(e.blockTypes,function(r){return n("button",{key:r.type,staticClass:"mb-2 text-base text-gray-900 py-2 px-4 hover:bg-gray-100 transition-colors",on:{click:function(i){return e.addNestedSectionBlockAndClose(r.type)}}},[e._v(" "+e._s(r.name)+" ")])}),0)]},proxy:!0}],null,!1,1496348757)},e.$listeners)):n("uikit-list-item-button",{attrs:{iconName:"ri-add-line"},nativeOn:{click:function(r){return e.addNestedSectionBlock.apply(null,arguments)}}})],1)},_P=[],wP=A(yP,bP,_P,!1,null,null);const xP=wP.exports,SP={name:"BlockTreeNode",components:{ListItem:Db,NewNestedBlockButton:xP},props:{treeNode:{type:Object,required:!0},siblings:{type:Array},depth:{type:Number,required:!0},index:{type:Number,required:!0},last:{type:Boolean,required:!1,default:!1}},computed:{children(){return this.treeNode.children},hasChildren(){var t;return((t=this.children)==null?void 0:t.length)>0},sectionBlockDefinition(){return this.currentSectionDefinition.blocks.find(t=>t.type===this.treeNode.sectionBlock.type)},acceptedNestedSectionBlocks(){var t;return(t=this.sectionBlockDefinition)==null?void 0:t.accept},canAdd(){var t;return((t=this.acceptedNestedSectionBlocks)==null?void 0:t.length)>0},marginLeft(){return`${this.depth*1.25}rem`}},methods:{moveSectionBlockUp(){this.swapSectionBlockWith(this.index-1)},moveSectionBlockDown(){this.swapSectionBlockWith(this.index+1)},swapSectionBlockWith(t){[this.siblings[this.index],this.siblings[t]]=[this.siblings[t],this.siblings[this.index]],this.$emit("change")}}};var CP=function(){var e=this,n=e._self._c;return n("div",{style:{"margin-left":e.marginLeft}},[n("list-item",e._g({attrs:{sectionBlock:e.treeNode.sectionBlock,index:e.index},scopedSlots:e._u([{key:"actions",fn:function(){return[n("div",{staticClass:"flex items-center"},[e.canAdd?n("new-nested-block-button",e._g({attrs:{parentId:e.treeNode.sectionBlock.id,accept:e.acceptedNestedSectionBlocks}},e.$listeners)):e._e(),e.index>0?n("uikit-list-item-button",{attrs:{iconName:"arrow-up-s-line"},nativeOn:{click:function(r){return e.moveSectionBlockUp.apply(null,arguments)}}}):e._e(),e.last?e._e():n("uikit-list-item-button",{attrs:{iconName:"arrow-down-s-line"},nativeOn:{click:function(r){return e.moveSectionBlockDown.apply(null,arguments)}}})],1)]},proxy:!0}])},e.$listeners)),e.hasChildren?n("div",{staticClass:"mt-3"},[n("transition-group",{attrs:{type:"transition",name:"flip-list"}},e._l(e.children,function(r,i){return n("block-tree-node",e._g({key:r.sectionBlock.id,staticClass:"mb-3",attrs:{treeNode:r,siblings:e.children,depth:e.depth+1,index:i,last:i===e.children.length-1}},e.$listeners))}),1)],1):e._e()],1)},kP=[],EP=A(SP,CP,kP,!1,null,"c289809b");const OP=EP.exports,TP={name:"SectionBlockTree",mixins:[Hl],components:{TreeNode:OP,NewBlockButton:Rb},data(){return{treeData:null}},methods:{...ot(["sortSectionBlocks"]),change(){const t=this.services.block.decodeTree(this.treeData);this.sortSectionBlocks(t)}},watch:{currentSectionBlocks:{immediate:!0,handler(){this.treeData=this.services.block.encodeToTree(this.currentSectionBlocks)}}}};var $P=function(){var e=this,n=e._self._c;return n("div",{staticClass:"flex flex-col h-full"},[n("div",{staticClass:"relative flex-auto h-0 overflow-y-auto"},[n("transition-group",{attrs:{type:"transition",name:"flip-list"}},e._l(e.treeData,function(r,i){return n("tree-node",{key:r.sectionBlock.id,staticClass:"mb-3",attrs:{treeNode:r,siblings:e.treeData,depth:0,index:i,last:i===e.treeData.length-1},on:{"on-dropdown-toggle":e.onDropdownToggle,change:e.change}})}),1)],1),n("div",{staticClass:"mt-auto relative"},[n("new-block-button",{on:{"on-dropdown-toggle":e.onDropdownToggle}})],1)])},IP=[],PP=A(TP,$P,IP,!1,null,"7606c15f");const AP=PP.exports,MP={name:"SectionPane",props:{settingId:{type:String,default:void 0}},computed:{unfilteredTabs(){return[{name:this.$t("sectionPane.tabs.settings"),tab:Oh,type:"content",condition:()=>this.hasSettings},{name:this.blocksLabel,tab:this.blocksComponent,type:"blocks",condition:()=>this.hasBlocks},{name:this.$t("sectionPane.tabs.advanced"),tab:Oh,type:"advanced",condition:()=>this.hasAdvancedSettings,props:()=>({advanced:!0})}]},tabs(){return this.unfilteredTabs.filter(t=>!t.condition||t.condition())},tabIndexFromRoute(){return this.findTabIndexFromRoute()},hasSettings(){return!this.isBlank(this.currentSectionSettings)},hasAdvancedSettings(){return!this.isBlank(this.currentSectionAdvancedSettings)},hasBlocks(){return!this.isBlank(this.currentSectionDefinition.blocks)},blocksLabel(){return this.$st(`${this.currentSectionI18nScope}.blocks.label`)||this.currentSectionDefinition.blocksLabel||this.$t("sectionPane.tabs.blocks")},blocksComponent(){return this.currentSectionDefinition.blocksPresentation==="tree"?AP:vP}},methods:{findTabIndexFromRoute(){const t=this.$route.hash.replace("#",""),e=this.tabs.findIndex(n=>n.type===t);return e===-1?0:e}},watch:{"$route.hash":{immediate:!0,handler(){this.$refs.tabs&&this.$refs.tabs.selectTab(this.findTabIndexFromRoute())}}}};var NP=function(){var e=this,n=e._self._c;return n("uikit-tabs",{ref:"tabs",staticClass:"overflow-y-hidden",attrs:{tabs:e.tabs,firstIndex:e.tabIndexFromRoute,otherProps:{sectionId:e.currentSection.id,settingId:e.settingId},navClass:"px-4",panelClass:"px-3"}})},DP=[],RP=A(MP,NP,DP,!1,null,null);const LP=RP.exports,BP={name:"SectionBlockSettingList",components:{DynamicForm:dd},props:{sectionBlockId:{type:String,default:void 0},settingId:{type:String,default:void 0},advanced:{type:Boolean,default:!1}},computed:{sectionBlockSettings(){return this.advanced?this.currentSectionBlockAdvancedSettings:this.services.section.filterSettings(this.currentSectionBlockSettings,this.currentSectionBlockContent)},i18nScope(){return`${this.currentSectionBlockI18nScope}.settings`}},methods:{...ot(["updateSectionBlockContent"]),onBlur(){this.$router.push({name:"editSectionBlock",params:{sectionBlockId:this.sectionBlockId}}).catch(t=>{if(t.name!=="NavigationDuplicated")throw t})}}};var FP=function(){var e=this,n=e._self._c;return n("dynamic-form",{staticClass:"mt-2",attrs:{parentKey:e.currentSectionBlock.id,settings:e.sectionBlockSettings,content:e.currentSectionBlockContent,focusedSetting:e.settingId,i18nScope:e.i18nScope},on:{blur:e.onBlur,change:e.updateSectionBlockContent}})},jP=[],zP=A(BP,FP,jP,!1,null,null);const Bh=zP.exports,VP={name:"SectionBlockPane",props:{settingId:{type:String,default:void 0}},computed:{unfilteredTabs(){return[{name:this.$t("sectionBlockPane.tabs.settings"),tab:Bh,type:"content",condition:()=>this.hasSettings},{name:this.$t("sectionBlockPane.tabs.advanced"),tab:Bh,type:"advanced",condition:()=>this.hasAdvancedSettings,props:()=>({advanced:!0})}]},tabs(){return this.unfilteredTabs.filter(t=>!t.condition||t.condition())},tabIndexFromRoute(){return this.findTabIndexFromRoute()},hasSettings(){return!this.isBlank(this.currentSectionBlockSettings)},hasAdvancedSettings(){return!this.isBlank(this.currentSectionBlockAdvancedSettings)}},methods:{findTabIndexFromRoute(){const t=this.$route.hash.replace("#",""),e=this.tabs.findIndex(n=>n.type===t);return e===-1?0:e}},watch:{"$route.hash":{immediate:!0,handler(){this.$refs.tabs&&this.$refs.tabs.selectTab(this.findTabIndexFromRoute())}}}};var HP=function(){var e=this,n=e._self._c;return n("uikit-tabs",{ref:"tabs",attrs:{tabs:e.tabs,firstIndex:e.tabIndexFromRoute,otherProps:{sectionBlockId:e.currentSectionBlock.id,settingId:e.settingId},sharedClass:"px-4"}})},UP=[],WP=A(VP,HP,UP,!1,null,null);const KP=WP.exports,GP={name:"ContentPane",components:{Layout:gr,SectionPane:LP,SectionBlockPane:KP},props:{sectionId:{type:String,default:void 0},sectionBlockId:{type:String,default:void 0},settingId:{type:String,default:void 0}},computed:{title(){return this.isSectionReady?this.sectionTitle:this.isSectionBlockReady?this.sectionBlockTitle:null},sectionTitle(){var t;return this.$st(`${this.currentSectionI18nScope}.name`)||((t=this.currentSectionDefinition)==null?void 0:t.name)},sectionBlockTitle(){var t;return this.$st(`${this.currentSectionI18nScope}.blocks.label`)||((t=this.currentSectionBlockDefinition)==null?void 0:t.name)+` #${this.currentSectionBlockIndex}`},isSectionReady(){return this.sectionId&&this.currentSection},isSectionBlockVersion(){return!!this.sectionBlockId},isSectionBlockReady(){return this.isSectionBlockVersion&&this.currentSectionBlock},isMaxWidthPane(){var t;return!!((t=this.currentSectionDefinition)!=null&&t.maxWidthPane)},reactiveKey(){return[!!this.currentPage,!!this.previewReady,this.$route.path].join("-")}},destroyed(){this.fetchSection(null)},methods:{async fetch(){this.sectionBlockId?await this.fetchSectionBlock(this.sectionBlockId):this.sectionId&&await this.fetchSection(this.sectionId),!this.currentSection&&!this.currentSectionBlock&&this.$router.push({name:"editPage"})}},watch:{reactiveKey:{immediate:!0,handler(){!this.currentPage||!this.previewReady||this.fetch()}}}};var qP=function(){var e=this,n=e._self._c;return n("layout",{attrs:{title:e.title,overflowY:!1,"max-width-pane":e.isMaxWidthPane,"with-pre-title":e.isSectionBlockVersion},scopedSlots:e._u([e.isSectionBlockReady?{key:"pre-title",fn:function(){return[n("p",{staticClass:"text-gray-600 hover:text-gray-900"},[n("router-link",{staticClass:"flex items-center",attrs:{to:{name:"editSection",params:{sectionId:e.currentSection.id},hash:"#blocks"}}},[n("uikit-icon",{attrs:{name:"arrow-drop-left"}}),n("span",{staticClass:"text-xs"},[e._v(e._s(e.sectionTitle))])],1)],1)]},proxy:!0}:null],null,!0)},[e.isSectionReady?n("section-pane",{attrs:{settingId:e.settingId}}):e._e(),e.isSectionBlockReady?n("section-block-pane",{attrs:{settingId:e.settingId}}):e._e(),!e.isSectionReady&&!e.isSectionBlockReady?n("div",{staticClass:"mt-4 mx-4 text-lg rounded h-64 bg-gray-200 animate-pulse"},[e._v("  ")]):e._e()],1)},JP=[],YP=A(GP,qP,JP,!1,null,null);const Qa=YP.exports,XP={name:"ThemeSectionListItem",props:{section:{type:Object,required:!0,default:null},insertAfter:{type:String}},data(){return{hovered:!1,isImageLoaded:!1,isImageNotFound:!1}},computed:{hasScreenshot(){return this.section.screenshotPath},canBeAdded(){return this.services.section.canBeAddedToPage(this.section,this.currentSectionList)}},methods:{...ot(["addSection"]),select(){this.canBeAdded&&this.addSection({sectionDefinition:this.section,insertAt:this.insertAfter}).then(()=>{this.$router.push({name:"editPage"})})},imageLoaded(){this.isImageLoaded=!0},imageNotFound(t){console.log("imageNotFound",this.section.name,t),this.isImageNotFound=!0}}};var ZP=function(){var e=this,n=e._self._c;return n("div",{staticClass:"relative mb-6 w-full transition duration-150 ease-in-out transform hover:-translate-y-1 border border-gray-200",class:{"cursor-pointer":e.canBeAdded,"cursor-not-allowed":!e.canBeAdded},on:{click:e.select}},[e.hasScreenshot?n("img",{staticClass:"w-full",class:{hidden:!e.isImageLoaded||e.isImageNotFound},attrs:{src:e.section.screenshotPath},on:{load:e.imageLoaded,error:e.imageNotFound}}):e._e(),!e.isImageLoaded&&!e.isImageNotFound?n("div",{staticClass:"bg-gray-200 w-full h-16 animate-pulse"},[e._v("  ")]):e._e(),e.isImageNotFound?n("div",{staticClass:"bg-white w-full h-16 flex items-center justify-center"},[n("uikit-icon",{attrs:{name:"ri-bug-line"}})],1):e._e(),n("div",{staticClass:"flex items-center px-2 bg-editor-primary bg-opacity-5 py-4 w-full font-bold text-sm"},[n("p",{staticClass:"capitalize-first"},[e._v(e._s(e.section.name))])])])},QP=[],eA=A(XP,ZP,QP,!1,null,"1d90c91f");const tA=eA.exports,nA={name:"ThemeSectionList",components:{ListItem:tA},props:{insertAfter:{type:String}},data(){return{activeCategory:null}},computed:{categories(){return this.services.theme.buildCategories(this.currentTheme)}}};var rA=function(){var e=this,n=e._self._c;return n("div",e._l(e.categories,function(r,i){return n("uikit-accordion",{key:i,attrs:{headerClass:"px-3 py-3 mb-3 bg-editor-primary text-white rounded-sm"}},[n("div",{staticClass:"flex items-center",attrs:{slot:"header"},slot:"header"},[n("div",{staticClass:"capitalize-first"},[e._v(e._s(r.name))]),n("div",{staticClass:"ml-2 px-3 bg-white bg-opacity-25 text-xs rounded-full"},[e._v(" "+e._s(r.children.length)+" ")])]),n("div",{staticClass:"pt-1"},[e._l(r.children,function(s){return n("list-item",{key:s.id,attrs:{section:s,insertAfter:e.insertAfter}})}),r.children.length===0?n("div",{staticClass:"text-center pt-2 pb-6"},[e._v(" "+e._s(e.$t("themeSectionList.emptyCategory"))+" ")]):e._e()],2)])}),1)},iA=[],sA=A(nA,rA,iA,!1,null,null);const oA=sA.exports,aA={name:"SectionListPane",components:{Layout:gr,ThemeSectionList:oA},props:{sectionId:{type:String}}};var lA=function(){var e=this,n=e._self._c;return n("layout",{attrs:{title:e.$t("sections.addPane.title")}},[e.previewReady?n("theme-section-list",{attrs:{insertAfter:e.sectionId}}):n("div",{staticClass:"h-full w-full animate-pulse"},[n("div",{staticClass:"w-full bg-gray-200 rounded h-12 mb-3"}),n("div",{staticClass:"w-full bg-gray-200 rounded h-12 mb-3"}),n("div",{staticClass:"w-full bg-gray-200 rounded h-12 mb-3"})])],1)},cA=[],uA=A(aA,lA,cA,!1,null,null);const Fh=uA.exports,fA={name:"SectionListItem",props:{section:{type:Object,required:!0}},computed:{name(){return this.$st(`${this.currentI18nScope}.sections.${this.section.type}.name`)||this.section.name}},methods:{...ot(["removeSection"])}};var dA=function(){var e=this,n=e._self._c;return n("div",{staticClass:"bg-gray-100 rounded-md px-4 py-3 flex items-center justify-between text-gray-800 cursor-move"},[n("router-link",{staticClass:"flex items-center",attrs:{to:{name:"editSection",params:{sectionId:e.section.id}}}},[n("span",[e._v(e._s(e._f("truncate")(e.name,40)))])]),n("uikit-confirmation-button",e._g({on:{confirm:function(r){return e.removeSection(e.section.id)}}},e.$listeners),[n("button",{staticClass:"px-1 py-1 rounded-full bg-gray-600 bg-opacity-0 hover:text-gray-900 text-gray-600 focus:outline-none hover:bg-opacity-10 transition-colors duration-200"},[n("uikit-icon",{attrs:{name:"ri-close-line",size:"1.25rem"}})],1)])],1)},pA=[],hA=A(fA,dA,pA,!1,null,null);const mA=hA.exports,gA={name:"SectionList",mixins:[Hl],components:{draggable:Nb,ListItem:mA},computed:{list(){return this.currentSectionList},isListEmpty(){return this.currentSectionList.length===0},dragOptions(){return{animation:0,group:"description",disabled:!1,ghostClass:"ghost"}}},methods:{...ot(["moveSection"]),onSortEnd(t){this.moveSection({from:t.oldIndex,to:t.newIndex})}}};var vA=function(){var e=this,n=e._self._c;return n("div",[e.isListEmpty?n("div",{staticClass:"text-center mt-8"},[n("span",{staticClass:"text-gray-800"},[e._v(e._s(e.$t("sections.listPane.empty")))])]):n("draggable",e._b({attrs:{list:e.list},on:{end:e.onSortEnd}},"draggable",e.dragOptions,!1),[n("transition-group",{attrs:{type:"transition",name:"flip-list"}},e._l(e.list,function(r,i){return n("list-item",{key:r.id,staticClass:"mb-3",attrs:{section:r,index:i},on:{"on-dropdown-toggle":e.onDropdownToggle}})}),1)],1)],1)},yA=[],bA=A(gA,vA,yA,!1,null,null);const _A=bA.exports,wA={name:"SectionListPane",components:{Layout:gr,SectionList:_A}};var xA=function(){var e=this,n=e._self._c;return n("layout",{attrs:{title:e.$t("sections.listPane.title")}},[e.previewReady?n("section-list"):n("div",{staticClass:"h-full w-full animate-pulse"},[n("div",{staticClass:"w-full bg-gray-200 rounded h-12 mb-3"}),n("div",{staticClass:"w-full bg-gray-200 rounded h-12 mb-3"}),n("div",{staticClass:"w-full bg-gray-200 rounded h-12 mb-3"})])],1)},SA=[],CA=A(wA,xA,SA,!1,null,null);const kA=CA.exports,EA=[{path:"add-section",name:"addSection",components:{default:$t,"slide-pane":Fh},props:{"slide-pane":!0,default:!0}},{path:"add-section/:sectionId",name:"addSectionAfter",components:{default:$t,"slide-pane":Fh},props:{"slide-pane":!0,default:!0}},{path:"sections",name:"listSections",components:{default:$t,"slide-pane":kA},props:{"slide-pane":!0,default:!0}},{path:"section/:sectionId",name:"editSection",components:{default:$t,"slide-pane":Qa},props:{"slide-pane":!0,default:!0},meta:{hidingSidebar:!0},children:[{path:"setting/:settingId",name:"editSectionSetting",components:{default:$t,"slide-pane":Qa},meta:{hidingSidebar:!0}}]}],OA=[{path:"sectionBlock/:sectionBlockId",name:"editSectionBlock",components:{default:$t,"slide-pane":Qa},props:{"slide-pane":!0,default:!0},meta:{hidingSidebar:!0},children:[{path:"setting/:settingId",name:"editSectionBlockSetting",components:{default:$t,"slide-pane":Qa},meta:{hidingSidebar:!0}}]}],TA={name:"StylePane",components:{DynamicForm:dd},data(){return{style:[]}},mounted(){this.style=this.currentStyle},computed:{styleSettings(){return this.currentTheme.styleSettings},i18nScope(){return`${this.currentStyleI18nScope}.settings`}},methods:{...ot(["previewStyle"]),onChange(t){this.style=this.style.map(e=>{const n={...e};return e.id===t.settingId&&(n.value=t.value),n}),this.previewStyle(this.style)}}};var $A=function(){var e=this,n=e._self._c;return n("div",{staticClass:"flex flex-col h-full overflow-hidden"},[n("div",{staticClass:"flex-1 overflow-y-scroll px-4"},[n("dynamic-form",{attrs:{parentKey:"style",settings:e.styleSettings,content:e.style,i18nScope:e.i18nScope},on:{change:e.onChange}})],1)])},IA=[],PA=A(TA,$A,IA,!1,null,null);const AA=PA.exports,MA={name:"SectionListPane",components:{Layout:gr,StylePane:AA}};var NA=function(){var e=this,n=e._self._c;return n("layout",{attrs:{title:e.$t("style.edit.title"),overflowY:!1}},[e.previewReady?n("style-pane",{staticClass:"pb-4"}):n("div",{staticClass:"mx-4"},[n("div",{staticClass:"h-full w-full animate-pulse"},[n("div",{staticClass:"w-full bg-gray-200 rounded h-20 mb-3"}),n("div",{staticClass:"w-full bg-gray-200 rounded h-20 mb-3"}),n("div",{staticClass:"w-full bg-gray-200 rounded h-20 mb-3"})])])],1)},DA=[],RA=A(MA,NA,DA,!1,null,null);const LA=RA.exports,BA=[{path:"style",name:"editStyle",components:{default:$t,"slide-pane":LA},props:{"slide-pane":!0,default:!0}}],FA=[{path:"/",name:"home",redirect:"/index"},{path:"/:locale/:pageId",component:Ch,children:[{path:"",name:"editPage",components:{default:$t},props:{default:!0}}]},{path:"/:locale/:pageId/_",component:Ch,children:[{path:"foo-test",name:"test",components:{default:$t,"slide-pane":w$},props:{default:!0},meta:{hidingSidebar:!0}},{path:"foo-test2",name:"test2",components:{default:$t,"slide-pane":E$},props:{default:!0}},...uI,...EA,...OA,...BA]}],jA=[].concat(FA);W.use(pb);const vd=new pb({mode:"history",base:window.baseUrl,routes:jA});vd.beforeEach((t,e,n)=>{if(t.matched.length===0)return n({name:"editPage",params:{pageId:qe.state.page.pathHash[qe.state.locale],locale:qe.state.locale}});Ak(t.params,e.params,"pageId","locale")&&qe.dispatch("editPage",{id:t.params.pageId,locale:t.params.locale}),n()});let Ru=null;const zA=(t,e,n)=>{yn("section:add",{content:t,section:e,insertAt:n})},VA=(t,e,n,r)=>{yn("section:move",{content:t,sectionId:e,targetSectionId:n,direction:r})},HA=(t,e,n)=>{yn("section:update",{content:t,section:e,change:n})},UA=t=>{yn("section:remove",{sectionId:t})},WA=(t,e,n)=>{yn("block:add",{content:t,section:e,sectionBlock:n})},KA=(t,e)=>{yn("block:move",{content:t,section:e})},GA=(t,e,n,r)=>{yn("block:update",{content:t,section:e,sectionBlock:n,change:r})},qA=(t,e,n)=>{yn("block:remove",{content:t,section:e,sectionBlockId:n})},JA=(t,e)=>{yn("style:update",{content:t,style:e})},YA=t=>{Ru=t,yn("config",{primaryColor:qe.state.editorSettings.primaryColor,stickySectionIds:qe.getters.stickySectionList.map(e=>e.id)}),XA()},XA=()=>{window.addEventListener("message",({data:{type:t,...e}})=>{if(t)switch(t){case"ready":qe.dispatch("markPreviewAsReady");break;case"scroll":ZA(e.boundingRect);break;case"section:hover":{qe.dispatch("hoverSection",{sectionId:e.sectionId,sectionRect:e.sectionRect,sectionOffsetTop:e.sectionOffsetTop});break}case"section:leave":qe.dispatch("leaveSection");break;case"section:setting:clicked":jh("editSectionSetting",e);break;case"sectionBlock:setting:clicked":jh("editSectionBlockSetting",e);break}})},yn=(t,e)=>{if(!Ru)return null;Ru.contentWindow.postMessage({type:t,...e||{}},"*")},jh=(t,e)=>{let n={name:t,params:e,hash:"#content"};vd.push(n).catch(r=>{if(r.name!=="NavigationDuplicated")throw r})},ZA=t=>{const e=new CustomEvent("maglev:preview:scroll",{detail:{boundingRect:t}});window.dispatchEvent(e)},QA=Object.freeze(Object.defineProperty({__proto__:null,addBlock:WA,addSection:zA,moveBlock:KA,moveSection:VA,removeBlock:qA,removeSection:UA,start:YA,updateBlock:GA,updateSection:HA,updateStyle:JA},Symbol.toStringTag,{value:"Module"})),ba={api:fs,site:lE(fs),theme:uE,page:Zk(fs),section:kE,block:OE,image:dE(fs),livePreview:QA,collectionItem:fE(fs)};W.use(Iy);const qe=new Iy.Store({strict:!1,state:{..._k},mutations:Qk(ba),actions:Rk(ba),getters:eE(ba),modules:{}});qe.dispatch("fetchEditorSettings");qe.dispatch("fetchSite",!0);qe.dispatch("setTheme",window.theme);qe.dispatch("setPage",window.page);qe.dispatch("setLocale",window.locale);qe.state.editorSettings.sitePublishable&&qe.dispatch("pollLastPublication");/*!
 * vue-i18n v8.28.2 
 * (c) 2022 kazuya kawaguchi
 * Released under the MIT License.
 */var Lb=["compactDisplay","currency","currencyDisplay","currencySign","localeMatcher","notation","numberingSystem","signDisplay","style","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"],eM=["dateStyle","timeStyle","calendar","localeMatcher","hour12","hourCycle","timeZone","formatMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function Ri(t,e){typeof console<"u"&&console.warn("[vue-i18n] "+t)}function tM(t,e){typeof console<"u"&&console.error("[vue-i18n] "+t)}var mn=Array.isArray;function Kt(t){return t!==null&&typeof t=="object"}function nM(t){return typeof t=="boolean"}function Ve(t){return typeof t=="string"}var rM=Object.prototype.toString,iM="[object Object]";function pn(t){return rM.call(t)===iM}function wt(t){return t==null}function Lu(t){return typeof t=="function"}function Wl(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=null,r=null;return t.length===1?Kt(t[0])||mn(t[0])?r=t[0]:typeof t[0]=="string"&&(n=t[0]):t.length===2&&(typeof t[0]=="string"&&(n=t[0]),(Kt(t[1])||mn(t[1]))&&(r=t[1])),{locale:n,params:r}}function Xi(t){return JSON.parse(JSON.stringify(t))}function sM(t,e){if(t.delete(e))return t}function oM(t){var e=[];return t.forEach(function(n){return e.push(n)}),e}function vo(t,e){return!!~t.indexOf(e)}var aM=Object.prototype.hasOwnProperty;function lM(t,e){return aM.call(t,e)}function Dr(t){for(var e=arguments,n=Object(t),r=1;r<arguments.length;r++){var i=e[r];if(i!=null){var s=void 0;for(s in i)lM(i,s)&&(Kt(i[s])?n[s]=Dr(n[s],i[s]):n[s]=i[s])}}return n}function el(t,e){if(t===e)return!0;var n=Kt(t),r=Kt(e);if(n&&r)try{var i=mn(t),s=mn(e);if(i&&s)return t.length===e.length&&t.every(function(l,c){return el(l,e[c])});if(!i&&!s){var o=Object.keys(t),a=Object.keys(e);return o.length===a.length&&o.every(function(l){return el(t[l],e[l])})}else return!1}catch{return!1}else return!n&&!r?String(t)===String(e):!1}function cM(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function uM(t){return t!=null&&Object.keys(t).forEach(function(e){typeof t[e]=="string"&&(t[e]=cM(t[e]))}),t}function fM(t){t.prototype.hasOwnProperty("$i18n")||Object.defineProperty(t.prototype,"$i18n",{get:function(){return this._i18n}}),t.prototype.$t=function(e){for(var n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];var i=this.$i18n;return i._t.apply(i,[e,i.locale,i._getMessages(),this].concat(n))},t.prototype.$tc=function(e,n){for(var r=[],i=arguments.length-2;i-- >0;)r[i]=arguments[i+2];var s=this.$i18n;return s._tc.apply(s,[e,s.locale,s._getMessages(),this,n].concat(r))},t.prototype.$te=function(e,n){var r=this.$i18n;return r._te(e,r.locale,r._getMessages(),n)},t.prototype.$d=function(e){for(var n,r=[],i=arguments.length-1;i-- >0;)r[i]=arguments[i+1];return(n=this.$i18n).d.apply(n,[e].concat(r))},t.prototype.$n=function(e){for(var n,r=[],i=arguments.length-1;i-- >0;)r[i]=arguments[i+1];return(n=this.$i18n).n.apply(n,[e].concat(r))}}function dM(t){t===void 0&&(t=!1);function e(){this!==this.$root&&this.$options.__INTLIFY_META__&&this.$el&&this.$el.setAttribute("data-intlify",this.$options.__INTLIFY_META__)}return t?{mounted:e}:{beforeCreate:function(){var r=this.$options;if(r.i18n=r.i18n||(r.__i18nBridge||r.__i18n?{}:null),r.i18n){if(r.i18n instanceof V){if(r.__i18nBridge||r.__i18n)try{var i=r.i18n&&r.i18n.messages?r.i18n.messages:{},s=r.__i18nBridge||r.__i18n;s.forEach(function(f){i=Dr(i,JSON.parse(f))}),Object.keys(i).forEach(function(f){r.i18n.mergeLocaleMessage(f,i[f])})}catch{}this._i18n=r.i18n,this._i18nWatcher=this._i18n.watchI18nData()}else if(pn(r.i18n)){var o=this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof V?this.$root.$i18n:null;if(o&&(r.i18n.root=this.$root,r.i18n.formatter=o.formatter,r.i18n.fallbackLocale=o.fallbackLocale,r.i18n.formatFallbackMessages=o.formatFallbackMessages,r.i18n.silentTranslationWarn=o.silentTranslationWarn,r.i18n.silentFallbackWarn=o.silentFallbackWarn,r.i18n.pluralizationRules=o.pluralizationRules,r.i18n.preserveDirectiveContent=o.preserveDirectiveContent),r.__i18nBridge||r.__i18n)try{var a=r.i18n&&r.i18n.messages?r.i18n.messages:{},l=r.__i18nBridge||r.__i18n;l.forEach(function(f){a=Dr(a,JSON.parse(f))}),r.i18n.messages=a}catch{}var c=r.i18n,u=c.sharedMessages;u&&pn(u)&&(r.i18n.messages=Dr(r.i18n.messages,u)),this._i18n=new V(r.i18n),this._i18nWatcher=this._i18n.watchI18nData(),(r.i18n.sync===void 0||r.i18n.sync)&&(this._localeWatcher=this.$i18n.watchLocale()),o&&o.onComponentInstanceCreated(this._i18n)}}else this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof V?this._i18n=this.$root.$i18n:r.parent&&r.parent.$i18n&&r.parent.$i18n instanceof V&&(this._i18n=r.parent.$i18n)},beforeMount:function(){var r=this.$options;r.i18n=r.i18n||(r.__i18nBridge||r.__i18n?{}:null),r.i18n?r.i18n instanceof V?(this._i18n.subscribeDataChanging(this),this._subscribing=!0):pn(r.i18n)&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0):this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof V?(this._i18n.subscribeDataChanging(this),this._subscribing=!0):r.parent&&r.parent.$i18n&&r.parent.$i18n instanceof V&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0)},mounted:e,beforeDestroy:function(){if(this._i18n){var r=this;this.$nextTick(function(){r._subscribing&&(r._i18n.unsubscribeDataChanging(r),delete r._subscribing),r._i18nWatcher&&(r._i18nWatcher(),r._i18n.destroyVM(),delete r._i18nWatcher),r._localeWatcher&&(r._localeWatcher(),delete r._localeWatcher)})}}}}var zh={name:"i18n",functional:!0,props:{tag:{type:[String,Boolean,Object],default:"span"},path:{type:String,required:!0},locale:{type:String},places:{type:[Array,Object]}},render:function(e,n){var r=n.data,i=n.parent,s=n.props,o=n.slots,a=i.$i18n;if(a){var l=s.path,c=s.locale,u=s.places,f=o(),d=a.i(l,c,pM(f)||u?hM(f.default,u):f),p=s.tag&&s.tag!==!0||s.tag===!1?s.tag:"span";return p?e(p,r,d):d}}};function pM(t){var e;for(e in t)if(e!=="default")return!1;return!!e}function hM(t,e){var n=e?mM(e):{};if(!t)return n;t=t.filter(function(i){return i.tag||i.text.trim()!==""});var r=t.every(vM);return t.reduce(r?gM:Bb,n)}function mM(t){return Array.isArray(t)?t.reduce(Bb,{}):Object.assign({},t)}function gM(t,e){return e.data&&e.data.attrs&&e.data.attrs.place&&(t[e.data.attrs.place]=e),t}function Bb(t,e,n){return t[n]=e,t}function vM(t){return!!(t.data&&t.data.attrs&&t.data.attrs.place)}var Vh={name:"i18n-n",functional:!0,props:{tag:{type:[String,Boolean,Object],default:"span"},value:{type:Number,required:!0},format:{type:[String,Object]},locale:{type:String}},render:function(e,n){var r=n.props,i=n.parent,s=n.data,o=i.$i18n;if(!o)return null;var a=null,l=null;Ve(r.format)?a=r.format:Kt(r.format)&&(r.format.key&&(a=r.format.key),l=Object.keys(r.format).reduce(function(p,h){var m;return vo(Lb,h)?Object.assign({},p,(m={},m[h]=r.format[h],m)):p},null));var c=r.locale||o.locale,u=o._ntp(r.value,c,a,l),f=u.map(function(p,h){var m,g=s.scopedSlots&&s.scopedSlots[p.type];return g?g((m={},m[p.type]=p.value,m.index=h,m.parts=u,m)):p.value}),d=r.tag&&r.tag!==!0||r.tag===!1?r.tag:"span";return d?e(d,{attrs:s.attrs,class:s.class,staticClass:s.staticClass},f):f}};function yM(t,e,n){Fb(t,n)&&jb(t,e,n)}function bM(t,e,n,r){if(Fb(t,n)){var i=n.context.$i18n;wM(t,n)&&el(e.value,e.oldValue)&&el(t._localeMessage,i.getLocaleMessage(i.locale))||jb(t,e,n)}}function _M(t,e,n,r){var i=n.context;if(!i){Ri("Vue instance does not exists in VNode context");return}var s=n.context.$i18n||{};!e.modifiers.preserve&&!s.preserveDirectiveContent&&(t.textContent=""),t._vt=void 0,delete t._vt,t._locale=void 0,delete t._locale,t._localeMessage=void 0,delete t._localeMessage}function Fb(t,e){var n=e.context;return n?n.$i18n?!0:(Ri("VueI18n instance does not exists in Vue instance"),!1):(Ri("Vue instance does not exists in VNode context"),!1)}function wM(t,e){var n=e.context;return t._locale===n.$i18n.locale}function jb(t,e,n){var r,i,s=e.value,o=xM(s),a=o.path,l=o.locale,c=o.args,u=o.choice;if(!a&&!l&&!c){Ri("value type not supported");return}if(!a){Ri("`path` is required in v-t directive");return}var f=n.context;u!=null?t._vt=t.textContent=(r=f.$i18n).tc.apply(r,[a,u].concat(Hh(l,c))):t._vt=t.textContent=(i=f.$i18n).t.apply(i,[a].concat(Hh(l,c))),t._locale=f.$i18n.locale,t._localeMessage=f.$i18n.getLocaleMessage(f.$i18n.locale)}function xM(t){var e,n,r,i;return Ve(t)?e=t:pn(t)&&(e=t.path,n=t.locale,r=t.args,i=t.choice),{path:e,locale:n,args:r,choice:i}}function Hh(t,e){var n=[];return t&&n.push(t),e&&(Array.isArray(e)||pn(e))&&n.push(e),n}var dt;function yd(t,e){e===void 0&&(e={bridge:!1}),yd.installed=!0,dt=t,dt.version&&Number(dt.version.split(".")[0]),fM(dt),dt.mixin(dM(e.bridge)),dt.directive("t",{bind:yM,update:bM,unbind:_M}),dt.component(zh.name,zh),dt.component(Vh.name,Vh);var n=dt.config.optionMergeStrategies;n.i18n=function(r,i){return i===void 0?r:i}}var zb=function(){this._caches=Object.create(null)};zb.prototype.interpolate=function(e,n){if(!n)return[e];var r=this._caches[e];return r||(r=kM(e),this._caches[e]=r),EM(r,n)};var SM=/^(?:\d)+/,CM=/^(?:\w)+/;function kM(t){for(var e=[],n=0,r="";n<t.length;){var i=t[n++];if(i==="{"){r&&e.push({type:"text",value:r}),r="";var s="";for(i=t[n++];i!==void 0&&i!=="}";)s+=i,i=t[n++];var o=i==="}",a=SM.test(s)?"list":o&&CM.test(s)?"named":"unknown";e.push({value:s,type:a})}else i==="%"?t[n]!=="{"&&(r+=i):r+=i}return r&&e.push({type:"text",value:r}),e}function EM(t,e){var n=[],r=0,i=Array.isArray(e)?"list":Kt(e)?"named":"unknown";if(i==="unknown")return n;for(;r<t.length;){var s=t[r];switch(s.type){case"text":n.push(s.value);break;case"list":n.push(e[parseInt(s.value,10)]);break;case"named":i==="named"&&n.push(e[s.value]);break}r++}return n}var ze=0,Ci=1,Vb=2,Hb=3,Bu=0,tl=1,nl=2,Jn=3,Tn=4,rl=5,il=6,Kl=7,qs=8,vr=[];vr[Bu]={ws:[Bu],ident:[Jn,ze],"[":[Tn],eof:[Kl]};vr[tl]={ws:[tl],".":[nl],"[":[Tn],eof:[Kl]};vr[nl]={ws:[nl],ident:[Jn,ze],0:[Jn,ze],number:[Jn,ze]};vr[Jn]={ident:[Jn,ze],0:[Jn,ze],number:[Jn,ze],ws:[tl,Ci],".":[nl,Ci],"[":[Tn,Ci],eof:[Kl,Ci]};vr[Tn]={"'":[rl,ze],'"':[il,ze],"[":[Tn,Vb],"]":[tl,Hb],eof:qs,else:[Tn,ze]};vr[rl]={"'":[Tn,ze],eof:qs,else:[rl,ze]};vr[il]={'"':[Tn,ze],eof:qs,else:[il,ze]};var OM=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function TM(t){return OM.test(t)}function $M(t){var e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e===n&&(e===34||e===39)?t.slice(1,-1):t}function IM(t){if(t==null)return"eof";var e=t.charCodeAt(0);switch(e){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"ident";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return"ident"}function PM(t){var e=t.trim();return t.charAt(0)==="0"&&isNaN(t)?!1:TM(e)?$M(e):"*"+e}function AM(t){var e=[],n=-1,r=Bu,i=0,s,o,a,l,c,u,f,d=[];d[Ci]=function(){o!==void 0&&(e.push(o),o=void 0)},d[ze]=function(){o===void 0?o=a:o+=a},d[Vb]=function(){d[ze](),i++},d[Hb]=function(){if(i>0)i--,r=Tn,d[ze]();else{if(i=0,o===void 0||(o=PM(o),o===!1))return!1;d[Ci]()}};function p(){var h=t[n+1];if(r===rl&&h==="'"||r===il&&h==='"')return n++,a="\\"+h,d[ze](),!0}for(;r!==null;)if(n++,s=t[n],!(s==="\\"&&p())){if(l=IM(s),f=vr[r],c=f[l]||f.else||qs,c===qs||(r=c[0],u=d[c[1]],u&&(a=c[2],a=a===void 0?s:a,u()===!1)))return;if(r===Kl)return e}}var bd=function(){this._cache=Object.create(null)};bd.prototype.parsePath=function(e){var n=this._cache[e];return n||(n=AM(e),n&&(this._cache[e]=n)),n||[]};bd.prototype.getPathValue=function(e,n){if(!Kt(e))return null;var r=this.parsePath(n);if(r.length===0)return null;for(var i=r.length,s=e,o=0;o<i;){var a=s[r[o]];if(a==null)return null;s=a,o++}return s};var MM=/<\/?[\w\s="/.':;#-\/]+>/,NM=/(?:@(?:\.[a-zA-Z]+)?:(?:[\w\-_|./]+|\([\w\-_:|./]+\)))/g,DM=/^@(?:\.([a-zA-Z]+))?:/,RM=/[()]/g,Uh={upper:function(t){return t.toLocaleUpperCase()},lower:function(t){return t.toLocaleLowerCase()},capitalize:function(t){return""+t.charAt(0).toLocaleUpperCase()+t.substr(1)}},Fu=new zb,V=function(e){var n=this;e===void 0&&(e={}),!dt&&typeof window<"u"&&window.Vue&&yd(window.Vue);var r=e.locale||"en-US",i=e.fallbackLocale===!1?!1:e.fallbackLocale||"en-US",s=e.messages||{},o=e.dateTimeFormats||e.datetimeFormats||{},a=e.numberFormats||{};this._vm=null,this._formatter=e.formatter||Fu,this._modifiers=e.modifiers||{},this._missing=e.missing||null,this._root=e.root||null,this._sync=e.sync===void 0?!0:!!e.sync,this._fallbackRoot=e.fallbackRoot===void 0?!0:!!e.fallbackRoot,this._fallbackRootWithEmptyString=e.fallbackRootWithEmptyString===void 0?!0:!!e.fallbackRootWithEmptyString,this._formatFallbackMessages=e.formatFallbackMessages===void 0?!1:!!e.formatFallbackMessages,this._silentTranslationWarn=e.silentTranslationWarn===void 0?!1:e.silentTranslationWarn,this._silentFallbackWarn=e.silentFallbackWarn===void 0?!1:!!e.silentFallbackWarn,this._dateTimeFormatters={},this._numberFormatters={},this._path=new bd,this._dataListeners=new Set,this._componentInstanceCreatedListener=e.componentInstanceCreatedListener||null,this._preserveDirectiveContent=e.preserveDirectiveContent===void 0?!1:!!e.preserveDirectiveContent,this.pluralizationRules=e.pluralizationRules||{},this._warnHtmlInMessage=e.warnHtmlInMessage||"off",this._postTranslation=e.postTranslation||null,this._escapeParameterHtml=e.escapeParameterHtml||!1,"__VUE_I18N_BRIDGE__"in e&&(this.__VUE_I18N_BRIDGE__=e.__VUE_I18N_BRIDGE__),this.getChoiceIndex=function(l,c){var u=Object.getPrototypeOf(n);if(u&&u.getChoiceIndex){var f=u.getChoiceIndex;return f.call(n,l,c)}var d=function(p,h){return p=Math.abs(p),h===2?p?p>1?1:0:1:p?Math.min(p,2):0};return n.locale in n.pluralizationRules?n.pluralizationRules[n.locale].apply(n,[l,c]):d(l,c)},this._exist=function(l,c){return!l||!c?!1:!!(!wt(n._path.getPathValue(l,c))||l[c])},(this._warnHtmlInMessage==="warn"||this._warnHtmlInMessage==="error")&&Object.keys(s).forEach(function(l){n._checkLocaleMessage(l,n._warnHtmlInMessage,s[l])}),this._initVM({locale:r,fallbackLocale:i,messages:s,dateTimeFormats:o,numberFormats:a})},ve={vm:{configurable:!0},messages:{configurable:!0},dateTimeFormats:{configurable:!0},numberFormats:{configurable:!0},availableLocales:{configurable:!0},locale:{configurable:!0},fallbackLocale:{configurable:!0},formatFallbackMessages:{configurable:!0},missing:{configurable:!0},formatter:{configurable:!0},silentTranslationWarn:{configurable:!0},silentFallbackWarn:{configurable:!0},preserveDirectiveContent:{configurable:!0},warnHtmlInMessage:{configurable:!0},postTranslation:{configurable:!0},sync:{configurable:!0}};V.prototype._checkLocaleMessage=function(e,n,r){var i=[],s=function(o,a,l,c){if(pn(l))Object.keys(l).forEach(function(d){var p=l[d];pn(p)?(c.push(d),c.push("."),s(o,a,p,c),c.pop(),c.pop()):(c.push(d),s(o,a,p,c),c.pop())});else if(mn(l))l.forEach(function(d,p){pn(d)?(c.push("["+p+"]"),c.push("."),s(o,a,d,c),c.pop(),c.pop()):(c.push("["+p+"]"),s(o,a,d,c),c.pop())});else if(Ve(l)){var u=MM.test(l);if(u){var f="Detected HTML in message '"+l+"' of keypath '"+c.join("")+"' at '"+a+"'. Consider component interpolation with '<i18n>' to avoid XSS. See https://bit.ly/2ZqJzkp";o==="warn"?Ri(f):o==="error"&&tM(f)}}};s(n,e,r,i)};V.prototype._initVM=function(e){var n=dt.config.silent;dt.config.silent=!0,this._vm=new dt({data:e,__VUE18N__INSTANCE__:!0}),dt.config.silent=n};V.prototype.destroyVM=function(){this._vm.$destroy()};V.prototype.subscribeDataChanging=function(e){this._dataListeners.add(e)};V.prototype.unsubscribeDataChanging=function(e){sM(this._dataListeners,e)};V.prototype.watchI18nData=function(){var e=this;return this._vm.$watch("$data",function(){for(var n=oM(e._dataListeners),r=n.length;r--;)dt.nextTick(function(){n[r]&&n[r].$forceUpdate()})},{deep:!0})};V.prototype.watchLocale=function(e){if(e){if(!this.__VUE_I18N_BRIDGE__)return null;var r=this,i=this._vm;return this.vm.$watch("locale",function(s){i.$set(i,"locale",s),r.__VUE_I18N_BRIDGE__&&e&&(e.locale.value=s),i.$forceUpdate()},{immediate:!0})}else{if(!this._sync||!this._root)return null;var n=this._vm;return this._root.$i18n.vm.$watch("locale",function(s){n.$set(n,"locale",s),n.$forceUpdate()},{immediate:!0})}};V.prototype.onComponentInstanceCreated=function(e){this._componentInstanceCreatedListener&&this._componentInstanceCreatedListener(e,this)};ve.vm.get=function(){return this._vm};ve.messages.get=function(){return Xi(this._getMessages())};ve.dateTimeFormats.get=function(){return Xi(this._getDateTimeFormats())};ve.numberFormats.get=function(){return Xi(this._getNumberFormats())};ve.availableLocales.get=function(){return Object.keys(this.messages).sort()};ve.locale.get=function(){return this._vm.locale};ve.locale.set=function(t){this._vm.$set(this._vm,"locale",t)};ve.fallbackLocale.get=function(){return this._vm.fallbackLocale};ve.fallbackLocale.set=function(t){this._localeChainCache={},this._vm.$set(this._vm,"fallbackLocale",t)};ve.formatFallbackMessages.get=function(){return this._formatFallbackMessages};ve.formatFallbackMessages.set=function(t){this._formatFallbackMessages=t};ve.missing.get=function(){return this._missing};ve.missing.set=function(t){this._missing=t};ve.formatter.get=function(){return this._formatter};ve.formatter.set=function(t){this._formatter=t};ve.silentTranslationWarn.get=function(){return this._silentTranslationWarn};ve.silentTranslationWarn.set=function(t){this._silentTranslationWarn=t};ve.silentFallbackWarn.get=function(){return this._silentFallbackWarn};ve.silentFallbackWarn.set=function(t){this._silentFallbackWarn=t};ve.preserveDirectiveContent.get=function(){return this._preserveDirectiveContent};ve.preserveDirectiveContent.set=function(t){this._preserveDirectiveContent=t};ve.warnHtmlInMessage.get=function(){return this._warnHtmlInMessage};ve.warnHtmlInMessage.set=function(t){var e=this,n=this._warnHtmlInMessage;if(this._warnHtmlInMessage=t,n!==t&&(t==="warn"||t==="error")){var r=this._getMessages();Object.keys(r).forEach(function(i){e._checkLocaleMessage(i,e._warnHtmlInMessage,r[i])})}};ve.postTranslation.get=function(){return this._postTranslation};ve.postTranslation.set=function(t){this._postTranslation=t};ve.sync.get=function(){return this._sync};ve.sync.set=function(t){this._sync=t};V.prototype._getMessages=function(){return this._vm.messages};V.prototype._getDateTimeFormats=function(){return this._vm.dateTimeFormats};V.prototype._getNumberFormats=function(){return this._vm.numberFormats};V.prototype._warnDefault=function(e,n,r,i,s,o){if(!wt(r))return r;if(this._missing){var a=this._missing.apply(null,[e,n,i,s]);if(Ve(a))return a}if(this._formatFallbackMessages){var l=Wl.apply(void 0,s);return this._render(n,o,l.params,n)}else return n};V.prototype._isFallbackRoot=function(e){return(this._fallbackRootWithEmptyString?!e:wt(e))&&!wt(this._root)&&this._fallbackRoot};V.prototype._isSilentFallbackWarn=function(e){return this._silentFallbackWarn instanceof RegExp?this._silentFallbackWarn.test(e):this._silentFallbackWarn};V.prototype._isSilentFallback=function(e,n){return this._isSilentFallbackWarn(n)&&(this._isFallbackRoot()||e!==this.fallbackLocale)};V.prototype._isSilentTranslationWarn=function(e){return this._silentTranslationWarn instanceof RegExp?this._silentTranslationWarn.test(e):this._silentTranslationWarn};V.prototype._interpolate=function(e,n,r,i,s,o,a){if(!n)return null;var l=this._path.getPathValue(n,r);if(mn(l)||pn(l))return l;var c;if(wt(l))if(pn(n)){if(c=n[r],!(Ve(c)||Lu(c)))return null}else return null;else if(Ve(l)||Lu(l))c=l;else return null;return Ve(c)&&(c.indexOf("@:")>=0||c.indexOf("@.")>=0)&&(c=this._link(e,n,c,i,"raw",o,a)),this._render(c,s,o,r)};V.prototype._link=function(e,n,r,i,s,o,a){var l=r,c=l.match(NM);for(var u in c)if(c.hasOwnProperty(u)){var f=c[u],d=f.match(DM),p=d[0],h=d[1],m=f.replace(p,"").replace(RM,"");if(vo(a,m))return l;a.push(m);var g=this._interpolate(e,n,m,i,s==="raw"?"string":s,s==="raw"?void 0:o,a);if(this._isFallbackRoot(g)){if(!this._root)throw Error("unexpected error");var v=this._root.$i18n;g=v._translate(v._getMessages(),v.locale,v.fallbackLocale,m,i,s,o)}g=this._warnDefault(e,m,g,i,mn(o)?o:[o],s),this._modifiers.hasOwnProperty(h)?g=this._modifiers[h](g):Uh.hasOwnProperty(h)&&(g=Uh[h](g)),a.pop(),l=g?l.replace(f,g):l}return l};V.prototype._createMessageContext=function(e,n,r,i){var s=this,o=mn(e)?e:[],a=Kt(e)?e:{},l=function(d){return o[d]},c=function(d){return a[d]},u=this._getMessages(),f=this.locale;return{list:l,named:c,values:e,formatter:n,path:r,messages:u,locale:f,linked:function(d){return s._interpolate(f,u[f]||{},d,null,i,void 0,[d])}}};V.prototype._render=function(e,n,r,i){if(Lu(e))return e(this._createMessageContext(r,this._formatter||Fu,i,n));var s=this._formatter.interpolate(e,r,i);return s||(s=Fu.interpolate(e,r,i)),n==="string"&&!Ve(s)?s.join(""):s};V.prototype._appendItemToChain=function(e,n,r){var i=!1;return vo(e,n)||(i=!0,n&&(i=n[n.length-1]!=="!",n=n.replace(/!/g,""),e.push(n),r&&r[n]&&(i=r[n]))),i};V.prototype._appendLocaleToChain=function(e,n,r){var i,s=n.split("-");do{var o=s.join("-");i=this._appendItemToChain(e,o,r),s.splice(-1,1)}while(s.length&&i===!0);return i};V.prototype._appendBlockToChain=function(e,n,r){for(var i=!0,s=0;s<n.length&&nM(i);s++){var o=n[s];Ve(o)&&(i=this._appendLocaleToChain(e,o,r))}return i};V.prototype._getLocaleChain=function(e,n){if(e==="")return[];this._localeChainCache||(this._localeChainCache={});var r=this._localeChainCache[e];if(!r){n||(n=this.fallbackLocale),r=[];for(var i=[e];mn(i);)i=this._appendBlockToChain(r,i,n);var s;mn(n)?s=n:Kt(n)?n.default?s=n.default:s=null:s=n,Ve(s)?i=[s]:i=s,i&&this._appendBlockToChain(r,i,null),this._localeChainCache[e]=r}return r};V.prototype._translate=function(e,n,r,i,s,o,a){for(var l=this._getLocaleChain(n,r),c,u=0;u<l.length;u++){var f=l[u];if(c=this._interpolate(f,e[f],i,s,o,a,[i]),!wt(c))return c}return null};V.prototype._t=function(e,n,r,i){for(var s,o=[],a=arguments.length-4;a-- >0;)o[a]=arguments[a+4];if(!e)return"";var l=Wl.apply(void 0,o);this._escapeParameterHtml&&(l.params=uM(l.params));var c=l.locale||n,u=this._translate(r,c,this.fallbackLocale,e,i,"string",l.params);if(this._isFallbackRoot(u)){if(!this._root)throw Error("unexpected error");return(s=this._root).$t.apply(s,[e].concat(o))}else return u=this._warnDefault(c,e,u,i,o,"string"),this._postTranslation&&u!==null&&u!==void 0&&(u=this._postTranslation(u,e)),u};V.prototype.t=function(e){for(var n,r=[],i=arguments.length-1;i-- >0;)r[i]=arguments[i+1];return(n=this)._t.apply(n,[e,this.locale,this._getMessages(),null].concat(r))};V.prototype._i=function(e,n,r,i,s){var o=this._translate(r,n,this.fallbackLocale,e,i,"raw",s);if(this._isFallbackRoot(o)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.i(e,n,s)}else return this._warnDefault(n,e,o,i,[s],"raw")};V.prototype.i=function(e,n,r){return e?(Ve(n)||(n=this.locale),this._i(e,n,this._getMessages(),null,r)):""};V.prototype._tc=function(e,n,r,i,s){for(var o,a=[],l=arguments.length-5;l-- >0;)a[l]=arguments[l+5];if(!e)return"";s===void 0&&(s=1);var c={count:s,n:s},u=Wl.apply(void 0,a);return u.params=Object.assign(c,u.params),a=u.locale===null?[u.params]:[u.locale,u.params],this.fetchChoice((o=this)._t.apply(o,[e,n,r,i].concat(a)),s)};V.prototype.fetchChoice=function(e,n){if(!e||!Ve(e))return null;var r=e.split("|");return n=this.getChoiceIndex(n,r.length),r[n]?r[n].trim():e};V.prototype.tc=function(e,n){for(var r,i=[],s=arguments.length-2;s-- >0;)i[s]=arguments[s+2];return(r=this)._tc.apply(r,[e,this.locale,this._getMessages(),null,n].concat(i))};V.prototype._te=function(e,n,r){for(var i=[],s=arguments.length-3;s-- >0;)i[s]=arguments[s+3];var o=Wl.apply(void 0,i).locale||n;return this._exist(r[o],e)};V.prototype.te=function(e,n){return this._te(e,this.locale,this._getMessages(),n)};V.prototype.getLocaleMessage=function(e){return Xi(this._vm.messages[e]||{})};V.prototype.setLocaleMessage=function(e,n){(this._warnHtmlInMessage==="warn"||this._warnHtmlInMessage==="error")&&this._checkLocaleMessage(e,this._warnHtmlInMessage,n),this._vm.$set(this._vm.messages,e,n)};V.prototype.mergeLocaleMessage=function(e,n){(this._warnHtmlInMessage==="warn"||this._warnHtmlInMessage==="error")&&this._checkLocaleMessage(e,this._warnHtmlInMessage,n),this._vm.$set(this._vm.messages,e,Dr(typeof this._vm.messages[e]<"u"&&Object.keys(this._vm.messages[e]).length?Object.assign({},this._vm.messages[e]):{},n))};V.prototype.getDateTimeFormat=function(e){return Xi(this._vm.dateTimeFormats[e]||{})};V.prototype.setDateTimeFormat=function(e,n){this._vm.$set(this._vm.dateTimeFormats,e,n),this._clearDateTimeFormat(e,n)};V.prototype.mergeDateTimeFormat=function(e,n){this._vm.$set(this._vm.dateTimeFormats,e,Dr(this._vm.dateTimeFormats[e]||{},n)),this._clearDateTimeFormat(e,n)};V.prototype._clearDateTimeFormat=function(e,n){for(var r in n){var i=e+"__"+r;this._dateTimeFormatters.hasOwnProperty(i)&&delete this._dateTimeFormatters[i]}};V.prototype._localizeDateTime=function(e,n,r,i,s,o){for(var a=n,l=i[a],c=this._getLocaleChain(n,r),u=0;u<c.length;u++){var f=a,d=c[u];if(l=i[d],a=d,!(wt(l)||wt(l[s])))break}if(wt(l)||wt(l[s]))return null;var p=l[s],h;if(o)h=new Intl.DateTimeFormat(a,Object.assign({},p,o));else{var m=a+"__"+s;h=this._dateTimeFormatters[m],h||(h=this._dateTimeFormatters[m]=new Intl.DateTimeFormat(a,p))}return h.format(e)};V.prototype._d=function(e,n,r,i){if(!r){var s=i?new Intl.DateTimeFormat(n,i):new Intl.DateTimeFormat(n);return s.format(e)}var o=this._localizeDateTime(e,n,this.fallbackLocale,this._getDateTimeFormats(),r,i);if(this._isFallbackRoot(o)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.d(e,r,n)}else return o||""};V.prototype.d=function(e){for(var n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];var i=this.locale,s=null,o=null;return n.length===1?(Ve(n[0])?s=n[0]:Kt(n[0])&&(n[0].locale&&(i=n[0].locale),n[0].key&&(s=n[0].key)),o=Object.keys(n[0]).reduce(function(a,l){var c;return vo(eM,l)?Object.assign({},a,(c={},c[l]=n[0][l],c)):a},null)):n.length===2&&(Ve(n[0])&&(s=n[0]),Ve(n[1])&&(i=n[1])),this._d(e,i,s,o)};V.prototype.getNumberFormat=function(e){return Xi(this._vm.numberFormats[e]||{})};V.prototype.setNumberFormat=function(e,n){this._vm.$set(this._vm.numberFormats,e,n),this._clearNumberFormat(e,n)};V.prototype.mergeNumberFormat=function(e,n){this._vm.$set(this._vm.numberFormats,e,Dr(this._vm.numberFormats[e]||{},n)),this._clearNumberFormat(e,n)};V.prototype._clearNumberFormat=function(e,n){for(var r in n){var i=e+"__"+r;this._numberFormatters.hasOwnProperty(i)&&delete this._numberFormatters[i]}};V.prototype._getNumberFormatter=function(e,n,r,i,s,o){for(var a=n,l=i[a],c=this._getLocaleChain(n,r),u=0;u<c.length;u++){var f=a,d=c[u];if(l=i[d],a=d,!(wt(l)||wt(l[s])))break}if(wt(l)||wt(l[s]))return null;var p=l[s],h;if(o)h=new Intl.NumberFormat(a,Object.assign({},p,o));else{var m=a+"__"+s;h=this._numberFormatters[m],h||(h=this._numberFormatters[m]=new Intl.NumberFormat(a,p))}return h};V.prototype._n=function(e,n,r,i){if(!V.availabilities.numberFormat)return"";if(!r){var s=i?new Intl.NumberFormat(n,i):new Intl.NumberFormat(n);return s.format(e)}var o=this._getNumberFormatter(e,n,this.fallbackLocale,this._getNumberFormats(),r,i),a=o&&o.format(e);if(this._isFallbackRoot(a)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.n(e,Object.assign({},{key:r,locale:n},i))}else return a||""};V.prototype.n=function(e){for(var n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];var i=this.locale,s=null,o=null;return n.length===1?Ve(n[0])?s=n[0]:Kt(n[0])&&(n[0].locale&&(i=n[0].locale),n[0].key&&(s=n[0].key),o=Object.keys(n[0]).reduce(function(a,l){var c;return vo(Lb,l)?Object.assign({},a,(c={},c[l]=n[0][l],c)):a},null)):n.length===2&&(Ve(n[0])&&(s=n[0]),Ve(n[1])&&(i=n[1])),this._n(e,i,s,o)};V.prototype._ntp=function(e,n,r,i){if(!V.availabilities.numberFormat)return[];if(!r){var s=i?new Intl.NumberFormat(n,i):new Intl.NumberFormat(n);return s.formatToParts(e)}var o=this._getNumberFormatter(e,n,this.fallbackLocale,this._getNumberFormats(),r,i),a=o&&o.formatToParts(e);if(this._isFallbackRoot(a)){if(!this._root)throw Error("unexpected error");return this._root.$i18n._ntp(e,n,r,i)}else return a||[]};Object.defineProperties(V.prototype,ve);var Pc;Object.defineProperty(V,"availabilities",{get:function(){if(!Pc){var e=typeof Intl<"u";Pc={dateTimeFormat:e&&typeof Intl.DateTimeFormat<"u",numberFormat:e&&typeof Intl.NumberFormat<"u"}}return Pc}});V.install=yd;V.version="8.28.2";const LM={pages:"Pages:",pageSettings:"Page settings",previewSite:"Preview site",previewToggler:{button:"Preview site",draftLink:"Draft version",liveLink:"Live version"},publishButton:{default:"Publish site",inProgress:"Publishing...",success:"Published!",fail:"Fail!"},saveButton:{default:"Save",inProgress:"Saving...",success:"Saved!",fail:"Fail!"}},BM={addNewSectionTooltip:"Add a new section at the bottom of the page",managePageSectionsTooltip:"Re-order / delete the sections of the page",editStyleTooltip:"Change the style of your site",openImageLibraryTooltip:"Open the gallery of images",leaveEditorTooltip:"Back to the main app"},FM={loading:"Loading...",empty:{title:{withoutLocale:"Your page is blank",withLocale:"Your page in %{localeName} is blank"},message:"Please add the first section by clicking on the {icon} button in the left sidebar."}},jM={list:{title:"List of pages",subTitle:"Manage the pages of your site",newButton:"New page",searchPlaceholder:"Type your query here...",item:{edit:"Edit page settings",clone:"Clone page",hide:"Hide page",show:"Show page",delete:"Delete page"}},new:{title:"Create a new page",submitButton:{default:"Create page",inProgress:"Creating...",success:"Created!",fail:"Fail!"},cancelButton:"Cancel"},edit:{title:"Editing a page",currentPage:{title:"Editing the current page"},submitButton:{default:"Update page",inProgress:"Updating...",success:"Updated!",fail:"Fail!"},cancelButton:"Cancel"},form:{tabs:{main:"Main",seo:"SEO"},title:"Title",path:"Path",visible:"Visible",visiblePlaceholder:"Show/Hide the page",seoTitle:"Meta title",metaDescription:"Meta description",ogTitle:"og:title",ogDescription:"og:description",ogImageUrl:"og:image"}},zM={addPane:{title:"Add a section"},listPane:{title:"Organize sections",empty:"There are no sections."}},VM={tabs:{settings:"Content",blocks:"Blocks",advanced:"Advanced"},blockList:{add:"Add new item"}},HM={tabs:{settings:"Content",blocks:"Blocks",advanced:"Advanced"}},UM={emptyCategory:"No sections"},WM={edit:{title:"Style your site",submitButton:{default:"Update style",inProgress:"Updating...",success:"Updated!",fail:"Fail!"}}},KM={addButton:"Add image",replaceButton:"Replace image",clearButton:"Clear",altTextPlaceholder:"Alt text to help search engines"},GM={title:"List of images",pickerTitle:"Select an image",none:"No images uploaded yet",searchPlaceholder:"Search for a filename",pagination:{label:"%{start} - %{end} of %{totalItems} images",noItems:"No images"},destroy:{text:"Are you sure?",ok:"Yes, delete it",cancel:"Cancel"},uploader:{wrongFiles:"Make sure the size of each image is not greater than %{limit}.",uploadButton:{default:"Upload images",inProgress:"Uploading...",success:"Uploaded!",fail:"Fail!"}}},qM={addButton:"Add icon",replaceButton:"Replace icon",clearButton:"Clear"},JM={title:"Icons",pickerTitle:"Pick an icon"},YM={placeholder:"Click here to select a link",withNestedTextLabel:"Enable text",nestedTextPlaceholder:"Text"},XM={title:"Select a link",insertTitle:"Insert a link",page:{name:"Page",input:{label:"Page",placeholder:"Select a page",searchPlaceholder:"Search...",emptyLabel:"No pages found"},sectionInput:{label:"Section",placeholder:"Select a section",emptyLabel:"No section selected"}},url:{name:"Url",input:{label:"Url"}},email:{name:"Email",input:{label:"Email"}},shared:{mainButton:{select:"Select",insert:"Add"},cancelButton:"Cancel",newWindowInput:{label:"Open in new window"}}},ZM={select:{placeholder:"Select an item",searchPlaceholder:"Search...",emptyLabel:"No items found"}},QM={defaultLabel:"%{start} - %{end} of %{totalItems} items",defaultNoItems:"None"},eN={text:"Are you sure to perform this action?",confirmButtonLabel:"Yes",cancelButtonLabel:"No"},tN={staleRecord:{title:"We are sorry ",message:"We couldn't persist your changes because someone else has updated the content in the meantime.",button:"Please reload your page"}},nN={human:{storageUnits:{format:"%{number} %{unit}",units:{byte:{one:"Byte",other:"Bytes"},kb:"KB",mb:"MB",gb:"GB"}}}},rN={headerNav:LM,sidebarNav:BM,pagePreview:FM,page:jM,sections:zM,sectionPane:VM,sectionBlockPane:HM,themeSectionList:UM,style:WM,imageInput:KM,imageLibrary:GM,iconInput:qM,iconLibrary:JM,linkInput:YM,linkPicker:XM,collectionItemInput:ZM,pagination:QM,confirmationButton:eN,errorModals:tN,support:nN},iN={pages:"Pginas:",pageSettings:"Configuracin de pgina",previewSite:"Previsualizar sitio",previewToggler:{button:"Previsualizar sitio",draftLink:"Versin borrador",liveLink:"Versin publicada"},publishButton:{default:"Publicar sitio",inProgress:"Publicando...",success:"Publicado!",fail:"Error!"},saveButton:{default:"Guardar",inProgress:"Guardando...",success:"Guardado!",fail:"Error!"}},sN={addNewSectionTooltip:"Aadir una nueva seccin al final de la pgina",managePageSectionsTooltip:"Reordenar / eliminar las secciones de la pgina",editStyleTooltip:"Cambiar el diseo de tu sitio",openImageLibraryTooltip:"Abrir la galera de imgenes",leaveEditorTooltip:"Volver a la aplicacin principal"},oN={loading:"Cargando...",empty:{title:{withoutLocale:"Tu pgina est en blanco",withLocale:"Tu pgina en %{localeName} est en blanco"},message:"Por favor aade la primera seccin pulsando en el botn {icon} en la barra de navegacin de la izquierda"}},aN={list:{title:"Lista de pginas",subTitle:"Gestiona las pginas de tu sitio",newButton:"Nueva pgina",searchPlaceholder:"Escribe tu consulta aqu...",item:{edit:"Editar la configuracin de la pgina",clone:"Clonar pgina",hide:"Esconder",show:"Mostrar",delete:"Eliminar"}},new:{title:"Crear una nueva pgina",submitButton:{default:"Crear pgina",inProgress:"Creando...",success:"Creada!",fail:"Error!"},cancelButton:"Cancelar"},edit:{title:"Editando pgina",currentPage:{title:"Editando la pgina actual"},submitButton:{default:"Actualizar pgina",inProgress:"Actualizando...",success:"Actualizado!",fail:"Error!"},cancelButton:"Cancelar"},form:{tabs:{main:"Principal",seo:"SEO"},title:"Ttulo",path:"Ruta",visible:"Visible",visiblePlaceholder:"Mostrar/Ocultar la pgina",seoTitle:"Meta title",metaDescription:"Meta description",ogTitle:"og:title",ogDescription:"og:description",ogImageUrl:"og:image"}},lN={addPane:{title:"Aadir una seccin"},listPane:{title:"Organizar secciones",empty:"No hay secciones."}},cN={tabs:{settings:"Contenido",blocks:"Bloques",advanced:"Avanzado"},blockList:{add:"Aadir un nuevo elemento"}},uN={tabs:{settings:"Contenido",blocks:"Bloques",advanced:"Avanzado"}},fN={emptyCategory:"No hay secciones"},dN={edit:{title:"Cambiar el diseo del sitio",submitButton:{default:"Actualizar diseo",inProgress:"Actualizando...",success:"Actualizado!",fail:"Error!"}}},pN={addButton:"Aadir imagen",replaceButton:"Reemplazar imagen",clearButton:"Limpiar",altTextPlaceholder:"Texto alternativo para ayudar a los motores de bsqueda"},hN={title:"Lista de imgenes",pickerTitle:"Selecciona una imagen",none:"No hay imgenes cargadas todava",searchPlaceholder:"Buscar por nombre",pagination:{label:"%{start} - %{end} de %{totalItems} imgenes",noItems:"No hay imgenes"},destroy:{text:"Ests seguro?",ok:"S, eliminar",cancel:"Cancelar"},uploader:{wrongFiles:"Asegrate de que el tamao de cada imagen no es mayor que %{limit}.",uploadButton:{default:"Cargar imgenes",inProgress:"Subiendo...",success:"Subidas!",fail:"Error!"}}},mN={addButton:"Aadir icono",replaceButton:"Reemplazar icono",clearButton:"Limpiar"},gN={title:"Iconos",pickerTitle:"Elige un icono"},vN={placeholder:"Pulsa aqu para seleccionar un enlace",withNestedTextLabel:"Activar texto",nestedTextPlaceholder:"Texto"},yN={title:"Seleccionar un enlace",insertTitle:"Insertar un enlace",page:{name:"Pgina",input:{label:"Pgina",placeholder:"Seleccionar una pgina",searchPlaceholder:"Buscar...",emptyLabel:"No se han encontrado pginas"},sectionInput:{label:"Seccin",placeholder:"Seleccionar una seccin",emptyLabel:"No se ha seleccionado ninguna seccin."}},url:{name:"Url",input:{label:"Url"}},email:{name:"Email",input:{label:"Email"}},shared:{mainButton:{select:"Seleccionar",insert:"Aadir"},cancelButton:"Cancelar",newWindowInput:{label:"Abrir en una nueva ventana"}}},bN={select:{placeholder:"Seleccionar un elemento",searchPlaceholder:"Buscar...",emptyLabel:"No se han encontrado elementos"}},_N={defaultLabel:"%{start} - %{end} de %{totalItems} elementos",defaultNoItems:"Ninguno"},wN={text:"Ests seguro de realizar esta accin?",confirmButtonLabel:"S",cancelButtonLabel:"No"},xN={staleRecord:{title:"Lo sentimos ",message:"No hemos podido guardar tus cambios porque alguien ms actualiz el contenido mientras se editaba.",button:"Por favor, recarga la pgina"}},SN={human:{storageUnits:{format:"%{number} %{unit}",units:{byte:{one:"Byte",other:"Bytes"},kb:"KB",mb:"MB",gb:"GB"}}}},CN={headerNav:iN,sidebarNav:sN,pagePreview:oN,page:aN,sections:lN,sectionPane:cN,sectionBlockPane:uN,themeSectionList:fN,style:dN,imageInput:pN,imageLibrary:hN,iconInput:mN,iconLibrary:gN,linkInput:vN,linkPicker:yN,collectionItemInput:bN,pagination:_N,confirmationButton:wN,errorModals:xN,support:SN},kN={pages:"Pages :",pageSettings:"Paramtres page",previewSite:"Prvisualiser site",previewToggler:{button:"Voir site",draftLink:"Version brouillon",liveLink:"Version publie"},publishButton:{default:"Publier site",inProgress:"En cours...",success:"Publi !",fail:"chec !"},saveButton:{default:"Sauvegarder",inProgress:"En cours...",success:"Sauvegarde !",fail:"chec !"}},EN={addNewSectionTooltip:"Ajouter une nouvelle section au bas de la page",managePageSectionsTooltip:"Grer les sections de la page",editStyleTooltip:"Modifier le style du site",openImageLibraryTooltip:"Ouvrir la galerie d'images",leaveEditorTooltip:"Retour vers l'application principale"},ON={loading:"Chargement...",empty:{title:{withoutLocale:"Votre page est vide",withLocale:"Votre page en {localeName} est vide"},message:"Veuillez ajouter une nouvelle section en cliquant sur le bouton {icon} dans la barre de navigation sur la gauche."}},TN={list:{title:"Liste des pages",subTitle:"Grer les pages de votre site",newButton:"Nouvelle page",searchPlaceholder:"Tapez un titre de page...",item:{edit:"diter les paramtres",clone:"Dupliquer",hide:"Cacher",show:"Montrer",delete:"Supprimer"}},new:{title:"Crer une nouvelle page",submitButton:{default:"Crer page",inProgress:"En cours de cration...",success:"Cre !",fail:"chec !"},cancelButton:"Annuler"},edit:{title:"dition page",currentPage:{title:"dition de la page courante"},submitButton:{default:"Mettre  jour",inProgress:"En cours de mise  jour...",success:"Mise  jour !",fail:"chec !"},cancelButton:"Annuler"},form:{tabs:{main:"Principal",seo:"SEO"},title:"Titre",path:"Chemin",visible:"Visible",visiblePlaceholder:"Afficher/Cacher la page",seoTitle:"Meta title",metaDescription:"Meta description",ogTitle:"og:title",ogDescription:"og:description",ogImageUrl:"og:image"}},$N={addPane:{title:"Ajouter une section"},listPane:{title:"Organiser les sections",empty:"Vous n'avez aucune section."}},IN={tabs:{settings:"Contenu",blocks:"Blocs",advanced:"Paramtres"},blockList:{add:"Ajouter un nouvel lment"}},PN={tabs:{settings:"Contenu",advanced:"Paramtres"}},AN={emptyCategory:"Aucune section"},MN={edit:{title:"Styler site"}},NN={addButton:"Ajouter une image",replaceButton:"Remplacer l'image",clearButton:"Effacer",altTextPlaceholder:"Alt texte pour les moteurs de recherche"},DN={title:"Liste des images",pickerTitle:"Slectionner une image",none:"Aucune image tlverse pour le moment",searchPlaceholder:"Recherchez par le nom",pagination:{label:"%{start} - %{end} de %{totalItems} images",noItems:"Aucune image"},destroy:{text:"tes-vous sr(e) ?",ok:"Oui, je veux la supprimer",cancel:"Annuler"},uploader:{wrongFiles:"Assurez-vous que la taille de chaque image ne dpasse pas %{limit}.",uploadButton:{default:"Tlverser des images",inProgress:"En cours...",success:"Succs !",fail:"chec !"}}},RN={addButton:"Ajouter une icne",replaceButton:"Remplacer l'icne",clearButton:"Effacer"},LN={title:"Icnes",pickerTitle:"Slectionner une icne"},BN={placeholder:"Cliquez ici pour slectionner un lien",withNestedTextLabel:"Activer le texte",nestedTextPlaceholder:"Texte"},FN={title:"Slectionner un lien",insertTitle:"Insrer un lien",page:{name:"Page",input:{label:"Page",placeholder:"Slectionnez une page",searchPlaceholder:"Recherchez...",emptyLabel:"Aucune page trouve"},sectionInput:{label:"Section",placeholder:"Slectionnez une section",emptyLabel:"Aucune section slectionne"}},url:{name:"Url",input:{label:"Url"}},email:{name:"Email",input:{label:"Email"}},shared:{mainButton:{select:"Slectionner",insert:"Ajouter"},cancelButton:"Annuler",newWindowInput:{label:"Ouvrir dans un nouvel onglet"}}},jN={select:{placeholder:"Rechercher un lment",searchPlaceholder:"Recherchez...",emptyLabel:"Aucun lment trouv"}},zN={defaultLabel:"%{start} - %{end} de %{totalItems} lments",defaultNoItems:"Aucun"},VN={text:"tes-vous sr(e) ?",confirmButtonLabel:"Oui",cancelButtonLabel:"Non"},HN={staleRecord:{title:"Nous sommes dsols ",message:"Nous n'avons pu sauvegarder vos modifications car de plus rcentes viennent d'tre effectues par une autre personne.",button:"Recharger la page"}},UN={human:{storageUnits:{format:"%{number} %{unit}",units:{byte:{one:"Octet",other:"Octets"},kb:"Ko",mb:"Mo",gb:"Go"}}}},WN={headerNav:kN,sidebarNav:EN,pagePreview:ON,page:TN,sections:$N,sectionPane:IN,sectionBlockPane:PN,themeSectionList:AN,style:MN,imageInput:NN,imageLibrary:DN,iconInput:RN,iconLibrary:LN,linkInput:BN,linkPicker:FN,collectionItemInput:jN,pagination:zN,confirmationButton:VN,errorModals:HN,support:UN},KN={pages:"Pginas:",pageSettings:"Configuraes da pgina",previewSite:"Visualizar site",previewToggler:{button:"Visualizar site",draftLink:"Verso de rascunho",liveLink:"Verso publicada"},publishButton:{default:"Publicar site",inProgress:"Publicando...",success:"Publicado!",fail:"Falhou!"},saveButton:{default:"Salvar",inProgress:"Salvando...",success:"Salvo!",fail:"Falhou!"}},GN={addNewSectionTooltip:"Adicionar uma nova seo na parte inferior da pgina",managePageSectionsTooltip:"Reordenar / excluir as sees da pgina",editStyleTooltip:"Alterar o estilo do seu site",openImageLibraryTooltip:"Abrir a galeria de imagens",leaveEditorTooltip:"Voltar para o aplicativo principal"},qN={loading:"Carregando...",empty:{title:{withoutLocale:"Sua pgina est em branco",withLocale:"Sua pgina em %{localeName} est em branco"},message:"Por favor, adicione a primeira seo clicando no boto {icon} na barra lateral esquerda."}},JN={list:{title:"Lista de pginas",subTitle:"Gerenciar as pginas do seu site",newButton:"Nova pgina",searchPlaceholder:"Digite sua pesquisa aqui...",item:{edit:"Editar configuraes da pgina",clone:"Clonar pgina",hide:"Ocultar pgina",show:"Mostrar pgina",delete:"Excluir pgina"}},new:{title:"Criar uma nova pgina",submitButton:{default:"Criar pgina",inProgress:"Criando...",success:"Criado!",fail:"Falhou!"},cancelButton:"Cancelar"},edit:{title:"Editando uma pgina",currentPage:{title:"Editando a pgina atual"},submitButton:{default:"Atualizar pgina",inProgress:"Atualizando...",success:"Atualizado!",fail:"Falhou!"},cancelButton:"Cancelar"},form:{tabs:{main:"Principal",seo:"SEO"},title:"Ttulo",path:"Caminho",visible:"Visvel",visiblePlaceholder:"Mostrar/Ocultar a pgina",seoTitle:"Ttulo meta",metaDescription:"Descrio meta",ogTitle:"og:title",ogDescription:"og:description",ogImageUrl:"og:image"}},YN={addPane:{title:"Adicionar uma seo"},listPane:{title:"Organizar sees",empty:"No h sees."}},XN={tabs:{settings:"Contedo",blocks:"Blocos",advanced:"Avanado"},blockList:{add:"Adicionar novo item"}},ZN={tabs:{settings:"Contedo",blocks:"Blocos",advanced:"Avanado"}},QN={emptyCategory:"Nenhuma seo"},eD={edit:{title:"Estilizar seu site",submitButton:{default:"Atualizar estilo",inProgress:"Atualizando...",success:"Atualizado!",fail:"Falhou!"}}},tD={addButton:"Adicionar imagem",replaceButton:"Substituir imagem",clearButton:"Limpar",altTextPlaceholder:"Texto alternativo para ajudar os mecanismos de busca"},nD={title:"Lista de imagens",pickerTitle:"Selecionar uma imagem",none:"Nenhuma imagem enviada ainda",searchPlaceholder:"Buscar por um nome de arquivo",pagination:{label:"%{start} - %{end} de %{totalItems} imagens",noItems:"Nenhuma imagem"},destroy:{text:"Tem certeza?",ok:"Sim, exclua",cancel:"Cancelar"},uploader:{wrongFiles:"Certifique-se de que o tamanho de cada imagem no seja maior que %{limit}.",uploadButton:{default:"Enviar imagens",inProgress:"Enviando...",success:"Enviado!",fail:"Falha!"}}},rD={addButton:"Adicionar cone",replaceButton:"Substituir cone",clearButton:"Limpar"},iD={title:"cones",pickerTitle:"Escolher um cone"},sD={placeholder:"Clique aqui para selecionar um link",withNestedTextLabel:"Ativar texto",nestedTextPlaceholder:"Texto"},oD={title:"Selecionar um link",insertTitle:"Inserir um link",page:{name:"Pgina",input:{label:"Pgina",placeholder:"Selecione uma pgina",searchPlaceholder:"Pesquisar...",emptyLabel:"Nenhuma pgina encontrada"},sectionInput:{label:"Seo",placeholder:"Selecione uma seo",emptyLabel:"Nenhuma seo selecionada"}},url:{name:"URL",input:{label:"URL"}},email:{name:"Email",input:{label:"Email"}},shared:{mainButton:{select:"Selecionar",insert:"Adicionar"},cancelButton:"Cancelar",newWindowInput:{label:"Abrir em nova janela"}}},aD={select:{placeholder:"Selecione um item",searchPlaceholder:"Pesquisar...",emptyLabel:"Nenhum item encontrado"}},lD={defaultLabel:"%{start} - %{end} de %{totalItems} itens",defaultNoItems:"Nenhum"},cD={text:"Voc tem certeza de que deseja realizar esta ao?",confirmButtonLabel:"Sim",cancelButtonLabel:"No"},uD={staleRecord:{title:"Pedimos desculpas ",message:"No conseguimos salvar suas alteraes porque outra pessoa atualizou o contedo no intervalo de tempo.",button:"Por favor, recarregue a pgina"}},fD={human:{storageUnits:{format:"%{number} %{unit}",units:{byte:{one:"Byte",other:"Bytes"},kb:"KB",mb:"MB",gb:"GB"}}}},dD={headerNav:KN,sidebarNav:GN,pagePreview:qN,page:JN,sections:YN,sectionPane:XN,sectionBlockPane:ZN,themeSectionList:QN,style:eD,imageInput:tD,imageLibrary:nD,iconInput:rD,iconLibrary:iD,linkInput:sD,linkPicker:oD,collectionItemInput:aD,pagination:lD,confirmationButton:cD,errorModals:uD,support:fD};var fv;const pD=((fv=window.customTranslations)==null?void 0:fv.en)??{};var dv;const hD=((dv=window.customTranslations)==null?void 0:dv.es)??{};var pv;const mD=((pv=window.customTranslations)==null?void 0:pv.fr)??{},gD=window.customTranslations&&window.customTranslations["pt-BR"]?window.customTranslations["pt-BR"]:{},vD={en:bs(rN,pD),es:bs(CN,hD),fr:bs(WN,mD),"pt-BR":bs(dD,gD)};W.use(V);const Ub=["en","fr"];var ks="en";if(document.documentElement.lang)ks=document.documentElement.lang;else{const t=navigator.languages[0];t&&(ks=t.split("-")[0],Ub.indexOf(ks)===-1&&(ks=null))}const Wb=new V({locale:ks,fallbackLocale:Ub[0],messages:vD}),Js=new W;W.mixin({computed:{...Rl(["device","previewReady"]),services(){return ba},isSitePublishable(){return this.$store.state.editorSettings.sitePublishable},currentSite(){return this.$store.state.site},currentI18nScope(){return`themes.${this.currentTheme.id}`},currentStyle(){return this.$store.state.style},currentStyleI18nScope(){return`${this.currentI18nScope}.style`},currentLocale(){return this.$store.state.locale},currentPage(){return this.$store.state.page},isCurrentPageIndex(){return this.services.page.isIndex(this.currentPage)},currentTheme(){return this.$store.state.theme},currentSection(){return this.$store.state.section},currentSectionI18nScope(){return`${this.currentI18nScope}.sections.${this.currentSection.type}`},currentSectionList(){return this.$store.getters.sectionList},currentSectionContent(){return this.$store.getters.sectionContent},currentSectionDefinition(){return this.$store.state.sectionDefinition},currentSectionSettings(){return this.$store.getters.sectionSettings(!1)},currentSectionAdvancedSettings(){return this.$store.getters.sectionSettings(!0)},currentSectionBlocks(){return this.$store.getters.sectionBlocks},currentSectionBlock(){return this.$store.state.sectionBlock},currentSectionBlockI18nScope(){return`${this.currentSectionI18nScope}.blocks.${this.currentSectionBlock.type}`},currentSectionBlockIndex(){return this.$store.getters.sectionBlockIndex},currentSectionBlockContent(){return this.$store.getters.sectionBlockContent},currentSectionBlockDefinition(){return this.$store.state.sectionBlockDefinition},currentSectionBlockSettings(){return this.$store.getters.sectionBlockSettings(!1)},currentSectionBlockAdvancedSettings(){return this.$store.getters.sectionBlockSettings(!0)},currentPageDefaultAttributes(){return this.$store.getters.defaultPageAttributes},hasMultipleLocales(){return this.$store.state.site.locales.length>1},currentContent(){return this.$store.getters.content},isDesktopDevice(){return this.device==="desktop"},isMobileDevice(){return this.device==="mobile"},isTabletDevice(){return this.device==="tablet"},deviceWidthMap(){return{mobile:375,tablet:1024}}},methods:{...ot(["setDevice","setLocale","fetchSite","fetchPage","fetchSection","fetchSectionBlock","setCurrentPageSettings"]),isBlank(t){return Pt(t)},openModal({title:t,component:e,props:n,listeners:r,closeOnClick:i}){Js.$emit("open",{title:t,component:e,props:n,listeners:r,closeOnClick:i})},closeModal(){Js.$emit("close")},$st(t){return this.$te(t)?this.$t(t):null}}});function Mn(t){"@babel/helpers - typeof";return Mn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mn(t)}function yD(t,e){if(Mn(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Mn(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kb(t){var e=yD(t,"string");return Mn(e)=="symbol"?e:e+""}function Li(t,e,n){return(e=Kb(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bD(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _D(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Kb(r.key),r)}}function wD(t,e,n){return e&&_D(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var yo=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",xD=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(yo&&navigator.userAgent.indexOf(t[e])>=0)return 1;return 0}();function SD(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}function CD(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},xD))}}var kD=yo&&window.Promise,ED=kD?SD:CD;function Gb(t){var e={};return t&&e.toString.call(t)==="[object Function]"}function ti(t,e){if(t.nodeType!==1)return[];var n=t.ownerDocument.defaultView,r=n.getComputedStyle(t,null);return e?r[e]:r}function _d(t){return t.nodeName==="HTML"?t:t.parentNode||t.host}function bo(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=ti(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?t:bo(_d(t))}function qb(t){return t&&t.referenceNode?t.referenceNode:t}var Wh=yo&&!!(window.MSInputMethodContext&&document.documentMode),Kh=yo&&/MSIE 10/.test(navigator.userAgent);function Zi(t){return t===11?Wh:t===10?Kh:Wh||Kh}function Bi(t){if(!t)return document.documentElement;for(var e=Zi(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var r=n&&n.nodeName;return!r||r==="BODY"||r==="HTML"?t?t.ownerDocument.documentElement:document.documentElement:["TH","TD","TABLE"].indexOf(n.nodeName)!==-1&&ti(n,"position")==="static"?Bi(n):n}function OD(t){var e=t.nodeName;return e==="BODY"?!1:e==="HTML"||Bi(t.firstElementChild)===t}function ju(t){return t.parentNode!==null?ju(t.parentNode):t}function sl(t,e){if(!t||!t.nodeType||!e||!e.nodeType)return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?t:e,i=n?e:t,s=document.createRange();s.setStart(r,0),s.setEnd(i,0);var o=s.commonAncestorContainer;if(t!==o&&e!==o||r.contains(i))return OD(o)?o:Bi(o);var a=ju(t);return a.host?sl(a.host,e):sl(t,ju(e).host)}function Fi(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top",n=e==="top"?"scrollTop":"scrollLeft",r=t.nodeName;if(r==="BODY"||r==="HTML"){var i=t.ownerDocument.documentElement,s=t.ownerDocument.scrollingElement||i;return s[n]}return t[n]}function TD(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=Fi(e,"top"),i=Fi(e,"left"),s=n?-1:1;return t.top+=r*s,t.bottom+=r*s,t.left+=i*s,t.right+=i*s,t}function Gh(t,e){var n=e==="x"?"Left":"Top",r=n==="Left"?"Right":"Bottom";return parseFloat(t["border"+n+"Width"])+parseFloat(t["border"+r+"Width"])}function qh(t,e,n,r){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],Zi(10)?parseInt(n["offset"+t])+parseInt(r["margin"+(t==="Height"?"Top":"Left")])+parseInt(r["margin"+(t==="Height"?"Bottom":"Right")]):0)}function Jb(t){var e=t.body,n=t.documentElement,r=Zi(10)&&getComputedStyle(n);return{height:qh("Height",e,n,r),width:qh("Width",e,n,r)}}var $D=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},ID=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),ji=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},zt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function ur(t){return zt({},t,{right:t.left+t.width,bottom:t.top+t.height})}function zu(t){var e={};try{if(Zi(10)){e=t.getBoundingClientRect();var n=Fi(t,"top"),r=Fi(t,"left");e.top+=n,e.left+=r,e.bottom+=n,e.right+=r}else e=t.getBoundingClientRect()}catch{}var i={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},s=t.nodeName==="HTML"?Jb(t.ownerDocument):{},o=s.width||t.clientWidth||i.width,a=s.height||t.clientHeight||i.height,l=t.offsetWidth-o,c=t.offsetHeight-a;if(l||c){var u=ti(t);l-=Gh(u,"x"),c-=Gh(u,"y"),i.width-=l,i.height-=c}return ur(i)}function wd(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=Zi(10),i=e.nodeName==="HTML",s=zu(t),o=zu(e),a=bo(t),l=ti(e),c=parseFloat(l.borderTopWidth),u=parseFloat(l.borderLeftWidth);n&&i&&(o.top=Math.max(o.top,0),o.left=Math.max(o.left,0));var f=ur({top:s.top-o.top-c,left:s.left-o.left-u,width:s.width,height:s.height});if(f.marginTop=0,f.marginLeft=0,!r&&i){var d=parseFloat(l.marginTop),p=parseFloat(l.marginLeft);f.top-=c-d,f.bottom-=c-d,f.left-=u-p,f.right-=u-p,f.marginTop=d,f.marginLeft=p}return(r&&!n?e.contains(a):e===a&&a.nodeName!=="BODY")&&(f=TD(f,e)),f}function PD(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=t.ownerDocument.documentElement,r=wd(t,n),i=Math.max(n.clientWidth,window.innerWidth||0),s=Math.max(n.clientHeight,window.innerHeight||0),o=e?0:Fi(n),a=e?0:Fi(n,"left"),l={top:o-r.top+r.marginTop,left:a-r.left+r.marginLeft,width:i,height:s};return ur(l)}function Yb(t){var e=t.nodeName;if(e==="BODY"||e==="HTML")return!1;if(ti(t,"position")==="fixed")return!0;var n=_d(t);return n?Yb(n):!1}function Xb(t){if(!t||!t.parentElement||Zi())return document.documentElement;for(var e=t.parentElement;e&&ti(e,"transform")==="none";)e=e.parentElement;return e||document.documentElement}function xd(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,s={top:0,left:0},o=i?Xb(t):sl(t,qb(e));if(r==="viewport")s=PD(o,i);else{var a=void 0;r==="scrollParent"?(a=bo(_d(e)),a.nodeName==="BODY"&&(a=t.ownerDocument.documentElement)):r==="window"?a=t.ownerDocument.documentElement:a=r;var l=wd(a,o,i);if(a.nodeName==="HTML"&&!Yb(o)){var c=Jb(t.ownerDocument),u=c.height,f=c.width;s.top+=l.top-l.marginTop,s.bottom=u+l.top,s.left+=l.left-l.marginLeft,s.right=f+l.left}else s=l}n=n||0;var d=typeof n=="number";return s.left+=d?n:n.left||0,s.top+=d?n:n.top||0,s.right-=d?n:n.right||0,s.bottom-=d?n:n.bottom||0,s}function AD(t){var e=t.width,n=t.height;return e*n}function Zb(t,e,n,r,i){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(t.indexOf("auto")===-1)return t;var o=xd(n,r,s,i),a={top:{width:o.width,height:e.top-o.top},right:{width:o.right-e.right,height:o.height},bottom:{width:o.width,height:o.bottom-e.bottom},left:{width:e.left-o.left,height:o.height}},l=Object.keys(a).map(function(d){return zt({key:d},a[d],{area:AD(a[d])})}).sort(function(d,p){return p.area-d.area}),c=l.filter(function(d){var p=d.width,h=d.height;return p>=n.clientWidth&&h>=n.clientHeight}),u=c.length>0?c[0].key:l[0].key,f=t.split("-")[1];return u+(f?"-"+f:"")}function Qb(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,i=r?Xb(e):sl(e,qb(n));return wd(n,i,r)}function e_(t){var e=t.ownerDocument.defaultView,n=e.getComputedStyle(t),r=parseFloat(n.marginTop||0)+parseFloat(n.marginBottom||0),i=parseFloat(n.marginLeft||0)+parseFloat(n.marginRight||0),s={width:t.offsetWidth+i,height:t.offsetHeight+r};return s}function ol(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(n){return e[n]})}function t_(t,e,n){n=n.split("-")[0];var r=e_(t),i={width:r.width,height:r.height},s=["right","left"].indexOf(n)!==-1,o=s?"top":"left",a=s?"left":"top",l=s?"height":"width",c=s?"width":"height";return i[o]=e[o]+e[l]/2-r[l]/2,n===a?i[a]=e[a]-r[c]:i[a]=e[ol(a)],i}function _o(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function MD(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(i){return i[e]===n});var r=_o(t,function(i){return i[e]===n});return t.indexOf(r)}function n_(t,e,n){var r=n===void 0?t:t.slice(0,MD(t,"name",n));return r.forEach(function(i){i.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var s=i.function||i.fn;i.enabled&&Gb(s)&&(e.offsets.popper=ur(e.offsets.popper),e.offsets.reference=ur(e.offsets.reference),e=s(e,i))}),e}function ND(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=Qb(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=Zb(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=t_(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=n_(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function r_(t,e){return t.some(function(n){var r=n.name,i=n.enabled;return i&&r===e})}function Sd(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<e.length;r++){var i=e[r],s=i?""+i+n:t;if(typeof document.body.style[s]<"u")return s}return null}function DD(){return this.state.isDestroyed=!0,r_(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Sd("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function i_(t){var e=t.ownerDocument;return e?e.defaultView:window}function s_(t,e,n,r){var i=t.nodeName==="BODY",s=i?t.ownerDocument.defaultView:t;s.addEventListener(e,n,{passive:!0}),i||s_(bo(s.parentNode),e,n,r),r.push(s)}function RD(t,e,n,r){n.updateBound=r,i_(t).addEventListener("resize",n.updateBound,{passive:!0});var i=bo(t);return s_(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function LD(){this.state.eventsEnabled||(this.state=RD(this.reference,this.options,this.state,this.scheduleUpdate))}function BD(t,e){return i_(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(n){n.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e}function FD(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=BD(this.reference,this.state))}function Cd(t){return t!==""&&!isNaN(parseFloat(t))&&isFinite(t)}function Vu(t,e){Object.keys(e).forEach(function(n){var r="";["width","height","top","right","bottom","left"].indexOf(n)!==-1&&Cd(e[n])&&(r="px"),t.style[n]=e[n]+r})}function jD(t,e){Object.keys(e).forEach(function(n){var r=e[n];r!==!1?t.setAttribute(n,e[n]):t.removeAttribute(n)})}function zD(t){return Vu(t.instance.popper,t.styles),jD(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&Vu(t.arrowElement,t.arrowStyles),t}function VD(t,e,n,r,i){var s=Qb(i,e,t,n.positionFixed),o=Zb(n.placement,s,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",o),Vu(e,{position:n.positionFixed?"fixed":"absolute"}),n}function HD(t,e){var n=t.offsets,r=n.popper,i=n.reference,s=Math.round,o=Math.floor,a=function(v){return v},l=s(i.width),c=s(r.width),u=["left","right"].indexOf(t.placement)!==-1,f=t.placement.indexOf("-")!==-1,d=l%2===c%2,p=l%2===1&&c%2===1,h=e?u||f||d?s:o:a,m=e?s:a;return{left:h(p&&!f&&e?r.left-1:r.left),top:m(r.top),bottom:m(r.bottom),right:h(r.right)}}var UD=yo&&/Firefox/i.test(navigator.userAgent);function WD(t,e){var n=e.x,r=e.y,i=t.offsets.popper,s=_o(t.instance.modifiers,function(k){return k.name==="applyStyle"}).gpuAcceleration;s!==void 0&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var o=s!==void 0?s:e.gpuAcceleration,a=Bi(t.instance.popper),l=zu(a),c={position:i.position},u=HD(t,window.devicePixelRatio<2||!UD),f=n==="bottom"?"top":"bottom",d=r==="right"?"left":"right",p=Sd("transform"),h=void 0,m=void 0;if(f==="bottom"?a.nodeName==="HTML"?m=-a.clientHeight+u.bottom:m=-l.height+u.bottom:m=u.top,d==="right"?a.nodeName==="HTML"?h=-a.clientWidth+u.right:h=-l.width+u.right:h=u.left,o&&p)c[p]="translate3d("+h+"px, "+m+"px, 0)",c[f]=0,c[d]=0,c.willChange="transform";else{var g=f==="bottom"?-1:1,v=d==="right"?-1:1;c[f]=m*g,c[d]=h*v,c.willChange=f+", "+d}var x={"x-placement":t.placement};return t.attributes=zt({},x,t.attributes),t.styles=zt({},c,t.styles),t.arrowStyles=zt({},t.offsets.arrow,t.arrowStyles),t}function o_(t,e,n){var r=_o(t,function(a){var l=a.name;return l===e}),i=!!r&&t.some(function(a){return a.name===n&&a.enabled&&a.order<r.order});if(!i){var s="`"+e+"`",o="`"+n+"`";console.warn(o+" modifier is required by "+s+" modifier in order to work, be sure to include it before "+s+"!")}return i}function KD(t,e){var n;if(!o_(t.instance.modifiers,"arrow","keepTogether"))return t;var r=e.element;if(typeof r=="string"){if(r=t.instance.popper.querySelector(r),!r)return t}else if(!t.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var i=t.placement.split("-")[0],s=t.offsets,o=s.popper,a=s.reference,l=["left","right"].indexOf(i)!==-1,c=l?"height":"width",u=l?"Top":"Left",f=u.toLowerCase(),d=l?"left":"top",p=l?"bottom":"right",h=e_(r)[c];a[p]-h<o[f]&&(t.offsets.popper[f]-=o[f]-(a[p]-h)),a[f]+h>o[p]&&(t.offsets.popper[f]+=a[f]+h-o[p]),t.offsets.popper=ur(t.offsets.popper);var m=a[f]+a[c]/2-h/2,g=ti(t.instance.popper),v=parseFloat(g["margin"+u]),x=parseFloat(g["border"+u+"Width"]),k=m-t.offsets.popper[f]-v-x;return k=Math.max(Math.min(o[c]-h,k),0),t.arrowElement=r,t.offsets.arrow=(n={},ji(n,f,Math.round(k)),ji(n,d,""),n),t}function GD(t){return t==="end"?"start":t==="start"?"end":t}var a_=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Ac=a_.slice(3);function Jh(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=Ac.indexOf(t),r=Ac.slice(n+1).concat(Ac.slice(0,n));return e?r.reverse():r}var Mc={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function qD(t,e){if(r_(t.instance.modifiers,"inner")||t.flipped&&t.placement===t.originalPlacement)return t;var n=xd(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),r=t.placement.split("-")[0],i=ol(r),s=t.placement.split("-")[1]||"",o=[];switch(e.behavior){case Mc.FLIP:o=[r,i];break;case Mc.CLOCKWISE:o=Jh(r);break;case Mc.COUNTERCLOCKWISE:o=Jh(r,!0);break;default:o=e.behavior}return o.forEach(function(a,l){if(r!==a||o.length===l+1)return t;r=t.placement.split("-")[0],i=ol(r);var c=t.offsets.popper,u=t.offsets.reference,f=Math.floor,d=r==="left"&&f(c.right)>f(u.left)||r==="right"&&f(c.left)<f(u.right)||r==="top"&&f(c.bottom)>f(u.top)||r==="bottom"&&f(c.top)<f(u.bottom),p=f(c.left)<f(n.left),h=f(c.right)>f(n.right),m=f(c.top)<f(n.top),g=f(c.bottom)>f(n.bottom),v=r==="left"&&p||r==="right"&&h||r==="top"&&m||r==="bottom"&&g,x=["top","bottom"].indexOf(r)!==-1,k=!!e.flipVariations&&(x&&s==="start"&&p||x&&s==="end"&&h||!x&&s==="start"&&m||!x&&s==="end"&&g),T=!!e.flipVariationsByContent&&(x&&s==="start"&&h||x&&s==="end"&&p||!x&&s==="start"&&g||!x&&s==="end"&&m),P=k||T;(d||v||P)&&(t.flipped=!0,(d||v)&&(r=o[l+1]),P&&(s=GD(s)),t.placement=r+(s?"-"+s:""),t.offsets.popper=zt({},t.offsets.popper,t_(t.instance.popper,t.offsets.reference,t.placement)),t=n_(t.instance.modifiers,t,"flip"))}),t}function JD(t){var e=t.offsets,n=e.popper,r=e.reference,i=t.placement.split("-")[0],s=Math.floor,o=["top","bottom"].indexOf(i)!==-1,a=o?"right":"bottom",l=o?"left":"top",c=o?"width":"height";return n[a]<s(r[l])&&(t.offsets.popper[l]=s(r[l])-n[c]),n[l]>s(r[a])&&(t.offsets.popper[l]=s(r[a])),t}function YD(t,e,n,r){var i=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),s=+i[1],o=i[2];if(!s)return t;if(o.indexOf("%")===0){var a=void 0;switch(o){case"%p":a=n;break;case"%":case"%r":default:a=r}var l=ur(a);return l[e]/100*s}else if(o==="vh"||o==="vw"){var c=void 0;return o==="vh"?c=Math.max(document.documentElement.clientHeight,window.innerHeight||0):c=Math.max(document.documentElement.clientWidth,window.innerWidth||0),c/100*s}else return s}function XD(t,e,n,r){var i=[0,0],s=["right","left"].indexOf(r)!==-1,o=t.split(/(\+|\-)/).map(function(u){return u.trim()}),a=o.indexOf(_o(o,function(u){return u.search(/,|\s/)!==-1}));o[a]&&o[a].indexOf(",")===-1&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=a!==-1?[o.slice(0,a).concat([o[a].split(l)[0]]),[o[a].split(l)[1]].concat(o.slice(a+1))]:[o];return c=c.map(function(u,f){var d=(f===1?!s:s)?"height":"width",p=!1;return u.reduce(function(h,m){return h[h.length-1]===""&&["+","-"].indexOf(m)!==-1?(h[h.length-1]=m,p=!0,h):p?(h[h.length-1]+=m,p=!1,h):h.concat(m)},[]).map(function(h){return YD(h,d,e,n)})}),c.forEach(function(u,f){u.forEach(function(d,p){Cd(d)&&(i[f]+=d*(u[p-1]==="-"?-1:1))})}),i}function ZD(t,e){var n=e.offset,r=t.placement,i=t.offsets,s=i.popper,o=i.reference,a=r.split("-")[0],l=void 0;return Cd(+n)?l=[+n,0]:l=XD(n,s,o,a),a==="left"?(s.top+=l[0],s.left-=l[1]):a==="right"?(s.top+=l[0],s.left+=l[1]):a==="top"?(s.left+=l[0],s.top-=l[1]):a==="bottom"&&(s.left+=l[0],s.top+=l[1]),t.popper=s,t}function QD(t,e){var n=e.boundariesElement||Bi(t.instance.popper);t.instance.reference===n&&(n=Bi(n));var r=Sd("transform"),i=t.instance.popper.style,s=i.top,o=i.left,a=i[r];i.top="",i.left="",i[r]="";var l=xd(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);i.top=s,i.left=o,i[r]=a,e.boundaries=l;var c=e.priority,u=t.offsets.popper,f={primary:function(p){var h=u[p];return u[p]<l[p]&&!e.escapeWithReference&&(h=Math.max(u[p],l[p])),ji({},p,h)},secondary:function(p){var h=p==="right"?"left":"top",m=u[h];return u[p]>l[p]&&!e.escapeWithReference&&(m=Math.min(u[h],l[p]-(p==="right"?u.width:u.height))),ji({},h,m)}};return c.forEach(function(d){var p=["left","top"].indexOf(d)!==-1?"primary":"secondary";u=zt({},u,f[p](d))}),t.offsets.popper=u,t}function eR(t){var e=t.placement,n=e.split("-")[0],r=e.split("-")[1];if(r){var i=t.offsets,s=i.reference,o=i.popper,a=["bottom","top"].indexOf(n)!==-1,l=a?"left":"top",c=a?"width":"height",u={start:ji({},l,s[l]),end:ji({},l,s[l]+s[c]-o[c])};t.offsets.popper=zt({},o,u[r])}return t}function tR(t){if(!o_(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=_o(t.instance.modifiers,function(r){return r.name==="preventOverflow"}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(t.hide===!0)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(t.hide===!1)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}function nR(t){var e=t.placement,n=e.split("-")[0],r=t.offsets,i=r.popper,s=r.reference,o=["left","right"].indexOf(n)!==-1,a=["top","left"].indexOf(n)===-1;return i[o?"left":"top"]=s[n]-(a?i[o?"width":"height"]:0),t.placement=ol(e),t.offsets.popper=ur(i),t}var rR={shift:{order:100,enabled:!0,fn:eR},offset:{order:200,enabled:!0,fn:ZD,offset:0},preventOverflow:{order:300,enabled:!0,fn:QD,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:JD},arrow:{order:500,enabled:!0,fn:KD,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:qD,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:nR},hide:{order:800,enabled:!0,fn:tR},computeStyle:{order:850,enabled:!0,fn:WD,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:zD,onLoad:VD,gpuAcceleration:void 0}},iR={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:rR},wo=function(){function t(e,n){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};$D(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=ED(this.update.bind(this)),this.options=zt({},t.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(zt({},t.Defaults.modifiers,i.modifiers)).forEach(function(o){r.options.modifiers[o]=zt({},t.Defaults.modifiers[o]||{},i.modifiers?i.modifiers[o]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(o){return zt({name:o},r.options.modifiers[o])}).sort(function(o,a){return o.order-a.order}),this.modifiers.forEach(function(o){o.enabled&&Gb(o.onLoad)&&o.onLoad(r.reference,r.popper,r.options,o,r.state)}),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return ID(t,[{key:"update",value:function(){return ND.call(this)}},{key:"destroy",value:function(){return DD.call(this)}},{key:"enableEventListeners",value:function(){return LD.call(this)}},{key:"disableEventListeners",value:function(){return FD.call(this)}}]),t}();wo.Utils=(typeof window<"u"?window:global).PopperUtils;wo.placements=a_;wo.Defaults=iR;function sR(){this.__data__=[],this.size=0}var oR=sR;function aR(t,e){return t===e||t!==t&&e!==e}var xo=aR,lR=xo;function cR(t,e){for(var n=t.length;n--;)if(lR(t[n][0],e))return n;return-1}var Gl=cR,uR=Gl,fR=Array.prototype,dR=fR.splice;function pR(t){var e=this.__data__,n=uR(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():dR.call(e,n,1),--this.size,!0}var hR=pR,mR=Gl;function gR(t){var e=this.__data__,n=mR(e,t);return n<0?void 0:e[n][1]}var vR=gR,yR=Gl;function bR(t){return yR(this.__data__,t)>-1}var _R=bR,wR=Gl;function xR(t,e){var n=this.__data__,r=wR(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var SR=xR,CR=oR,kR=hR,ER=vR,OR=_R,TR=SR;function Qi(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Qi.prototype.clear=CR;Qi.prototype.delete=kR;Qi.prototype.get=ER;Qi.prototype.has=OR;Qi.prototype.set=TR;var ql=Qi,$R=ql;function IR(){this.__data__=new $R,this.size=0}var PR=IR;function AR(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var MR=AR;function NR(t){return this.__data__.get(t)}var DR=NR;function RR(t){return this.__data__.has(t)}var LR=RR,BR=typeof Or=="object"&&Or&&Or.Object===Object&&Or,l_=BR,FR=l_,jR=typeof self=="object"&&self&&self.Object===Object&&self,zR=FR||jR||Function("return this")(),bn=zR,VR=bn,HR=VR.Symbol,kd=HR,Yh=kd,c_=Object.prototype,UR=c_.hasOwnProperty,WR=c_.toString,gs=Yh?Yh.toStringTag:void 0;function KR(t){var e=UR.call(t,gs),n=t[gs];try{t[gs]=void 0;var r=!0}catch{}var i=WR.call(t);return r&&(e?t[gs]=n:delete t[gs]),i}var GR=KR,qR=Object.prototype,JR=qR.toString;function YR(t){return JR.call(t)}var XR=YR,Xh=kd,ZR=GR,QR=XR,eL="[object Null]",tL="[object Undefined]",Zh=Xh?Xh.toStringTag:void 0;function nL(t){return t==null?t===void 0?tL:eL:Zh&&Zh in Object(t)?ZR(t):QR(t)}var So=nL;function rL(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ni=rL,iL=So,sL=ni,oL="[object AsyncFunction]",aL="[object Function]",lL="[object GeneratorFunction]",cL="[object Proxy]";function uL(t){if(!sL(t))return!1;var e=iL(t);return e==aL||e==lL||e==oL||e==cL}var Ed=uL,fL=bn,dL=fL["__core-js_shared__"],pL=dL,Nc=pL,Qh=function(){var t=/[^.]+$/.exec(Nc&&Nc.keys&&Nc.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function hL(t){return!!Qh&&Qh in t}var mL=hL,gL=Function.prototype,vL=gL.toString;function yL(t){if(t!=null){try{return vL.call(t)}catch{}try{return t+""}catch{}}return""}var u_=yL,bL=Ed,_L=mL,wL=ni,xL=u_,SL=/[\\^$.*+?()[\]{}|]/g,CL=/^\[object .+?Constructor\]$/,kL=Function.prototype,EL=Object.prototype,OL=kL.toString,TL=EL.hasOwnProperty,$L=RegExp("^"+OL.call(TL).replace(SL,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function IL(t){if(!wL(t)||_L(t))return!1;var e=bL(t)?$L:CL;return e.test(xL(t))}var PL=IL;function AL(t,e){return t==null?void 0:t[e]}var ML=AL,NL=PL,DL=ML;function RL(t,e){var n=DL(t,e);return NL(n)?n:void 0}var ri=RL,LL=ri,BL=bn,FL=LL(BL,"Map"),Od=FL,jL=ri,zL=jL(Object,"create"),Jl=zL,em=Jl;function VL(){this.__data__=em?em(null):{},this.size=0}var HL=VL;function UL(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var WL=UL,KL=Jl,GL="__lodash_hash_undefined__",qL=Object.prototype,JL=qL.hasOwnProperty;function YL(t){var e=this.__data__;if(KL){var n=e[t];return n===GL?void 0:n}return JL.call(e,t)?e[t]:void 0}var XL=YL,ZL=Jl,QL=Object.prototype,eB=QL.hasOwnProperty;function tB(t){var e=this.__data__;return ZL?e[t]!==void 0:eB.call(e,t)}var nB=tB,rB=Jl,iB="__lodash_hash_undefined__";function sB(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=rB&&e===void 0?iB:e,this}var oB=sB,aB=HL,lB=WL,cB=XL,uB=nB,fB=oB;function es(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}es.prototype.clear=aB;es.prototype.delete=lB;es.prototype.get=cB;es.prototype.has=uB;es.prototype.set=fB;var dB=es,tm=dB,pB=ql,hB=Od;function mB(){this.size=0,this.__data__={hash:new tm,map:new(hB||pB),string:new tm}}var gB=mB;function vB(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var yB=vB,bB=yB;function _B(t,e){var n=t.__data__;return bB(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Yl=_B,wB=Yl;function xB(t){var e=wB(this,t).delete(t);return this.size-=e?1:0,e}var SB=xB,CB=Yl;function kB(t){return CB(this,t).get(t)}var EB=kB,OB=Yl;function TB(t){return OB(this,t).has(t)}var $B=TB,IB=Yl;function PB(t,e){var n=IB(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var AB=PB,MB=gB,NB=SB,DB=EB,RB=$B,LB=AB;function ts(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ts.prototype.clear=MB;ts.prototype.delete=NB;ts.prototype.get=DB;ts.prototype.has=RB;ts.prototype.set=LB;var f_=ts,BB=ql,FB=Od,jB=f_,zB=200;function VB(t,e){var n=this.__data__;if(n instanceof BB){var r=n.__data__;if(!FB||r.length<zB-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new jB(r)}return n.set(t,e),this.size=n.size,this}var HB=VB,UB=ql,WB=PR,KB=MR,GB=DR,qB=LR,JB=HB;function ns(t){var e=this.__data__=new UB(t);this.size=e.size}ns.prototype.clear=WB;ns.prototype.delete=KB;ns.prototype.get=GB;ns.prototype.has=qB;ns.prototype.set=JB;var d_=ns,YB="__lodash_hash_undefined__";function XB(t){return this.__data__.set(t,YB),this}var ZB=XB;function QB(t){return this.__data__.has(t)}var eF=QB,tF=f_,nF=ZB,rF=eF;function al(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new tF;++e<n;)this.add(t[e])}al.prototype.add=al.prototype.push=nF;al.prototype.has=rF;var iF=al;function sF(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var oF=sF;function aF(t,e){return t.has(e)}var lF=aF,cF=iF,uF=oF,fF=lF,dF=1,pF=2;function hF(t,e,n,r,i,s){var o=n&dF,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(t),u=s.get(e);if(c&&u)return c==e&&u==t;var f=-1,d=!0,p=n&pF?new cF:void 0;for(s.set(t,e),s.set(e,t);++f<a;){var h=t[f],m=e[f];if(r)var g=o?r(m,h,f,e,t,s):r(h,m,f,t,e,s);if(g!==void 0){if(g)continue;d=!1;break}if(p){if(!uF(e,function(v,x){if(!fF(p,x)&&(h===v||i(h,v,n,r,s)))return p.push(x)})){d=!1;break}}else if(!(h===m||i(h,m,n,r,s))){d=!1;break}}return s.delete(t),s.delete(e),d}var p_=hF,mF=bn,gF=mF.Uint8Array,h_=gF;function vF(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var yF=vF;function bF(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var _F=bF,nm=kd,rm=h_,wF=xo,xF=p_,SF=yF,CF=_F,kF=1,EF=2,OF="[object Boolean]",TF="[object Date]",$F="[object Error]",IF="[object Map]",PF="[object Number]",AF="[object RegExp]",MF="[object Set]",NF="[object String]",DF="[object Symbol]",RF="[object ArrayBuffer]",LF="[object DataView]",im=nm?nm.prototype:void 0,Dc=im?im.valueOf:void 0;function BF(t,e,n,r,i,s,o){switch(n){case LF:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case RF:return!(t.byteLength!=e.byteLength||!s(new rm(t),new rm(e)));case OF:case TF:case PF:return wF(+t,+e);case $F:return t.name==e.name&&t.message==e.message;case AF:case NF:return t==e+"";case IF:var a=SF;case MF:var l=r&kF;if(a||(a=CF),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;r|=EF,o.set(t,e);var u=xF(a(t),a(e),r,i,s,o);return o.delete(t),u;case DF:if(Dc)return Dc.call(t)==Dc.call(e)}return!1}var FF=BF;function jF(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var zF=jF,VF=Array.isArray,Xl=VF,HF=zF,UF=Xl;function WF(t,e,n){var r=e(t);return UF(t)?r:HF(r,n(t))}var KF=WF;function GF(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var qF=GF;function JF(){return[]}var YF=JF,XF=qF,ZF=YF,QF=Object.prototype,ej=QF.propertyIsEnumerable,sm=Object.getOwnPropertySymbols,tj=sm?function(t){return t==null?[]:(t=Object(t),XF(sm(t),function(e){return ej.call(t,e)}))}:ZF,nj=tj;function rj(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var ij=rj;function sj(t){return t!=null&&typeof t=="object"}var rs=sj,oj=So,aj=rs,lj="[object Arguments]";function cj(t){return aj(t)&&oj(t)==lj}var uj=cj,om=uj,fj=rs,m_=Object.prototype,dj=m_.hasOwnProperty,pj=m_.propertyIsEnumerable,hj=om(function(){return arguments}())?om:function(t){return fj(t)&&dj.call(t,"callee")&&!pj.call(t,"callee")},g_=hj,ll={exports:{}};function mj(){return!1}var gj=mj;ll.exports;(function(t,e){var n=bn,r=gj,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;t.exports=c})(ll,ll.exports);var Td=ll.exports,vj=9007199254740991,yj=/^(?:0|[1-9]\d*)$/;function bj(t,e){var n=typeof t;return e=e??vj,!!e&&(n=="number"||n!="symbol"&&yj.test(t))&&t>-1&&t%1==0&&t<e}var v_=bj,_j=9007199254740991;function wj(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=_j}var y_=wj,xj=So,Sj=y_,Cj=rs,kj="[object Arguments]",Ej="[object Array]",Oj="[object Boolean]",Tj="[object Date]",$j="[object Error]",Ij="[object Function]",Pj="[object Map]",Aj="[object Number]",Mj="[object Object]",Nj="[object RegExp]",Dj="[object Set]",Rj="[object String]",Lj="[object WeakMap]",Bj="[object ArrayBuffer]",Fj="[object DataView]",jj="[object Float32Array]",zj="[object Float64Array]",Vj="[object Int8Array]",Hj="[object Int16Array]",Uj="[object Int32Array]",Wj="[object Uint8Array]",Kj="[object Uint8ClampedArray]",Gj="[object Uint16Array]",qj="[object Uint32Array]",xe={};xe[jj]=xe[zj]=xe[Vj]=xe[Hj]=xe[Uj]=xe[Wj]=xe[Kj]=xe[Gj]=xe[qj]=!0;xe[kj]=xe[Ej]=xe[Bj]=xe[Oj]=xe[Fj]=xe[Tj]=xe[$j]=xe[Ij]=xe[Pj]=xe[Aj]=xe[Mj]=xe[Nj]=xe[Dj]=xe[Rj]=xe[Lj]=!1;function Jj(t){return Cj(t)&&Sj(t.length)&&!!xe[xj(t)]}var Yj=Jj;function Xj(t){return function(e){return t(e)}}var Zj=Xj,cl={exports:{}};cl.exports;(function(t,e){var n=l_,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(cl,cl.exports);var Qj=cl.exports,e2=Yj,t2=Zj,am=Qj,lm=am&&am.isTypedArray,n2=lm?t2(lm):e2,$d=n2,r2=ij,i2=g_,s2=Xl,o2=Td,a2=v_,l2=$d,c2=Object.prototype,u2=c2.hasOwnProperty;function f2(t,e){var n=s2(t),r=!n&&i2(t),i=!n&&!r&&o2(t),s=!n&&!r&&!i&&l2(t),o=n||r||i||s,a=o?r2(t.length,String):[],l=a.length;for(var c in t)(e||u2.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||a2(c,l)))&&a.push(c);return a}var b_=f2,d2=Object.prototype;function p2(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||d2;return t===n}var Id=p2;function h2(t,e){return function(n){return t(e(n))}}var __=h2,m2=__,g2=m2(Object.keys,Object),v2=g2,y2=Id,b2=v2,_2=Object.prototype,w2=_2.hasOwnProperty;function x2(t){if(!y2(t))return b2(t);var e=[];for(var n in Object(t))w2.call(t,n)&&n!="constructor"&&e.push(n);return e}var S2=x2,C2=Ed,k2=y_;function E2(t){return t!=null&&k2(t.length)&&!C2(t)}var Zl=E2,O2=b_,T2=S2,$2=Zl;function I2(t){return $2(t)?O2(t):T2(t)}var P2=I2,A2=KF,M2=nj,N2=P2;function D2(t){return A2(t,N2,M2)}var R2=D2,cm=R2,L2=1,B2=Object.prototype,F2=B2.hasOwnProperty;function j2(t,e,n,r,i,s){var o=n&L2,a=cm(t),l=a.length,c=cm(e),u=c.length;if(l!=u&&!o)return!1;for(var f=l;f--;){var d=a[f];if(!(o?d in e:F2.call(e,d)))return!1}var p=s.get(t),h=s.get(e);if(p&&h)return p==e&&h==t;var m=!0;s.set(t,e),s.set(e,t);for(var g=o;++f<l;){d=a[f];var v=t[d],x=e[d];if(r)var k=o?r(x,v,d,e,t,s):r(v,x,d,t,e,s);if(!(k===void 0?v===x||i(v,x,n,r,s):k)){m=!1;break}g||(g=d=="constructor")}if(m&&!g){var T=t.constructor,P=e.constructor;T!=P&&"constructor"in t&&"constructor"in e&&!(typeof T=="function"&&T instanceof T&&typeof P=="function"&&P instanceof P)&&(m=!1)}return s.delete(t),s.delete(e),m}var z2=j2,V2=ri,H2=bn,U2=V2(H2,"DataView"),W2=U2,K2=ri,G2=bn,q2=K2(G2,"Promise"),J2=q2,Y2=ri,X2=bn,Z2=Y2(X2,"Set"),Q2=Z2,ez=ri,tz=bn,nz=ez(tz,"WeakMap"),rz=nz,Hu=W2,Uu=Od,Wu=J2,Ku=Q2,Gu=rz,w_=So,is=u_,um="[object Map]",iz="[object Object]",fm="[object Promise]",dm="[object Set]",pm="[object WeakMap]",hm="[object DataView]",sz=is(Hu),oz=is(Uu),az=is(Wu),lz=is(Ku),cz=is(Gu),Cr=w_;(Hu&&Cr(new Hu(new ArrayBuffer(1)))!=hm||Uu&&Cr(new Uu)!=um||Wu&&Cr(Wu.resolve())!=fm||Ku&&Cr(new Ku)!=dm||Gu&&Cr(new Gu)!=pm)&&(Cr=function(t){var e=w_(t),n=e==iz?t.constructor:void 0,r=n?is(n):"";if(r)switch(r){case sz:return hm;case oz:return um;case az:return fm;case lz:return dm;case cz:return pm}return e});var uz=Cr,Rc=d_,fz=p_,dz=FF,pz=z2,mm=uz,gm=Xl,vm=Td,hz=$d,mz=1,ym="[object Arguments]",bm="[object Array]",qo="[object Object]",gz=Object.prototype,_m=gz.hasOwnProperty;function vz(t,e,n,r,i,s){var o=gm(t),a=gm(e),l=o?bm:mm(t),c=a?bm:mm(e);l=l==ym?qo:l,c=c==ym?qo:c;var u=l==qo,f=c==qo,d=l==c;if(d&&vm(t)){if(!vm(e))return!1;o=!0,u=!1}if(d&&!u)return s||(s=new Rc),o||hz(t)?fz(t,e,n,r,i,s):dz(t,e,l,n,r,i,s);if(!(n&mz)){var p=u&&_m.call(t,"__wrapped__"),h=f&&_m.call(e,"__wrapped__");if(p||h){var m=p?t.value():t,g=h?e.value():e;return s||(s=new Rc),i(m,g,n,r,s)}}return d?(s||(s=new Rc),pz(t,e,n,r,i,s)):!1}var yz=vz,bz=yz,wm=rs;function x_(t,e,n,r,i){return t===e?!0:t==null||e==null||!wm(t)&&!wm(e)?t!==t&&e!==e:bz(t,e,n,r,x_,i)}var _z=x_,wz=_z;function xz(t,e){return wz(t,e)}var Sz=xz;const Cz=cd(Sz);function kz(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);var n=t.indexOf("Trident/");if(n>0){var r=t.indexOf("rv:");return parseInt(t.substring(r+3,t.indexOf(".",r)),10)}var i=t.indexOf("Edge/");return i>0?parseInt(t.substring(i+5,t.indexOf(".",i)),10):-1}var _a;function qu(){qu.init||(qu.init=!0,_a=kz()!==-1)}var Ez={name:"ResizeObserver",props:{emitOnMount:{type:Boolean,default:!1},ignoreWidth:{type:Boolean,default:!1},ignoreHeight:{type:Boolean,default:!1}},mounted:function(){var e=this;qu(),this.$nextTick(function(){e._w=e.$el.offsetWidth,e._h=e.$el.offsetHeight,e.emitOnMount&&e.emitSize()});var n=document.createElement("object");this._resizeObject=n,n.setAttribute("aria-hidden","true"),n.setAttribute("tabindex",-1),n.onload=this.addResizeHandlers,n.type="text/html",_a&&this.$el.appendChild(n),n.data="about:blank",_a||this.$el.appendChild(n)},beforeDestroy:function(){this.removeResizeHandlers()},methods:{compareAndNotify:function(){(!this.ignoreWidth&&this._w!==this.$el.offsetWidth||!this.ignoreHeight&&this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitSize())},emitSize:function(){this.$emit("notify",{width:this._w,height:this._h})},addResizeHandlers:function(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers:function(){this._resizeObject&&this._resizeObject.onload&&(!_a&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),this.$el.removeChild(this._resizeObject),this._resizeObject.onload=null,this._resizeObject=null)}}};function Oz(t,e,n,r,i,s,o,a,l,c){var u=typeof n=="function"?n.options:n;return t&&t.render&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0),u._scopeId=r,n}var Tz=Ez,S_=function(){var e=this,n=e.$createElement,r=e._self._c||n;return r("div",{staticClass:"resize-observer",attrs:{tabindex:"-1"}})},$z=[];S_._withStripped=!0;var Iz=void 0,Pz="data-v-8859cc6c",Ju=Oz({render:S_,staticRenderFns:$z},Iz,Tz,Pz);function Az(t){t.component("resize-observer",Ju),t.component("ResizeObserver",Ju)}var Mz={version:"1.0.1",install:Az},ul=null;typeof window<"u"?ul=window.Vue:typeof global<"u"&&(ul=global.Vue);ul&&ul.use(Mz);var Nz=ri,Dz=function(){try{var t=Nz(Object,"defineProperty");return t({},"",{}),t}catch{}}(),C_=Dz,xm=C_;function Rz(t,e,n){e=="__proto__"&&xm?xm(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Pd=Rz,Lz=Pd,Bz=xo;function Fz(t,e,n){(n!==void 0&&!Bz(t[e],n)||n===void 0&&!(e in t))&&Lz(t,e,n)}var k_=Fz;function jz(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var zz=jz,Vz=zz,Hz=Vz(),Uz=Hz,fl={exports:{}};fl.exports;(function(t,e){var n=bn,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(c,u){if(u)return c.slice();var f=c.length,d=a?a(f):new c.constructor(f);return c.copy(d),d}t.exports=l})(fl,fl.exports);var Wz=fl.exports,Sm=h_;function Kz(t){var e=new t.constructor(t.byteLength);return new Sm(e).set(new Sm(t)),e}var Gz=Kz,qz=Gz;function Jz(t,e){var n=e?qz(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var Yz=Jz;function Xz(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var Zz=Xz,Qz=ni,Cm=Object.create,eV=function(){function t(){}return function(e){if(!Qz(e))return{};if(Cm)return Cm(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),tV=eV,nV=__,rV=nV(Object.getPrototypeOf,Object),E_=rV,iV=tV,sV=E_,oV=Id;function aV(t){return typeof t.constructor=="function"&&!oV(t)?iV(sV(t)):{}}var lV=aV,cV=Zl,uV=rs;function fV(t){return uV(t)&&cV(t)}var dV=fV,pV=So,hV=E_,mV=rs,gV="[object Object]",vV=Function.prototype,yV=Object.prototype,O_=vV.toString,bV=yV.hasOwnProperty,_V=O_.call(Object);function wV(t){if(!mV(t)||pV(t)!=gV)return!1;var e=hV(t);if(e===null)return!0;var n=bV.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&O_.call(n)==_V}var xV=wV;function SV(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var T_=SV,CV=Pd,kV=xo,EV=Object.prototype,OV=EV.hasOwnProperty;function TV(t,e,n){var r=t[e];(!(OV.call(t,e)&&kV(r,n))||n===void 0&&!(e in t))&&CV(t,e,n)}var $V=TV,IV=$V,PV=Pd;function AV(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?PV(n,a,l):IV(n,a,l)}return n}var MV=AV;function NV(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var DV=NV,RV=ni,LV=Id,BV=DV,FV=Object.prototype,jV=FV.hasOwnProperty;function zV(t){if(!RV(t))return BV(t);var e=LV(t),n=[];for(var r in t)r=="constructor"&&(e||!jV.call(t,r))||n.push(r);return n}var VV=zV,HV=b_,UV=VV,WV=Zl;function KV(t){return WV(t)?HV(t,!0):UV(t)}var $_=KV,GV=MV,qV=$_;function JV(t){return GV(t,qV(t))}var YV=JV,km=k_,XV=Wz,ZV=Yz,QV=Zz,eH=lV,Em=g_,Om=Xl,tH=dV,nH=Td,rH=Ed,iH=ni,sH=xV,oH=$d,Tm=T_,aH=YV;function lH(t,e,n,r,i,s,o){var a=Tm(t,n),l=Tm(e,n),c=o.get(l);if(c){km(t,n,c);return}var u=s?s(a,l,n+"",t,e,o):void 0,f=u===void 0;if(f){var d=Om(l),p=!d&&nH(l),h=!d&&!p&&oH(l);u=l,d||p||h?Om(a)?u=a:tH(a)?u=QV(a):p?(f=!1,u=XV(l,!0)):h?(f=!1,u=ZV(l,!0)):u=[]:sH(l)||Em(l)?(u=a,Em(a)?u=aH(a):(!iH(a)||rH(a))&&(u=eH(l))):f=!1}f&&(o.set(l,u),i(u,l,r,s,o),o.delete(l)),km(t,n,u)}var cH=lH,uH=d_,fH=k_,dH=Uz,pH=cH,hH=ni,mH=$_,gH=T_;function I_(t,e,n,r,i){t!==e&&dH(e,function(s,o){if(i||(i=new uH),hH(s))pH(t,e,o,n,I_,r,i);else{var a=r?r(gH(t,o),s,o+"",t,e,i):void 0;a===void 0&&(a=s),fH(t,o,a)}},mH)}var vH=I_;function yH(t){return t}var P_=yH;function bH(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var _H=bH,wH=_H,$m=Math.max;function xH(t,e,n){return e=$m(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=$m(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),wH(t,this,a)}}var SH=xH;function CH(t){return function(){return t}}var kH=CH,EH=kH,Im=C_,OH=P_,TH=Im?function(t,e){return Im(t,"toString",{configurable:!0,enumerable:!1,value:EH(e),writable:!0})}:OH,$H=TH,IH=800,PH=16,AH=Date.now;function MH(t){var e=0,n=0;return function(){var r=AH(),i=PH-(r-n);if(n=r,i>0){if(++e>=IH)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var NH=MH,DH=$H,RH=NH,LH=RH(DH),BH=LH,FH=P_,jH=SH,zH=BH;function VH(t,e){return zH(jH(t,e,FH),t+"")}var HH=VH,UH=xo,WH=Zl,KH=v_,GH=ni;function qH(t,e,n){if(!GH(n))return!1;var r=typeof e;return(r=="number"?WH(n)&&KH(e,n.length):r=="string"&&e in n)?UH(n[e],t):!1}var JH=qH,YH=HH,XH=JH;function ZH(t){return YH(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&XH(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var QH=ZH,eU=vH,tU=QH,nU=tU(function(t,e,n){eU(t,e,n)}),rU=nU;const iU=cd(rU);var Ad=function(){};typeof window<"u"&&(Ad=window.SVGAnimatedString);function Oi(t){return typeof t=="string"&&(t=t.split(" ")),t}function Es(t,e){var n=Oi(e),r;t.className instanceof Ad?r=Oi(t.className.baseVal):r=Oi(t.className),n.forEach(function(i){r.indexOf(i)===-1&&r.push(i)}),t instanceof SVGElement?t.setAttribute("class",r.join(" ")):t.className=r.join(" ")}function Yu(t,e){var n=Oi(e),r;t.className instanceof Ad?r=Oi(t.className.baseVal):r=Oi(t.className),n.forEach(function(i){var s=r.indexOf(i);s!==-1&&r.splice(s,1)}),t instanceof SVGElement?t.setAttribute("class",r.join(" ")):t.className=r.join(" ")}var Ys=!1;if(typeof window<"u"){Ys=!1;try{var sU=Object.defineProperty({},"passive",{get:function(){Ys=!0}});window.addEventListener("test",null,sU)}catch{}}function Pm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pm(Object(n),!0).forEach(function(r){Li(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var oU={container:!1,delay:0,html:!1,placement:"top",title:"",template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",offset:0},Rs=[],aU=function(){function t(e,n){var r=this;bD(this,t),Li(this,"_events",[]),Li(this,"_setTooltipNodeEvent",function(i,s,o,a){var l=i.relatedreference||i.toElement||i.relatedTarget,c=function u(f){var d=f.relatedreference||f.toElement||f.relatedTarget;r._tooltipNode.removeEventListener(i.type,u),s.contains(d)||r._scheduleHide(s,a.delay,a,f)};return r._tooltipNode.contains(l)?(r._tooltipNode.addEventListener(i.type,c),!0):!1}),n=pi(pi({},oU),n),e.jquery&&(e=e[0]),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.reference=e,this.options=n,this._isOpen=!1,this._init()}return wD(t,[{key:"show",value:function(){this._show(this.reference,this.options)}},{key:"hide",value:function(){this._hide()}},{key:"dispose",value:function(){this._dispose()}},{key:"toggle",value:function(){return this._isOpen?this.hide():this.show()}},{key:"setClasses",value:function(n){this._classes=n}},{key:"setContent",value:function(n){this.options.title=n,this._tooltipNode&&this._setContent(n,this.options)}},{key:"setOptions",value:function(n){var r=!1,i=n&&n.classes||he.options.defaultClass;Cz(this._classes,i)||(this.setClasses(i),r=!0),n=M_(n);var s=!1,o=!1;(this.options.offset!==n.offset||this.options.placement!==n.placement)&&(s=!0),(this.options.template!==n.template||this.options.trigger!==n.trigger||this.options.container!==n.container||r)&&(o=!0);for(var a in n)this.options[a]=n[a];if(this._tooltipNode)if(o){var l=this._isOpen;this.dispose(),this._init(),l&&this.show()}else s&&this.popperInstance.update()}},{key:"_init",value:function(){var n=typeof this.options.trigger=="string"?this.options.trigger.split(" "):[];this._isDisposed=!1,this._enableDocumentTouch=n.indexOf("manual")===-1,n=n.filter(function(r){return["click","hover","focus"].indexOf(r)!==-1}),this._setEventListeners(this.reference,n,this.options),this.$_originalTitle=this.reference.getAttribute("title"),this.reference.removeAttribute("title"),this.reference.setAttribute("data-original-title",this.$_originalTitle)}},{key:"_create",value:function(n,r){var i=this,s=window.document.createElement("div");s.innerHTML=r.trim();var o=s.childNodes[0];return o.id=this.options.ariaId||"tooltip_".concat(Math.random().toString(36).substr(2,10)),o.setAttribute("aria-hidden","true"),this.options.autoHide&&this.options.trigger.indexOf("hover")!==-1&&(o.addEventListener("mouseenter",function(a){return i._scheduleHide(n,i.options.delay,i.options,a)}),o.addEventListener("click",function(a){return i._scheduleHide(n,i.options.delay,i.options,a)})),o}},{key:"_setContent",value:function(n,r){var i=this;this.asyncContent=!1,this._applyContent(n,r).then(function(){i.popperInstance&&i.popperInstance.update()})}},{key:"_applyContent",value:function(n,r){var i=this;return new Promise(function(s,o){var a=r.html,l=i._tooltipNode;if(l){var c=l.querySelector(i.options.innerSelector);if(n.nodeType===1){if(a){for(;c.firstChild;)c.removeChild(c.firstChild);c.appendChild(n)}}else if(typeof n=="function"){var u=n();u&&typeof u.then=="function"?(i.asyncContent=!0,r.loadingClass&&Es(l,r.loadingClass),r.loadingContent&&i._applyContent(r.loadingContent,r),u.then(function(f){return r.loadingClass&&Yu(l,r.loadingClass),i._applyContent(f,r)}).then(s).catch(o)):i._applyContent(u,r).then(s).catch(o);return}else a?c.innerHTML=n:c.innerText=n;s()}})}},{key:"_show",value:function(n,r){if(r&&typeof r.container=="string"){var i=document.querySelector(r.container);if(!i)return}clearTimeout(this._disposeTimer),r=Object.assign({},r),delete r.offset;var s=!0;this._tooltipNode&&(Es(this._tooltipNode,this._classes),s=!1);var o=this._ensureShown(n,r);return s&&this._tooltipNode&&Es(this._tooltipNode,this._classes),Es(n,["v-tooltip-open"]),o}},{key:"_ensureShown",value:function(n,r){var i=this;if(this._isOpen)return this;if(this._isOpen=!0,Rs.push(this),this._tooltipNode)return this._tooltipNode.style.display="",this._tooltipNode.setAttribute("aria-hidden","false"),this.popperInstance.enableEventListeners(),this.popperInstance.update(),this.asyncContent&&this._setContent(r.title,r),this;var s=n.getAttribute("title")||r.title;if(!s)return this;var o=this._create(n,r.template);this._tooltipNode=o,n.setAttribute("aria-describedby",o.id);var a=this._findContainer(r.container,n);this._append(o,a);var l=pi(pi({},r.popperOptions),{},{placement:r.placement});return l.modifiers=pi(pi({},l.modifiers),{},{arrow:{element:this.options.arrowSelector}}),r.boundariesElement&&(l.modifiers.preventOverflow={boundariesElement:r.boundariesElement}),this.popperInstance=new wo(n,o,l),this._setContent(s,r),requestAnimationFrame(function(){!i._isDisposed&&i.popperInstance?(i.popperInstance.update(),requestAnimationFrame(function(){i._isDisposed?i.dispose():i._isOpen&&o.setAttribute("aria-hidden","false")})):i.dispose()}),this}},{key:"_noLongerOpen",value:function(){var n=Rs.indexOf(this);n!==-1&&Rs.splice(n,1)}},{key:"_hide",value:function(){var n=this;if(!this._isOpen)return this;this._isOpen=!1,this._noLongerOpen(),this._tooltipNode.style.display="none",this._tooltipNode.setAttribute("aria-hidden","true"),this.popperInstance&&this.popperInstance.disableEventListeners(),clearTimeout(this._disposeTimer);var r=he.options.disposeTimeout;return r!==null&&(this._disposeTimer=setTimeout(function(){n._tooltipNode&&(n._tooltipNode.removeEventListener("mouseenter",n.hide),n._tooltipNode.removeEventListener("click",n.hide),n._removeTooltipNode())},r)),Yu(this.reference,["v-tooltip-open"]),this}},{key:"_removeTooltipNode",value:function(){if(this._tooltipNode){var n=this._tooltipNode.parentNode;n&&(n.removeChild(this._tooltipNode),this.reference.removeAttribute("aria-describedby")),this._tooltipNode=null}}},{key:"_dispose",value:function(){var n=this;return this._isDisposed=!0,this.reference.removeAttribute("data-original-title"),this.$_originalTitle&&this.reference.setAttribute("title",this.$_originalTitle),this._events.forEach(function(r){var i=r.func,s=r.event;n.reference.removeEventListener(s,i)}),this._events=[],this._tooltipNode?(this._hide(),this._tooltipNode.removeEventListener("mouseenter",this.hide),this._tooltipNode.removeEventListener("click",this.hide),this.popperInstance.destroy(),this.popperInstance.options.removeOnDestroy||this._removeTooltipNode()):this._noLongerOpen(),this}},{key:"_findContainer",value:function(n,r){return typeof n=="string"?n=window.document.querySelector(n):n===!1&&(n=r.parentNode),n}},{key:"_append",value:function(n,r){r.appendChild(n)}},{key:"_setEventListeners",value:function(n,r,i){var s=this,o=[],a=[];r.forEach(function(l){switch(l){case"hover":o.push("mouseenter"),a.push("mouseleave"),s.options.hideOnTargetClick&&a.push("click");break;case"focus":o.push("focus"),a.push("blur"),s.options.hideOnTargetClick&&a.push("click");break;case"click":o.push("click"),a.push("click");break}}),o.forEach(function(l){var c=function(f){s._isOpen!==!0&&(f.usedByTooltip=!0,s._scheduleShow(n,i.delay,i,f))};s._events.push({event:l,func:c}),n.addEventListener(l,c)}),a.forEach(function(l){var c=function(f){f.usedByTooltip!==!0&&s._scheduleHide(n,i.delay,i,f)};s._events.push({event:l,func:c}),n.addEventListener(l,c)})}},{key:"_onDocumentTouch",value:function(n){this._enableDocumentTouch&&this._scheduleHide(this.reference,this.options.delay,this.options,n)}},{key:"_scheduleShow",value:function(n,r,i){var s=this,o=r&&r.show||r||0;clearTimeout(this._scheduleTimer),this._scheduleTimer=window.setTimeout(function(){return s._show(n,i)},o)}},{key:"_scheduleHide",value:function(n,r,i,s){var o=this,a=r&&r.hide||r||0;clearTimeout(this._scheduleTimer),this._scheduleTimer=window.setTimeout(function(){if(o._isOpen!==!1&&o._tooltipNode.ownerDocument.body.contains(o._tooltipNode)){if(s.type==="mouseleave"){var l=o._setTooltipNodeEvent(s,n,r,i);if(l)return}o._hide(n,i)}},a)}}]),t}();typeof document<"u"&&document.addEventListener("touchstart",function(t){for(var e=0;e<Rs.length;e++)Rs[e]._onDocumentTouch(t)},Ys?{passive:!0,capture:!0}:!0);function Am(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ti(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Am(Object(n),!0).forEach(function(r){Li(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Am(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Xu={enabled:!0},Mm=["top","top-start","top-end","right","right-start","right-end","bottom","bottom-start","bottom-end","left","left-start","left-end"],A_={defaultPlacement:"top",defaultClass:"vue-tooltip-theme",defaultTargetClass:"has-tooltip",defaultHtml:!0,defaultTemplate:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',defaultArrowSelector:".tooltip-arrow, .tooltip__arrow",defaultInnerSelector:".tooltip-inner, .tooltip__inner",defaultDelay:0,defaultTrigger:"hover focus",defaultOffset:0,defaultContainer:"body",defaultBoundariesElement:void 0,defaultPopperOptions:{},defaultLoadingClass:"tooltip-loading",defaultLoadingContent:"...",autoHide:!0,defaultHideOnTargetClick:!0,disposeTimeout:5e3,popover:{defaultPlacement:"bottom",defaultClass:"vue-popover-theme",defaultBaseClass:"tooltip popover",defaultWrapperClass:"wrapper",defaultInnerClass:"tooltip-inner popover-inner",defaultArrowClass:"tooltip-arrow popover-arrow",defaultOpenClass:"open",defaultDelay:0,defaultTrigger:"click",defaultOffset:0,defaultContainer:"body",defaultBoundariesElement:void 0,defaultPopperOptions:{},defaultAutoHide:!0,defaultHandleResize:!0}};function M_(t){var e={placement:typeof t.placement<"u"?t.placement:he.options.defaultPlacement,delay:typeof t.delay<"u"?t.delay:he.options.defaultDelay,html:typeof t.html<"u"?t.html:he.options.defaultHtml,template:typeof t.template<"u"?t.template:he.options.defaultTemplate,arrowSelector:typeof t.arrowSelector<"u"?t.arrowSelector:he.options.defaultArrowSelector,innerSelector:typeof t.innerSelector<"u"?t.innerSelector:he.options.defaultInnerSelector,trigger:typeof t.trigger<"u"?t.trigger:he.options.defaultTrigger,offset:typeof t.offset<"u"?t.offset:he.options.defaultOffset,container:typeof t.container<"u"?t.container:he.options.defaultContainer,boundariesElement:typeof t.boundariesElement<"u"?t.boundariesElement:he.options.defaultBoundariesElement,autoHide:typeof t.autoHide<"u"?t.autoHide:he.options.autoHide,hideOnTargetClick:typeof t.hideOnTargetClick<"u"?t.hideOnTargetClick:he.options.defaultHideOnTargetClick,loadingClass:typeof t.loadingClass<"u"?t.loadingClass:he.options.defaultLoadingClass,loadingContent:typeof t.loadingContent<"u"?t.loadingContent:he.options.defaultLoadingContent,popperOptions:Ti({},typeof t.popperOptions<"u"?t.popperOptions:he.options.defaultPopperOptions)};if(e.offset){var n=Mn(e.offset),r=e.offset;(n==="number"||n==="string"&&r.indexOf(",")===-1)&&(r="0, ".concat(r)),e.popperOptions.modifiers||(e.popperOptions.modifiers={}),e.popperOptions.modifiers.offset={offset:r}}return e.trigger&&e.trigger.indexOf("click")!==-1&&(e.hideOnTargetClick=!1),e}function N_(t,e){for(var n=t.placement,r=0;r<Mm.length;r++){var i=Mm[r];e[i]&&(n=i)}return n}function D_(t){var e=Mn(t);return e==="string"?t:t&&e==="object"?t.content:!1}function lU(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=D_(e),i=typeof e.classes<"u"?e.classes:he.options.defaultClass,s=Ti({title:r},M_(Ti(Ti({},Mn(e)==="object"?e:{}),{},{placement:N_(e,n)}))),o=t._tooltip=new aU(t,s);o.setClasses(i),o._vueEl=t;var a=typeof e.targetClasses<"u"?e.targetClasses:he.options.defaultTargetClass;return t._tooltipTargetClasses=a,Es(t,a),o}function R_(t){t._tooltip&&(t._tooltip.dispose(),delete t._tooltip,delete t._tooltipOldShow),t._tooltipTargetClasses&&(Yu(t,t._tooltipTargetClasses),delete t._tooltipTargetClasses)}function Nm(t,e){var n=e.value;e.oldValue;var r=e.modifiers,i=D_(n);if(!i||!Xu.enabled)R_(t);else{var s;t._tooltip?(s=t._tooltip,s.setContent(i),s.setOptions(Ti(Ti({},n),{},{placement:N_(n,r)}))):s=lU(t,n,r),typeof n.show<"u"&&n.show!==t._tooltipOldShow&&(t._tooltipOldShow=n.show,n.show?s.show():s.hide())}}var he={options:A_,bind:Nm,update:Nm,unbind:function(e){R_(e)}};function Dm(t){t.addEventListener("click",L_),t.addEventListener("touchstart",B_,Ys?{passive:!0}:!1)}function Rm(t){t.removeEventListener("click",L_),t.removeEventListener("touchstart",B_),t.removeEventListener("touchend",F_),t.removeEventListener("touchcancel",j_)}function L_(t){var e=t.currentTarget;t.closePopover=!e.$_vclosepopover_touch,t.closeAllPopover=e.$_closePopoverModifiers&&!!e.$_closePopoverModifiers.all}function B_(t){if(t.changedTouches.length===1){var e=t.currentTarget;e.$_vclosepopover_touch=!0;var n=t.changedTouches[0];e.$_vclosepopover_touchPoint=n,e.addEventListener("touchend",F_),e.addEventListener("touchcancel",j_)}}function F_(t){var e=t.currentTarget;if(e.$_vclosepopover_touch=!1,t.changedTouches.length===1){var n=t.changedTouches[0],r=e.$_vclosepopover_touchPoint;t.closePopover=Math.abs(n.screenY-r.screenY)<20&&Math.abs(n.screenX-r.screenX)<20,t.closeAllPopover=e.$_closePopoverModifiers&&!!e.$_closePopoverModifiers.all}}function j_(t){var e=t.currentTarget;e.$_vclosepopover_touch=!1}var cU={bind:function(e,n){var r=n.value,i=n.modifiers;e.$_closePopoverModifiers=i,(typeof r>"u"||r)&&Dm(e)},update:function(e,n){var r=n.value,i=n.oldValue,s=n.modifiers;e.$_closePopoverModifiers=s,r!==i&&(typeof r>"u"||r?Dm(e):Rm(e))},unbind:function(e){Rm(e)}};function Lm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lm(Object(n),!0).forEach(function(r){Li(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ln(t){var e=he.options.popover[t];return typeof e>"u"?he.options[t]:e}var z_=!1;typeof window<"u"&&typeof navigator<"u"&&(z_=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream);var kr=[],Zu=function(){};typeof window<"u"&&(Zu=window.Element);var uU={name:"VPopover",components:{ResizeObserver:Ju},props:{open:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placement:{type:String,default:function(){return Ln("defaultPlacement")}},delay:{type:[String,Number,Object],default:function(){return Ln("defaultDelay")}},offset:{type:[String,Number],default:function(){return Ln("defaultOffset")}},trigger:{type:String,default:function(){return Ln("defaultTrigger")}},container:{type:[String,Object,Zu,Boolean],default:function(){return Ln("defaultContainer")}},boundariesElement:{type:[String,Zu],default:function(){return Ln("defaultBoundariesElement")}},popperOptions:{type:Object,default:function(){return Ln("defaultPopperOptions")}},popoverClass:{type:[String,Array],default:function(){return Ln("defaultClass")}},popoverBaseClass:{type:[String,Array],default:function(){return he.options.popover.defaultBaseClass}},popoverInnerClass:{type:[String,Array],default:function(){return he.options.popover.defaultInnerClass}},popoverWrapperClass:{type:[String,Array],default:function(){return he.options.popover.defaultWrapperClass}},popoverArrowClass:{type:[String,Array],default:function(){return he.options.popover.defaultArrowClass}},autoHide:{type:Boolean,default:function(){return he.options.popover.defaultAutoHide}},handleResize:{type:Boolean,default:function(){return he.options.popover.defaultHandleResize}},openGroup:{type:String,default:null},openClass:{type:[String,Array],default:function(){return he.options.popover.defaultOpenClass}},ariaId:{default:null}},data:function(){return{isOpen:!1,id:Math.random().toString(36).substr(2,10)}},computed:{cssClass:function(){return Li({},this.openClass,this.isOpen)},popoverId:function(){return"popover_".concat(this.ariaId!=null?this.ariaId:this.id)}},watch:{open:function(e){e?this.show():this.hide()},disabled:function(e,n){e!==n&&(e?this.hide():this.open&&this.show())},container:function(e){if(this.isOpen&&this.popperInstance){var n=this.$refs.popover,r=this.$refs.trigger,i=this.$_findContainer(this.container,r);if(!i){console.warn("No container for popover",this);return}i.appendChild(n),this.popperInstance.scheduleUpdate()}},trigger:function(e){this.$_removeEventListeners(),this.$_addEventListeners()},placement:function(e){var n=this;this.$_updatePopper(function(){n.popperInstance.options.placement=e})},offset:"$_restartPopper",boundariesElement:"$_restartPopper",popperOptions:{handler:"$_restartPopper",deep:!0}},created:function(){this.$_isDisposed=!1,this.$_mounted=!1,this.$_events=[],this.$_preventOpen=!1},mounted:function(){var e=this.$refs.popover;e.parentNode&&e.parentNode.removeChild(e),this.$_init(),this.open&&this.show()},deactivated:function(){this.hide()},beforeDestroy:function(){this.dispose()},methods:{show:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.event;n.skipDelay;var i=n.force,s=i===void 0?!1:i;(s||!this.disabled)&&(this.$_scheduleShow(r),this.$emit("show")),this.$emit("update:open",!0),this.$_beingShowed=!0,requestAnimationFrame(function(){e.$_beingShowed=!1})},hide:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.event;e.skipDelay,this.$_scheduleHide(n),this.$emit("hide"),this.$emit("update:open",!1)},dispose:function(){if(this.$_isDisposed=!0,this.$_removeEventListeners(),this.hide({skipDelay:!0}),this.popperInstance&&(this.popperInstance.destroy(),!this.popperInstance.options.removeOnDestroy)){var e=this.$refs.popover;e.parentNode&&e.parentNode.removeChild(e)}this.$_mounted=!1,this.popperInstance=null,this.isOpen=!1,this.$emit("dispose")},$_init:function(){this.trigger.indexOf("manual")===-1&&this.$_addEventListeners()},$_show:function(){var e=this,n=this.$refs.trigger,r=this.$refs.popover;if(clearTimeout(this.$_disposeTimer),!this.isOpen){if(this.popperInstance&&(this.isOpen=!0,this.popperInstance.enableEventListeners(),this.popperInstance.scheduleUpdate()),!this.$_mounted){var i=this.$_findContainer(this.container,n);if(!i){console.warn("No container for popover",this);return}i.appendChild(r),this.$_mounted=!0,this.isOpen=!1,this.popperInstance&&requestAnimationFrame(function(){e.hidden||(e.isOpen=!0)})}if(!this.popperInstance){var s=ln(ln({},this.popperOptions),{},{placement:this.placement});if(s.modifiers=ln(ln({},s.modifiers),{},{arrow:ln(ln({},s.modifiers&&s.modifiers.arrow),{},{element:this.$refs.arrow})}),this.offset){var o=this.$_getOffset();s.modifiers.offset=ln(ln({},s.modifiers&&s.modifiers.offset),{},{offset:o})}this.boundariesElement&&(s.modifiers.preventOverflow=ln(ln({},s.modifiers&&s.modifiers.preventOverflow),{},{boundariesElement:this.boundariesElement})),this.popperInstance=new wo(n,r,s),requestAnimationFrame(function(){if(e.hidden){e.hidden=!1,e.$_hide();return}!e.$_isDisposed&&e.popperInstance?(e.popperInstance.scheduleUpdate(),requestAnimationFrame(function(){if(e.hidden){e.hidden=!1,e.$_hide();return}e.$_isDisposed?e.dispose():e.isOpen=!0})):e.dispose()})}var a=this.openGroup;if(a)for(var l,c=0;c<kr.length;c++)l=kr[c],l.openGroup!==a&&(l.hide(),l.$emit("close-group"));kr.push(this),this.$emit("apply-show")}},$_hide:function(){var e=this;if(this.isOpen){var n=kr.indexOf(this);n!==-1&&kr.splice(n,1),this.isOpen=!1,this.popperInstance&&this.popperInstance.disableEventListeners(),clearTimeout(this.$_disposeTimer);var r=he.options.popover.disposeTimeout||he.options.disposeTimeout;r!==null&&(this.$_disposeTimer=setTimeout(function(){var i=e.$refs.popover;i&&(i.parentNode&&i.parentNode.removeChild(i),e.$_mounted=!1)},r)),this.$emit("apply-hide")}},$_findContainer:function(e,n){return typeof e=="string"?e=window.document.querySelector(e):e===!1&&(e=n.parentNode),e},$_getOffset:function(){var e=Mn(this.offset),n=this.offset;return(e==="number"||e==="string"&&n.indexOf(",")===-1)&&(n="0, ".concat(n)),n},$_addEventListeners:function(){var e=this,n=this.$refs.trigger,r=[],i=[],s=typeof this.trigger=="string"?this.trigger.split(" ").filter(function(o){return["click","hover","focus"].indexOf(o)!==-1}):[];s.forEach(function(o){switch(o){case"hover":r.push("mouseenter"),i.push("mouseleave");break;case"focus":r.push("focus"),i.push("blur");break;case"click":r.push("click"),i.push("click");break}}),r.forEach(function(o){var a=function(c){e.isOpen||(c.usedByTooltip=!0,!e.$_preventOpen&&e.show({event:c}),e.hidden=!1)};e.$_events.push({event:o,func:a}),n.addEventListener(o,a)}),i.forEach(function(o){var a=function(c){c.usedByTooltip||(e.hide({event:c}),e.hidden=!0)};e.$_events.push({event:o,func:a}),n.addEventListener(o,a)})},$_scheduleShow:function(){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(clearTimeout(this.$_scheduleTimer),e)this.$_show();else{var n=parseInt(this.delay&&this.delay.show||this.delay||0);this.$_scheduleTimer=setTimeout(this.$_show.bind(this),n)}},$_scheduleHide:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(clearTimeout(this.$_scheduleTimer),r)this.$_hide();else{var i=parseInt(this.delay&&this.delay.hide||this.delay||0);this.$_scheduleTimer=setTimeout(function(){if(e.isOpen){if(n&&n.type==="mouseleave"){var s=e.$_setTooltipNodeEvent(n);if(s)return}e.$_hide()}},i)}},$_setTooltipNodeEvent:function(e){var n=this,r=this.$refs.trigger,i=this.$refs.popover,s=e.relatedreference||e.toElement||e.relatedTarget,o=function a(l){var c=l.relatedreference||l.toElement||l.relatedTarget;i.removeEventListener(e.type,a),r.contains(c)||n.hide({event:l})};return i.contains(s)?(i.addEventListener(e.type,o),!0):!1},$_removeEventListeners:function(){var e=this.$refs.trigger;this.$_events.forEach(function(n){var r=n.func,i=n.event;e.removeEventListener(i,r)}),this.$_events=[]},$_updatePopper:function(e){this.popperInstance&&(e(),this.isOpen&&this.popperInstance.scheduleUpdate())},$_restartPopper:function(){if(this.popperInstance){var e=this.isOpen;this.dispose(),this.$_isDisposed=!1,this.$_init(),e&&this.show({skipDelay:!0,force:!0})}},$_handleGlobalClose:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.$_beingShowed||(this.hide({event:e}),e.closePopover?this.$emit("close-directive"):this.$emit("auto-hide"),r&&(this.$_preventOpen=!0,setTimeout(function(){n.$_preventOpen=!1},300)))},$_handleResize:function(){this.isOpen&&this.popperInstance&&(this.popperInstance.scheduleUpdate(),this.$emit("resize"))}}};typeof document<"u"&&typeof window<"u"&&(z_?document.addEventListener("touchend",dU,Ys?{passive:!0,capture:!0}:!0):window.addEventListener("click",fU,!0));function fU(t){V_(t)}function dU(t){V_(t,!0)}function V_(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=function(s){var o=kr[s];if(o.$refs.popover){var a=o.$refs.popover.contains(t.target);requestAnimationFrame(function(){(t.closeAllPopover||t.closePopover&&a||o.autoHide&&!a)&&o.$_handleGlobalClose(t,e)})}},r=0;r<kr.length;r++)n(r)}function pU(t,e,n,r,i,s,o,a,l,c){const u=typeof n=="function"?n.options:n;return t&&t.render&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0),n}var hU=uU,H_=function(){var e=this,n=e.$createElement,r=e._self._c||n;return r("div",{staticClass:"v-popover",class:e.cssClass},[r("div",{ref:"trigger",staticClass:"trigger",staticStyle:{display:"inline-block"},attrs:{"aria-describedby":e.isOpen?e.popoverId:void 0,tabindex:e.trigger.indexOf("focus")!==-1?0:void 0}},[e._t("default")],2),e._v(" "),r("div",{ref:"popover",class:[e.popoverBaseClass,e.popoverClass,e.cssClass],style:{visibility:e.isOpen?"visible":"hidden"},attrs:{id:e.popoverId,"aria-hidden":e.isOpen?"false":"true",tabindex:e.autoHide?0:void 0},on:{keyup:function(s){if(!s.type.indexOf("key")&&e._k(s.keyCode,"esc",27,s.key,["Esc","Escape"]))return null;e.autoHide&&e.hide()}}},[r("div",{class:e.popoverWrapperClass},[r("div",{ref:"inner",class:e.popoverInnerClass,staticStyle:{position:"relative"}},[r("div",[e._t("popover",null,{isOpen:e.isOpen})],2),e._v(" "),e.handleResize?r("ResizeObserver",{on:{notify:e.$_handleResize}}):e._e()],1),e._v(" "),r("div",{ref:"arrow",class:e.popoverArrowClass})])])])},mU=[];H_._withStripped=!0;var gU=void 0,U_=pU({render:H_,staticRenderFns:mU},gU,hU);function vU(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var yU=".resize-observer[data-v-8859cc6c]{position:absolute;top:0;left:0;z-index:-1;width:100%;height:100%;border:none;background-color:transparent;pointer-events:none;display:block;overflow:hidden;opacity:0}.resize-observer[data-v-8859cc6c] object{display:block;position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1}";vU(yU);function Qu(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Qu.installed){Qu.installed=!0;var n={};iU(n,A_,e),Md.options=n,he.options=n,t.directive("tooltip",he),t.directive("close-popover",cU),t.component("VPopover",U_)}}var bU=U_,Md={install:Qu,get enabled(){return Xu.enabled},set enabled(t){Xu.enabled=t}},dl=null;typeof window<"u"?dl=window.Vue:typeof global<"u"&&(dl=global.Vue);dl&&dl.use(Md);W.use(Md);W.filter("numberToHumanSize",t=>Sk(t,Wb));W.filter("truncate",Ok);W.filter("formatPath",Ik);const _U="modulepreload",wU=function(t){return"/maglev-assets-dev/"+t},Bm={},K=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=wU(l),l in Bm)return;Bm[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":_U,c||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((d,p)=>{f.addEventListener("load",d),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},xU={name:"UIKitIcon",props:{name:{type:String},size:{type:String,default:"1.25rem"},spin:{type:Boolean,default:!1},bounce:{type:Boolean,default:!1},library:{type:String,default:"remixicons"}},data(){return{icons:Object.assign({"../../assets/remixicons/add-box-line.svg":()=>K(()=>import("./add-box-line-telTNiLV.js"),[]),"../../assets/remixicons/arrow-down-s-line.svg":()=>K(()=>import("./arrow-down-s-line-Kw2yHWZV.js"),[]),"../../assets/remixicons/arrow-drop-left.svg":()=>K(()=>import("./arrow-drop-left-Y2n5toeZ.js"),[]),"../../assets/remixicons/arrow-drop-right.svg":()=>K(()=>import("./arrow-drop-right-CI3vsp_x.js"),[]),"../../assets/remixicons/arrow-up-s-line.svg":()=>K(()=>import("./arrow-up-s-line-CsPRcIrt.js"),[]),"../../assets/remixicons/camera-line.svg":()=>K(()=>import("./camera-line-DgGgP1vY.js"),[]),"../../assets/remixicons/close-line.svg":()=>K(()=>import("./close-line-BKmNo2zg.js"),[]),"../../assets/remixicons/computer-line.svg":()=>K(()=>import("./computer-line-Dq0U04v5.js"),[]),"../../assets/remixicons/delete-bin-line.svg":()=>K(()=>import("./delete-bin-line-BY1mZkaS.js"),[]),"../../assets/remixicons/file-line.svg":()=>K(()=>import("./file-line-BPRwBHUn.js"),[]),"../../assets/remixicons/format-blockquote.svg":()=>K(()=>import("./format-blockquote-B7GsLXcG.js"),[]),"../../assets/remixicons/format-bold.svg":()=>K(()=>import("./format-bold-D-wy4oG8.js"),[]),"../../assets/remixicons/format-code.svg":()=>K(()=>import("./format-code-DECDhnb1.js"),[]),"../../assets/remixicons/format-heading-2.svg":()=>K(()=>import("./format-heading-2-BKBRHt6w.js"),[]),"../../assets/remixicons/format-heading-3.svg":()=>K(()=>import("./format-heading-3-B4bJLl7Z.js"),[]),"../../assets/remixicons/format-heading-4.svg":()=>K(()=>import("./format-heading-4-BgWdgiGO.js"),[]),"../../assets/remixicons/format-italic.svg":()=>K(()=>import("./format-italic-PdJj7F9t.js"),[]),"../../assets/remixicons/format-link-unlink.svg":()=>K(()=>import("./format-link-unlink-BY0bWZeT.js"),[]),"../../assets/remixicons/format-link.svg":()=>K(()=>import("./format-link-BDpwkNrF.js"),[]),"../../assets/remixicons/format-list-ordered.svg":()=>K(()=>import("./format-list-ordered-DdM8dBLK.js"),[]),"../../assets/remixicons/format-list-unordered.svg":()=>K(()=>import("./format-list-unordered-CFB0cW_S.js"),[]),"../../assets/remixicons/format-paragraph.svg":()=>K(()=>import("./format-paragraph-BqxVdQEv.js"),[]),"../../assets/remixicons/format-strikethrough.svg":()=>K(()=>import("./format-strikethrough-BC7ohXyi.js"),[]),"../../assets/remixicons/format-underline.svg":()=>K(()=>import("./format-underline-CWDxEHJG.js"),[]),"../../assets/remixicons/home-4-line.svg":()=>K(()=>import("./home-4-line-DbpzpuV9.js"),[]),"../../assets/remixicons/image-line.svg":()=>K(()=>import("./image-line-Dmp-bDXw.js"),[]),"../../assets/remixicons/logout-box-r-line.svg":()=>K(()=>import("./logout-box-r-line-C0eFqn_A.js"),[]),"../../assets/remixicons/ri-add-line.svg":()=>K(()=>import("./ri-add-line-B9lkjZHo.js"),[]),"../../assets/remixicons/ri-alert-line.svg":()=>K(()=>import("./ri-alert-line-CKohRcZ2.js"),[]),"../../assets/remixicons/ri-book-line.svg":()=>K(()=>import("./ri-book-line-DGEuJcvp.js"),[]),"../../assets/remixicons/ri-bug-line.svg":()=>K(()=>import("./ri-bug-line-_IyaHs5N.js"),[]),"../../assets/remixicons/ri-check-line.svg":()=>K(()=>import("./ri-check-line-C44Qs-YB.js"),[]),"../../assets/remixicons/ri-close-circle-line.svg":()=>K(()=>import("./ri-close-circle-line-BOuEcDDS.js"),[]),"../../assets/remixicons/ri-close-line.svg":()=>K(()=>import("./ri-close-line-BKmNo2zg.js"),[]),"../../assets/remixicons/ri-delete-column.svg":()=>K(()=>import("./ri-delete-column-B0pTHl7U.js"),[]),"../../assets/remixicons/ri-delete-row.svg":()=>K(()=>import("./ri-delete-row-C8IDLnCL.js"),[]),"../../assets/remixicons/ri-drop-line.svg":()=>K(()=>import("./ri-drop-line-BFFp23Te.js"),[]),"../../assets/remixicons/ri-external-link-line.svg":()=>K(()=>import("./ri-external-link-line-Cxu2m47-.js"),[]),"../../assets/remixicons/ri-eye-line.svg":()=>K(()=>import("./ri-eye-line-DKhUHvhk.js"),[]),"../../assets/remixicons/ri-eye-off-line.svg":()=>K(()=>import("./ri-eye-off-line-wheoXpTc.js"),[]),"../../assets/remixicons/ri-file-copy-line.svg":()=>K(()=>import("./ri-file-copy-line-BlynWS3x.js"),[]),"../../assets/remixicons/ri-file-line.svg":()=>K(()=>import("./ri-file-line-BPRwBHUn.js"),[]),"../../assets/remixicons/ri-global-line.svg":()=>K(()=>import("./ri-global-line-DAJYkful.js"),[]),"../../assets/remixicons/ri-insert-column-left.svg":()=>K(()=>import("./ri-insert-column-left-BILyj2a5.js"),[]),"../../assets/remixicons/ri-insert-column-right.svg":()=>K(()=>import("./ri-insert-column-right-CeHFgx4y.js"),[]),"../../assets/remixicons/ri-insert-row-bottom.svg":()=>K(()=>import("./ri-insert-row-bottom-CkBP5JK1.js"),[]),"../../assets/remixicons/ri-insert-row-top.svg":()=>K(()=>import("./ri-insert-row-top-ujhu0zpg.js"),[]),"../../assets/remixicons/ri-loader-4-line.svg":()=>K(()=>import("./ri-loader-4-line-BtUtxakW.js"),[]),"../../assets/remixicons/ri-mail-line.svg":()=>K(()=>import("./ri-mail-line-Cq0d4Xy6.js"),[]),"../../assets/remixicons/ri-more-2-fill.svg":()=>K(()=>import("./ri-more-2-fill-BqCwhbm7.js"),[]),"../../assets/remixicons/ri-palette-line.svg":()=>K(()=>import("./ri-palette-line-DiNjJa-l.js"),[]),"../../assets/remixicons/ri-pencil-line.svg":()=>K(()=>import("./ri-pencil-line-BmcaoQ8H.js"),[]),"../../assets/remixicons/ri-play-list-add-line.svg":()=>K(()=>import("./ri-play-list-add-line-CSNAigSO.js"),[]),"../../assets/remixicons/ri-settings-5-line.svg":()=>K(()=>import("./ri-settings-5-line-CmzF_rCD.js"),[]),"../../assets/remixicons/ri-stack-line.svg":()=>K(()=>import("./ri-stack-line-BmieQNDd.js"),[]),"../../assets/remixicons/ri-table-2.svg":()=>K(()=>import("./ri-table-2-CgOPZ-F-.js"),[]),"../../assets/remixicons/ri-table-line.svg":()=>K(()=>import("./ri-table-line-CZTq0QsX.js"),[]),"../../assets/remixicons/search-line.svg":()=>K(()=>import("./search-line-OzwXuyms.js"),[]),"../../assets/remixicons/settings-4-line.svg":()=>K(()=>import("./settings-4-line-DmkEuN9y.js"),[]),"../../assets/remixicons/smartphone-line.svg":()=>K(()=>import("./smartphone-line-CKuY61Fb.js"),[]),"../../assets/remixicons/tablet-line.svg":()=>K(()=>import("./tablet-line-BIjxME-P.js"),[])})}},computed:{icon(){return Kv(()=>this.icons[`../../assets/${this.library}/${this.name}.svg`]())}}};var SU=function(){var e=this,n=e._self._c;return n(e.icon,e._b({tag:"component",staticClass:"fill-current",class:{"animate-spin":e.spin,"animate-bounce":e.bounce},style:{width:e.size,height:e.size},attrs:{viewBox:"0 0 24 24"}},"component",e.$attrs,!1))},CU=[],kU=A(xU,SU,CU,!1,null,null);const EU=kU.exports,OU={name:"UIKitModalRoot",data(){return{stack:[]}},created(){Js.$on("open",({component:t,title:e="",props:n=null,listeners:r={},closeOnClick:i=!0})=>{this.stack.push({component:t,title:e,props:n,listeners:r,closeOnClick:i})}),Js.$on("close",()=>this.handleClose()),document.addEventListener("keyup",this.handleKeyup)},beforeDestroy(){document.removeEventListener("keyup",this.handleKeyup)},computed:{currentModal(){return this.stack.length===0?null:this.stack[this.stack.length-1]},title(){var t;return(t=this.currentModal)==null?void 0:t.title},containerClass(){var t,e;return(e=(t=this.currentModal)==null?void 0:t.props)==null?void 0:e.modalClass}},methods:{handleOutsideClick(t){!this.closeOnClick&&!t||this.handleClose()},handleKeyup(t){t.keyCode===27&&this.handleClose()},handleClose(){this.currentModal&&this.stack.pop()},getModalProps(t){const{modalClass:e,...n}=t.props??{};return n}}};var TU=function(){var e=this,n=e._self._c;return n("uikit-modal",{attrs:{isOpen:!!e.currentModal,title:e.title,containerClass:e.containerClass},on:{"on-close":e.handleOutsideClick}},e._l(e.stack,function(r,i){return n(r.component,e._g(e._b({directives:[{name:"show",rawName:"v-show",value:i===e.stack.length-1,expression:"index === stack.length - 1"}],key:`modal-${i}`,tag:"component",on:{"on-close":e.handleClose}},"component",e.getModalProps(r),!1),r.listeners))}),1)},$U=[],IU=A(OU,TU,$U,!1,null,null);const PU=IU.exports,AU={name:"UIKitModal",props:{isOpen:Boolean,title:{type:String,default:"Modal"},containerClass:{type:String,default:"w-108"}}};var MU=function(){var e=this,n=e._self._c;return n("transition",{attrs:{name:"modal"}},[e.isOpen?n("div",{staticClass:"modal-mask"},[n("div",{staticClass:"modal-wrapper",on:{click:function(r){return e.$emit("on-close")}}},[n("div",{staticClass:"modal-container",class:e.containerClass,on:{click:function(r){r.stopPropagation()}}},[n("div",{staticClass:"modal-header"},[e._t("header",function(){return[n("h3",{staticClass:"text-gray-800 font-semibold antialiased text-lg"},[e._v(" "+e._s(e.title)+" ")])]}),n("button",{staticClass:"modal-close-button",attrs:{type:"button"},on:{click:function(r){return e.$emit("on-close",!0)}}},[n("uikit-icon",{attrs:{name:"ri-close-circle-line"}})],1)],2),n("div",{staticClass:"modal-body"},[e._t("default")],2)])])]):e._e()])},NU=[],DU=A(AU,MU,NU,!1,null,null);const RU=DU.exports,LU={name:"UIKitTabs",props:{tabs:{type:Array,default:()=>[]},firstIndex:{type:Number,default:0},otherProps:{type:Object,default:()=>({})},navClass:{type:String,default:null},panelClass:{type:String,default:null},sharedClass:{type:String,default:null},enableOverflow:{type:Boolean,default:!0}},data(){return{currentIndex:0,slideDirection:null}},computed:{currentTab(){return this.tabs[this.currentIndex]},currentTabComponent(){return this.currentTab.tab},currentTabKey(){return this.currentTab.type},currentTabProps(){return this.currentTab.props?this.currentTab.props():{}}},methods:{selectTab(t){this.currentIndex=t,this.$emit("select-tab",t)}},watch:{firstIndex:{immediate:!0,handler(){this.currentIndex=this.firstIndex}},currentIndex(t,e){this.slideDirection=t>e?"slide-left":"slide-right"}}};var BU=function(){var e=this,n=e._self._c;return n("div",{staticClass:"flex flex-col flex-1",class:{"overflow-y-hidden":e.enableOverflow}},[n("nav",{staticClass:"flex flex-col sm:flex-row",class:{[e.sharedClass]:!e.isBlank(e.sharedClass),[e.navClass]:!e.isBlank(e.navClass)}},e._l(e.tabs,function(r,i){return n("button",{key:`tab-${i}`,staticClass:"py-1 pb-0 px-4 block hover:text-editor-primary focus:outline-none border-b-2 z-10",class:{"text-gray-500 border-transparent":i!==e.currentIndex,"text-editor-primary font-medium border-editor-primary":i===e.currentIndex},attrs:{type:"button"},on:{click:function(s){return e.selectTab(i)}}},[e._v(" "+e._s(r.name)+" ")])}),0),n("div",{staticClass:"relative -mt-1/2",class:{[e.sharedClass]:!e.isBlank(e.sharedClass),[e.navClass]:!e.isBlank(e.navClass)}},[n("div",{staticClass:"w-full border-gray-200 border-t-2 h-0"})]),n("div",{staticClass:"flex-1 mt-4 pb-4",class:{[e.sharedClass]:!e.isBlank(e.sharedClass),[e.panelClass]:!e.isBlank(e.panelClass),"overflow-y-auto":e.enableOverflow}},[n("transition",{attrs:{name:e.slideDirection,mode:"out-in"}},[n(e.currentTabComponent,e._g(e._b({key:e.currentTabKey,tag:"component",staticClass:"px-1"},"component",{...e.otherProps,...e.currentTabProps},!1),e.$listeners))],1)],1)])},FU=[],jU=A(LU,BU,FU,!1,null,null);const zU=jU.exports,VU={name:"UIKitAccordion",props:{headerClass:{type:String,default:""}},data(){return{show:!1}},methods:{toggle(){this.show=!this.show},beforeEnter(t){t.style.height="0"},enter(t){t.style.height=t.scrollHeight+"px"},beforeLeave(t){t.style.height=t.scrollHeight+"px"},leave(t){t.style.height="0"}}};var HU=function(){var e=this,n=e._self._c;return n("div",[n("div",{staticClass:"flex items-center cursor-pointer select-none",class:e.headerClass,on:{click:e.toggle}},[e._t("header",function(){return[e._v("HINT")]}),n("button",{staticClass:"ml-auto"},[e.show?n("uikit-icon",{staticClass:"ml-auto",attrs:{name:"arrow-up-s-line",size:"1.5rem"}}):n("uikit-icon",{staticClass:"ml-auto",attrs:{name:"arrow-down-s-line",size:"1.5rem"}})],1)],2),n("transition",{attrs:{name:"accordion"},on:{"before-enter":e.beforeEnter,enter:e.enter,"before-leave":e.beforeLeave,leave:e.leave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"overflow-hidden transition-all duration-150 select-none"},[e._t("default")],2)])],1)},UU=[],WU=A(VU,HU,UU,!1,null,null);const KU=WU.exports,GU={name:"UIKitDropdown",props:{placement:{type:String,default:"bottom",validator:t=>["top","bottom","right","left"].indexOf(t)!==-1}},data(){return{open:!1}},mounted(){Js.$on("open",()=>this.close()),document.addEventListener("keydown",this.onEscape),this.$once("hook:beforeDestroy",()=>{document.removeEventListener("keydown",this.onEscape)})},methods:{onEscape(t){(t.key==="Esc"||t.key==="Escape")&&this.close()},toggle(){this.open=!this.open,this.$emit("on-dropdown-toggle",this)},close(){this.open=!1}}};var qU=function(){var e=this,n=e._self._c;return n("v-popoper",{staticClass:"flex",attrs:{trigger:"manual",autoHide:!0,open:e.open,placement:e.placement},on:{"auto-hide":e.close}},[n("div",{staticClass:"z-10 relative flex items-center focus:outline-none select-none cursor-pointer w-full",on:{click:function(r){return r.stopPropagation(),r.preventDefault(),e.toggle.apply(null,arguments)}}},[e._t("button")],2),n("template",{slot:"popover"},[e._t("content")],2)],2)},JU=[],YU=A(GU,qU,JU,!1,null,null);const XU=YU.exports,ZU={name:"UIKitConfirmationButton",props:{placement:{type:String,default:"bottom"},text:{type:String,default:null},confirmButtonLabel:{type:String,default:null},cancelButtonLabel:{type:String,default:null}},methods:{isOpen(){return this.$refs.dropdown.open},confirm(){this.close(),this.$emit("confirm")},cancel(){this.close(),this.$emit("cancel")},close(){this.$refs.dropdown.close()}}};var QU=function(){var e=this,n=e._self._c;return n("uikit-dropdown",e._g({ref:"dropdown",staticClass:"relative",attrs:{placement:e.placement},scopedSlots:e._u([{key:"button",fn:function(){return[e._t("default")]},proxy:!0},{key:"content",fn:function(){return[n("div",{staticClass:"text-gray-700 text-md w-56"},[n("p",{staticClass:"py-3"},[e._v(" "+e._s(e.text||e.$t("confirmationButton.text"))+" ")]),n("div",{staticClass:"mt-1 flex flex-col"},[n("button",{staticClass:"bg-red-600 rounded-sm text-white py-2 px-4",on:{click:function(r){return r.stopPropagation(),e.confirm.apply(null,arguments)}}},[e._v(" "+e._s(e.confirmButtonLabel||e.$t("confirmationButton.confirmButtonLabel"))+" ")]),n("button",{staticClass:"block w-full text-gray-800 py-2 hover:bg-gray-100 transition-colors duration-200",on:{click:function(r){return r.stopPropagation(),e.cancel.apply(null,arguments)}}},[e._v(" "+e._s(e.cancelButtonLabel||e.$t("confirmationButton.cancelButtonLabel"))+" ")])])])]},proxy:!0}],null,!0)},e.$listeners))},e3=[],t3=A(ZU,QU,e3,!1,null,null);const n3=t3.exports,r3={name:"UIKitSubmitButton",props:{type:{type:String,default:"submit"},disabled:{type:Boolean,default:!1},labels:{type:Object,default:void 0},buttonState:{type:String,default:"default"},defaultColorClass:{type:String,default:"bg-gray-700"}},data(){return{internalButtonState:"default",timeout:void 0}},computed:{isDefaultState(){return this.internalButtonState==="default"},defaultLabel(){var t;return((t=this.labels)==null?void 0:t.default)||"Submit"},isInProgressState(){return this.internalButtonState==="inProgress"},inProgressLabel(){var t;return((t=this.labels)==null?void 0:t.inProgress)||"Loading"},isSuccessState(){return this.internalButtonState==="success"},successLabel(){var t;return((t=this.labels)==null?void 0:t.success)||"Success!"},isFailState(){return this.internalButtonState==="fail"},failLabel(){var t;return((t=this.labels)==null?void 0:t.fail)||"Failure!"},buttonClass(){switch(this.internalButtonState){case"default":return this.defaultColorClass;case"inProgress":return`${this.defaultColorClass} bg-opacity-75`;case"success":return"bg-green-500";case"fail":return"bg-red-600"}return""}},methods:{click(){this.type==="button"&&this.isDefaultState&&this.$emit("click")}},watch:{buttonState:{immediate:!0,handler(t){this.internalButtonState=t,(t==="success"||t==="fail")&&(this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.internalButtonState="default"},3e3))}}}};var i3=function(){var e=this,n=e._self._c;return n("button",{class:{[e.buttonClass]:!0},attrs:{type:e.type,disabled:e.disabled||e.isInProgressState},on:{click:e.click}},[e.isDefaultState?n("span",{attrs:{"data-button-label":""}},[e._v(e._s(e.defaultLabel))]):e._e(),e.isInProgressState?n("span",{staticClass:"flex items-center justify-center"},[n("uikit-icon",{key:"progress",attrs:{name:"ri-loader-4-line",spin:"",color:"#fff"}}),n("span",{staticClass:"ml-2",attrs:{"data-button-label":""}},[e._v(e._s(e.inProgressLabel))])],1):e._e(),e.isSuccessState?n("span",{staticClass:"flex items-center justify-center"},[n("uikit-icon",{key:"success",attrs:{name:"ri-check-line",color:"#fff"}}),n("span",{staticClass:"ml-2",attrs:{"data-button-label":""}},[e._v(e._s(e.successLabel))])],1):e._e(),e.isFailState?n("span",{staticClass:"flex items-center justify-center"},[n("uikit-icon",{key:"fail",attrs:{name:"ri-alert-line",color:"#fff"}}),n("span",{staticClass:"ml-2",attrs:{"data-button-label":""}},[e._v(e._s(e.failLabel))])],1):e._e()])},s3=[],o3=A(r3,i3,s3,!1,null,null);const a3=o3.exports,ss={props:{isFocused:{type:Boolean,default:!1}},methods:{blur(){this.$emit("blur")}},watch:{isFocused:{immediate:!0,handler(t,e){t&&!e&&this.$nextTick(()=>this.focus())}}}},l3={name:"UIKitImageInput",mixins:[ss],props:{label:{type:String,default:"Label"},name:{type:String,default:"image"},value:{default:()=>({altText:""})},hasAltText:{type:Boolean,default:!0,required:!1}},data(){return{hovered:!1,errorOnLoading:!1}},computed:{altText:{get(){return this.value.altText},set(t){this.$emit("input",{...this.value,altText:t})}},isValidImage(){var t;return!this.isBlank((t=this.value)==null?void 0:t.url)&&!this.errorOnLoading}},methods:{focus(){this.openImagePickerModal()},openImagePickerModal(){this.openModal({title:this.$t("imageLibrary.pickerTitle"),component:hb,props:{modalClass:"w-216",pickerMode:!0},listeners:{select:t=>this.onSelectImage(t)}})},removeImage(){this.$emit("input",null)},onSelectImage(t){this.closeModal(),this.$emit("input",{...this.value,...t}),this.errorOnLoading=!1}}};var c3=function(){var e=this,n=e._self._c;return n("div",[n("div",{staticClass:"block font-semibold text-gray-800",on:{click:function(r){return e.focus()}}},[e._v(" "+e._s(e.label)+" ")]),n("div",{staticClass:"mt-1"},[e.isBlank(e.value)?n("div",{staticClass:"flex items-center justify-center bg-gray-100 h-48 rounded"},[n("button",{staticClass:"flex items-center justify-center flex-col",on:{click:e.openImagePickerModal}},[n("uikit-icon",{attrs:{name:"camera-line"}}),n("p",{staticClass:"uppercase text-xs mt-1"},[e._v(e._s(e.$t("imageInput.addButton")))])],1)]):n("div",[n("div",{staticClass:"relative bg-checkerboard h-48 rounded overflow-hidden",on:{mouseover:function(r){e.hovered=!0},mouseleave:function(r){e.hovered=!1}}},[e.isValidImage?n("img",{staticClass:"h-full w-full object-contain rounded",attrs:{src:e.value.url},on:{error:()=>this.errorOnLoading=!0}}):e._e(),n("transition",{attrs:{name:"slide-up"}},[e.hovered?n("div",{staticClass:"flex justify-center py-3 px-2 absolute bg-black bg-opacity-75 bottom-0 w-full text-white cursor-default rounded-b"},[n("button",{staticClass:"flex items-center justify-center flex-col mr-4",on:{click:e.openImagePickerModal}},[n("uikit-icon",{attrs:{name:"camera-line"}}),n("p",{staticClass:"uppercase text-xs mt-1"},[e._v(" "+e._s(e.$t("imageInput.replaceButton"))+" ")])],1),n("button",{staticClass:"flex items-center justify-center flex-col",on:{click:e.removeImage}},[n("uikit-icon",{attrs:{name:"delete-bin-line"}}),n("p",{staticClass:"uppercase text-xs mt-1"},[e._v(" "+e._s(e.$t("imageInput.clearButton"))+" ")])],1)]):e._e()])],1),e.hasAltText?n("uikit-text-input",{staticClass:"mt-2",attrs:{showLabel:!1,placeholder:e.$t("imageInput.altTextPlaceholder")},model:{value:e.altText,callback:function(r){e.altText=r},expression:"altText"}}):e._e()],1)])])},u3=[],f3=A(l3,c3,u3,!1,null,null);const d3=f3.exports,p3={name:"IconLibrary",data(){return{query:null}},computed:{icons(){const t=this.currentTheme.icons||[];return this.isBlank(this.query)?t:t.filter(e=>e.includes(this.query))}}};var h3=function(){var e=this,n=e._self._c;return n("div",{staticClass:"space-y-2"},[n("div",[n("uikit-search-input",{on:{search:r=>e.query=r}})],1),n("div",{staticClass:"overflow-y-auto h-64"},[n("div",{staticClass:"grid grid-cols-6 gap-2 pt-2 pb-8"},e._l(e.icons,function(r,i){return n("div",{key:`icon-${i}`,staticClass:"flex justify-center"},[n("div",{staticClass:"cursor-pointer text-gray-900 h-12 w-12 flex items-center justify-center rounded hover:bg-gray-900 hover:text-white hover:shadow-lg transition transform duration-200 ease-in-out hover:scale-125",on:{click:function(s){return s.preventDefault(),e.$emit("select",r)}}},[n("i",{staticClass:"text-3xl",class:r})])])}),0)])])},m3=[],g3=A(p3,h3,m3,!1,null,null);const v3=g3.exports,y3={name:"UIKitIconInput",mixins:[ss],props:{label:{type:String,default:"Label"},name:{type:String,default:"icon"},value:{default:()=>({altText:""})}},data(){return{hovered:!1,errorOnLoading:!1}},methods:{focus(){this.openIconPickerModal()},openIconPickerModal(){this.openModal({title:this.$t("iconLibrary.pickerTitle"),component:v3,props:{modalClass:"w-120",pickerMode:!0},listeners:{select:t=>this.onSelectIcon(t)}})},removeIcon(){this.$emit("input",null)},onSelectIcon(t){this.closeModal(),this.$emit("input",t)}}};var b3=function(){var e=this,n=e._self._c;return n("div",[n("div",{staticClass:"block font-semibold text-gray-800",on:{click:function(r){return e.focus()}}},[e._v(" "+e._s(e.label)+" ")]),n("div",{staticClass:"mt-1"},[e.isBlank(e.value)?n("div",{staticClass:"flex items-center justify-center bg-gray-100 h-24 rounded"},[n("button",{staticClass:"flex items-center justify-center flex-col",on:{click:e.openIconPickerModal}},[n("uikit-icon",{attrs:{name:"ri-book-line"}}),n("p",{staticClass:"uppercase text-xs mt-1"},[e._v(e._s(e.$t("iconInput.addButton")))])],1)]):n("div",[n("div",{staticClass:"relative bg-gray-100 h-24 rounded flex items-center justify-center overflow-hidden",on:{mouseover:function(r){e.hovered=!0},mouseleave:function(r){e.hovered=!1}}},[n("i",{staticClass:"text-6xl text-gray-800 font-bold",class:e.value}),n("transition",{attrs:{name:"slide-up"}},[e.hovered?n("div",{staticClass:"flex justify-center py-3 px-2 absolute bg-black bg-opacity-75 bottom-0 w-full text-white cursor-default rounded-b"},[n("button",{staticClass:"flex items-center justify-center flex-col mr-4",on:{click:e.openIconPickerModal}},[n("uikit-icon",{attrs:{name:"ri-book-line"}}),n("p",{staticClass:"uppercase text-xs mt-1"},[e._v(" "+e._s(e.$t("iconInput.replaceButton"))+" ")])],1),n("button",{staticClass:"flex items-center justify-center flex-col",on:{click:e.removeIcon}},[n("uikit-icon",{attrs:{name:"delete-bin-line"}}),n("p",{staticClass:"uppercase text-xs mt-1"},[e._v(" "+e._s(e.$t("iconInput.clearButton"))+" ")])],1)]):e._e()])],1)])])])},_3=[],w3=A(y3,b3,_3,!1,null,null);const x3=w3.exports,S3={name:"LinkPickerActions",props:{link:{type:Object,required:!0},mode:{type:String,default:"select"},disabled:{type:Boolean,default:!0}},computed:{i18nScope(){return"linkPicker.shared"}}};var C3=function(){var e=this,n=e._self._c;return n("div",{staticClass:"mt-10 flex flex-col"},[n("button",{staticClass:"big-submit-button bg-editor-primary",attrs:{type:"button",disabled:e.disabled},on:{click:function(r){return e.$emit("select",e.link)}}},[e._v(" "+e._s(e.$t(`${e.i18nScope}.mainButton.${e.mode}`))+" ")]),n("button",{staticClass:"cancel-button",attrs:{type:"button"},on:{click:function(r){return e.$emit("on-close")}}},[e._v(" "+e._s(e.$t(`${e.i18nScope}.cancelButton`))+" ")])])},k3=[],E3=A(S3,C3,k3,!1,null,null);const O3=E3.exports,T3={name:"LinkPagePicker",props:{currentLink:{type:Object,default:void 0}},data(){return{page:null,pageSection:null}},computed:{openNewWindowInput:{get(){return this.currentLink.openNewWindow},set(t){this.$emit("change",{...this.currentLink,openNewWindow:t})}},hasPageSections(){var t;return!this.isBlank((t=this.page)==null?void 0:t.sectionNames)}},methods:{async fetchPageSectionNames(){return this.page.sectionNames}},watch:{currentLink:{immediate:!0,async handler(t){var e;!t||t.linkType!=="page"&&t.linkType!=="static_page"||this.isBlank(t.linkId)||t.linkId===((e=this.page)==null?void 0:e.id)||(this.page=await this.services.page.findById(this.currentSite,t.linkId),this.page&&(this.pageSection=this.page.sectionNames.find(n=>n.id===t.sectionId)))}},page(t){this.$emit("change",{...this.currentLink,linkType:t.static?"static_page":"page",linkId:t.id,linkLabel:t.title,sectionId:null,href:`/${t.path}`})},pageSection(t){this.$emit("change",{...this.currentLink,sectionId:(t==null?void 0:t.id)||null})}}};var $3=function(){var e=this,n=e._self._c;return n("div",[n("uikit-select-input",{attrs:{label:e.$t("linkPicker.page.input.label"),placeholder:e.$t("linkPicker.page.input.placeholder"),searchEnabled:!0,searchPlaceholder:e.$t("linkPicker.page.input.searchPlaceholder"),emptyLabel:e.$t("linkPicker.page.input.emptyLabel"),fetchList:r=>e.services.page.findAll({q:r})},scopedSlots:e._u([{key:"value",fn:function(){return[e._v(" "+e._s(e.page.title)+" ")]},proxy:!0},{key:"item",fn:function({item:r,hovered:i}){return[n("div",{staticClass:"flex items-center"},[n("span",{staticClass:"font-bold"},[e._v(e._s(r.title))]),n("span",{staticClass:"ml-auto",class:{"text-gray-500":!i,"text-white":i}},[e._v(" "+e._s(e._f("formatPath")(r.path))+" ")])])]}}]),model:{value:e.page,callback:function(r){e.page=r},expression:"page"}}),e.hasPageSections?n("div",{staticClass:"mt-6"},[n("uikit-select-input",{attrs:{label:e.$t("linkPicker.page.sectionInput.label"),placeholder:e.$t("linkPicker.page.sectionInput.placeholder"),emptyLabel:e.$t("linkPicker.page.sectionInput.emptyLabel"),fetchList:()=>e.fetchPageSectionNames(),clearEnabled:!0},scopedSlots:e._u([{key:"value",fn:function(){return[e._v(" "+e._s(e.pageSection.name)+" ")]},proxy:!0},{key:"item",fn:function({item:r}){return[n("div",{staticClass:"flex items-center"},[n("span",{staticClass:"font-bold"},[e._v(e._s(r.name))])])]}}],null,!1,907949084),model:{value:e.pageSection,callback:function(r){e.pageSection=r},expression:"pageSection"}})],1):e._e(),n("uikit-checkbox-input",{staticClass:"mt-6",attrs:{label:e.$t("linkPicker.shared.newWindowInput.label"),name:"openNewWindow"},model:{value:e.openNewWindowInput,callback:function(r){e.openNewWindowInput=r},expression:"openNewWindowInput"}})],1)},I3=[],P3=A(T3,$3,I3,!1,null,null);const A3=P3.exports,M3={name:"LinkUrlPicker",props:{currentLink:{type:Object,default:void 0}},computed:{hrefInput:{get(){return this.currentLink.href},set(t){this.$emit("change",{...this.currentLink,href:t})}},openNewWindowInput:{get(){return this.currentLink.openNewWindow},set(t){this.$emit("change",{...this.currentLink,openNewWindow:t})}}}};var N3=function(){var e=this,n=e._self._c;return n("div",[n("uikit-text-input",{attrs:{label:e.$t("linkPicker.url.input.label"),name:"href"},model:{value:e.hrefInput,callback:function(r){e.hrefInput=r},expression:"hrefInput"}}),n("uikit-checkbox-input",{staticClass:"mt-6",attrs:{label:e.$t("linkPicker.shared.newWindowInput.label"),name:"openNewWindow"},model:{value:e.openNewWindowInput,callback:function(r){e.openNewWindowInput=r},expression:"openNewWindowInput"}})],1)},D3=[],R3=A(M3,N3,D3,!1,null,null);const L3=R3.exports,B3={name:"LinkEmailPicker",props:{currentLink:{type:Object,default:void 0}},computed:{emailInput:{get(){return this.currentLink.email},set(t){this.$emit("change",{...this.currentLink,email:t,href:`mailto:${t}`})}}}};var F3=function(){var e=this,n=e._self._c;return n("div",[n("uikit-text-input",{attrs:{label:e.$t("linkPicker.email.input.label"),name:"email"},model:{value:e.emailInput,callback:function(r){e.emailInput=r},expression:"emailInput"}})],1)},j3=[],z3=A(B3,F3,j3,!1,null,null);const V3=z3.exports,H3={name:"LinkPicker",components:{PickerActions:O3},props:{currentLink:{type:Object,default:void 0},mode:{type:String,default:"select"}},data(){return{linkType:null,linksByTypes:{}}},computed:{tabs(){return[{name:this.$t("linkPicker.page.name"),tab:A3,type:"page",subType:"static_page"},{name:this.$t("linkPicker.url.name"),tab:L3,type:"url"},{name:this.$t("linkPicker.email.name"),tab:V3,type:"email"}]},firstTabIndex(){return this.tabs.findIndex(t=>this.linkType===t.type||this.linkType===t.subType)},link(){return this.linksByTypes[this.linkType]||{linkType:this.linkType,linkId:null,href:null,email:null,openNewWindow:!1}},isValid(){return this.link&&!this.isBlank(this.link.href)}},methods:{onTabSelected(t){this.linkType=this.tabs[t].type},onChange(t){const e=t.linkType||this.linkType;this.linksByTypes={...this.linksByTypes,[this.linkType]:{...t,linkType:e}}}},watch:{currentLink:{immediate:!0,handler(t){this.linkType=(t==null?void 0:t.linkType)||"url",this.linksByTypes[this.linkType]=t}}}};var U3=function(){var e=this,n=e._self._c;return n("div",{staticClass:"mt-4"},[n("uikit-tabs",{attrs:{tabs:e.tabs,firstIndex:e.firstTabIndex,otherProps:{currentLink:e.link},navClass:"px-1",enableOverflow:!1},on:{"select-tab":e.onTabSelected,change:e.onChange}}),n("picker-actions",e._g({attrs:{link:e.link,mode:e.mode,disabled:!e.isValid}},e.$listeners))],1)},W3=[],K3=A(H3,U3,W3,!1,null,null);const W_=K3.exports,G3={name:"UIKitLinkInput",props:{label:{type:String,default:"Label"},name:{type:String,default:"image"},withText:{type:Boolean,default:!1},value:{default:()=>({text:""})},isFocused:{type:Boolean,default:!1}},computed:{isPage(){var t,e;return((t=this.value)==null?void 0:t.linkType)==="page"||((e=this.value)==null?void 0:e.linkType)==="static_page"},isUrl(){var t;return this.value&&!this.value.linkType||((t=this.value)==null?void 0:t.linkType)==="url"},isEmail(){var t;return((t=this.value)==null?void 0:t.linkType)==="email"},textInput:{get(){var t;return(t=this.value)==null?void 0:t.text},set(t){this.$emit("input",{...this.value,text:t})}}},methods:{focus(){this.openLinkPickerModal()},setLink(t){var e;this.$emit("input",{...Yf(t,"linkType","linkLabel","linkId","sectionId","href","email","openNewWindow","text"),text:((e=this.value)==null?void 0:e.text)||""}),this.closeModal()},clear(){this.$emit("input",null)},openLinkPickerModal(){this.openModal({title:this.$t("linkPicker.title"),component:W_,props:{currentLink:this.value},listeners:{select:t=>this.setLink(t)}})}}};var q3=function(){var e=this,n=e._self._c;return n("div",[n("div",{staticClass:"block font-semibold text-gray-800",on:{click:function(r){return e.focus()}}},[e._v(" "+e._s(e.label)+" ")]),n("uikit-text-input",{staticClass:"mt-2",class:{hidden:!e.withText},attrs:{name:e.name,showLabel:!1,placeholder:e.$t("linkInput.nestedTextPlaceholder"),isFocused:e.isFocused},model:{value:e.textInput,callback:function(r){e.textInput=r},expression:"textInput"}}),n("div",{staticClass:"flex items-center w-full mt-2 py-3 px-3 rounded bg-gray-100 text-gray-800 cursor-pointer",on:{click:e.openLinkPickerModal}},[e.isPage?n("div",{staticClass:"flex-1 flex items-center overflow-hidden"},[n("uikit-page-icon",{staticClass:"flex-shrink-0",attrs:{page:{path:e.value.href}}}),n("span",{staticClass:"ml-3"},[e._v(e._s(e.value.linkLabel))])],1):e._e(),e.isUrl?n("div",{staticClass:"flex-1 flex items-center overflow-hidden"},[n("uikit-icon",{staticClass:"flex-shrink-0",attrs:{name:"ri-external-link-line"}}),n("span",{staticClass:"ml-3 shrink"},[e._v(e._s(e.value.href))])],1):e._e(),e.isEmail?n("div",{staticClass:"flex-1 flex items-center overflow-hidden"},[n("uikit-icon",{staticClass:"flex-shrink-0",attrs:{name:"ri-mail-line"}}),n("span",{staticClass:"ml-3"},[e._v(e._s(e.value.email))])],1):e._e(),e.isBlank(e.value)?n("div",{staticClass:"flex-1 flex items-center overflow-hidden text-gray-400"},[e._v(" "+e._s(e.$t("linkInput.placeholder"))+" ")]):e._e(),e.isBlank(e.value)?e._e():n("button",{staticClass:"ml-3",on:{click:function(r){return r.preventDefault(),r.stopPropagation(),e.clear.apply(null,arguments)}}},[n("uikit-icon",{attrs:{name:"ri-close-line"}})],1)])],1)},J3=[],Y3=A(G3,q3,J3,!1,null,null);const X3=Y3.exports,Z3={name:"UIKitSelectInput",props:{label:{type:String,default:"Label"},name:{type:String,default:"text"},placeholder:{type:String,default:"Select an item"},searchEnabled:{type:Boolean,default:!1},searchPlaceholder:{type:String,default:"Search..."},value:{type:Object,default:null},fetchList:{type:Function,default:()=>({})},emptyLabel:{type:String,default:"No results found"},clearEnabled:{type:Boolean,default:!1},withLabel:{type:Boolean,default:!0},buttonClass:{type:[Object,String],default:()=>({})}},data(){return{isOpen:!1,q:void 0,list:void 0,focusIndex:void 0}},created(){this.debouncedFetch=Ck(this.fetch.bind(this),300)},computed:{canClear(){return this.clearEnabled&&this.value},isEmpty(){return this.list&&this.list.length===0}},methods:{focus(){this.toggle()},toggle(){this.isOpen=!this.isOpen},fetch(){this.fetchList(this.q).then(t=>{this.list=t,this.focusIndex=t&&t.length>0?0:null})},select(t){this.$emit("input",t),this.reset()},clear(){this.$emit("input",null),this.reset()},naviguate(t){if(this)switch(t.keyCode){case 13:this.focusIndex!==void 0&&this.select(this.list[this.focusIndex]),t.stopPropagation()&t.preventDefault();break;case 38:this.focusIndex?this.focusIndex>0&&this.focusIndex--:this.focusIndex=0,t.stopPropagation()&t.preventDefault();break;case 40:this.focusIndex?this.focusIndex<this.list.length-1&&this.focusIndex++:this.focusIndex=0,t.stopPropagation()&t.preventDefault();break}},reset(){this.isOpen=!1,this.q=null,this.list=void 0,this.focusIndex=void 0}},watch:{q(){this.q&&this.debouncedFetch()},isOpen(){this.isOpen&&this.$nextTick(()=>{this.searchEnabled?this.$refs.input.focus():this.debouncedFetch()})}}};var Q3=function(){var e=this,n=e._self._c;return n("div",[e.withLabel?n("div",{staticClass:"block font-semibold text-gray-800",on:{click:function(r){return e.focus()}}},[e._v(" "+e._s(e.label)+" ")]):e._e(),n("div",{staticClass:"relative"},[n("button",{staticClass:"text-left block w-full mt-1 py-2 px-3 rounded bg-gray-100 text-gray-800 focus:outline-none focus:ring",attrs:{type:"button"},on:{click:e.toggle}},[n("div",{staticClass:"flex items-center",class:e.buttonClass},[e.value?e._t("value"):n("span",[e._v(e._s(e.placeholder))]),e.canClear?n("button",{staticClass:"ml-auto flex-shrink-0",attrs:{type:"button"},on:{click:function(r){return r.stopPropagation(),r.preventDefault(),e.clear.apply(null,arguments)}}},[n("uikit-icon",{attrs:{name:"ri-close-line"}})],1):e._e(),n("div",{class:{"flex-shrink-0":!0,"ml-1":e.canClear,"ml-auto":!e.canClear}},[n("uikit-icon",{class:{hidden:!e.isOpen},attrs:{name:"arrow-up-s-line",size:"1.5rem"}}),n("uikit-icon",{class:{hidden:e.isOpen},attrs:{name:"arrow-down-s-line",size:"1.5rem"}})],1)],2)]),e.isOpen?n("div",{staticClass:"absolute w-full z-10 -mt-1 rounded-b shadow-sm bg-gray-100",on:{keydown:e.naviguate}},[e.searchEnabled?n("div",{staticClass:"px-3 pt-1 pb-3"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.q,expression:"q"}],ref:"input",staticClass:"block mt-1 px-3 py-1 w-full border rounded border-gray-300 bg-gray-100 placeholder-gray-500 focus:ring focus:ring",attrs:{id:e.name,type:"text",placeholder:e.searchPlaceholder},domProps:{value:e.q},on:{input:function(r){r.target.composing||(e.q=r.target.value)}}})]):e._e(),e.isEmpty?n("div",{staticClass:"px-4 pb-3 text-gray-600 text-sm"},[e._v(" "+e._s(e.emptyLabel)+" ")]):e._e(),e.list?n("div",e._l(e.list,function(r,i){return n("div",{key:r.id,staticClass:"py-1 px-4 cursor-pointer",class:{"rounded-b":i===e.list.length-1,"bg-editor-primary text-white":i===e.focusIndex},on:{mouseover:function(s){e.focusIndex=i},mouseleave:function(s){e.focusIndex=void 0},click:function(s){return e.select(r)}}},[e._t("item",null,{item:r,hovered:i===e.focusIndex})],2)}),0):e._e()]):e._e()])])},eW=[],tW=A(Z3,Q3,eW,!1,null,null);const nW=tW.exports,rW={name:"UIKitTextInput",mixins:[ss],props:{label:{type:String,default:"Label"},name:{type:String,default:"text"},value:{type:String},maxLength:{type:Number,default:null},rows:{type:Number,default:2}},computed:{numCharacters(){return(this.value||"").length},isOverMaxLength(){return this.numCharacters>this.maxLength}},methods:{updateInput(t){this.$emit("input",t.target.value)},focus(){this.$refs.input.focus()}}};var iW=function(){var e=this,n=e._self._c;return n("div",{staticClass:"space-y-1 flex flex-col"},[n("label",{staticClass:"block font-semibold text-gray-800 flex justify-between items-center",attrs:{for:e.name}},[n("span",[e._v(e._s(e.label))]),e.maxLength?n("span",{staticClass:"text-xs",class:{"text-red-600":e.isOverMaxLength,"text-gray-600":!e.isOverMaxLength}},[e._v(e._s(e.numCharacters)+" / "+e._s(e.maxLength))]):e._e()]),n("textarea",{ref:"input",staticClass:"block mt-1 py-2 px-3 rounded bg-gray-100 text-gray-800 focus:outline-none focus:ring",attrs:{id:e.name,autocomplete:"off",rows:e.rows},domProps:{value:e.value},on:{blur:function(r){return e.blur()},input:e.updateInput}})])},sW=[],oW=A(rW,iW,sW,!1,null,null);const aW=oW.exports,lW={name:"UIKitTextInput",mixins:[ss],props:{label:{type:String,default:"Label"},name:{type:String,default:"text"},value:{type:String},placeholder:{type:String,default:null},showLabel:{type:Boolean,default:!0},error:{type:Array,default:null}},data(){return{showError:!1}},methods:{updateInput(t){this.showError=!1,this.$emit("input",t.target.value)},focus(){this.$refs.input.focus()}},watch:{error(){this.isBlank(this.error)||(this.showError=!0)}}};var cW=function(){var e=this,n=e._self._c;return n("div",{staticClass:"space-y-1 flex flex-col"},[e.showLabel?n("label",{staticClass:"block font-semibold text-gray-800",attrs:{for:e.name}},[n("span",[e._v(e._s(e.label))]),n("transition",{attrs:{name:"fade"}},[e.showError?n("span",{staticClass:"text-red-700 bg-red-100 text-xs ml-4 py-1 px-3 rounded"},[e._v(e._s(e.error[0])+" ")]):e._e()])],1):e._e(),n("input",{ref:"input",staticClass:"block py-2 px-3 rounded bg-gray-100 text-gray-800 focus:outline-none focus:ring placeholder-gray-500",attrs:{id:e.name,type:"text",placeholder:e.placeholder,autocomplete:"off"},domProps:{value:e.value},on:{blur:function(r){return e.blur()},input:e.updateInput}})])},uW=[],fW=A(lW,cW,uW,!1,null,null);const dW=fW.exports;function We(t){this.content=t}We.prototype={constructor:We,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),s=r.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new We(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new We(n)},addToStart:function(t,e){return new We([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new We(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),s=r.find(t);return i.splice(s==-1?i.length:s,0,e,n),new We(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=We.from(t),t.size?new We(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=We.from(t),t.size?new We(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=We.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};We.from=function(t){if(t instanceof We)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new We(e)};function K_(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)n++;return n}if(i.content.size||s.content.size){let o=K_(i.content,s.content,n+1);if(o!=null)return o}n+=i.nodeSize}}function G_(t,e,n,r){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let o=t.child(--i),a=e.child(--s),l=o.nodeSize;if(o==a){n-=l,r-=l;continue}if(!o.sameMarkup(a))return{a:n,b:r};if(o.isText&&o.text!=a.text){let c=0,u=Math.min(o.text.length,a.text.length);for(;c<u&&o.text[o.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(o.content.size||a.content.size){let c=G_(o.content,a.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class ${constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,s){for(let o=0,a=0;a<n;o++){let l=this.content[o],c=a+l.nodeSize;if(c>e&&r(l,i+a,s||null,o)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,n-u),r,i+u)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let s="",o=!0;return this.nodesBetween(e,n,(a,l)=>{let c=a.isText?a.text.slice(Math.max(e,l)-l,n-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&r&&(o?o=!1:s+=r),s+=c},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new $(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let s=0,o=0;o<n;s++){let a=this.content[s],l=o+a.nodeSize;l>e&&((o<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,n-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,n-o-1))),r.push(a),i+=a.nodeSize),o=l}return new $(r,i)}cutByIndex(e,n){return e==n?$.empty:e==0&&n==this.content.length?this:new $(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new $(i,s)}addToStart(e){return new $([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new $(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return K_(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return G_(this,e,n,r)}findIndex(e,n=-1){if(e==0)return Jo(0,e);if(e==this.size)return Jo(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let s=this.child(r),o=i+s.nodeSize;if(o>=e)return o==e||n>0?Jo(r+1,o):Jo(r,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return $.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new $(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return $.empty;let n,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(n||(n=e.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new $(n||e,r)}static from(e){if(!e)return $.empty;if(e instanceof $)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new $([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}$.empty=new $([],0);const Lc={index:0,offset:0};function Jo(t,e){return Lc.index=t,Lc.offset=e,Lc}function pl(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!pl(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!pl(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let ye=class ef{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&pl(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return ef.none;if(e instanceof ef)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};ye.none=[];class hl extends Error{}class B{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=J_(this.content,e+this.openStart,n);return r&&new B(r,this.openStart,this.openEnd)}removeBetween(e,n){return new B(q_(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return B.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new B($.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new B(e,r,i)}}B.empty=new B($.empty,0,0);function q_(t,e,n){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r),{index:o,offset:a}=t.findIndex(n);if(i==e||s.isText){if(a!=n&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(q_(s.content,e-i-1,n-i-1)))}function J_(t,e,n,r){let{index:i,offset:s}=t.findIndex(e),o=t.maybeChild(i);if(s==e||o.isText)return t.cut(0,e).append(n).append(t.cut(e));let a=J_(o.content,e-s-1,n);return a&&t.replaceChild(i,o.copy(a))}function pW(t,e,n){if(n.openStart>t.depth)throw new hl("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new hl("Inconsistent open depths");return Y_(t,e,n,0)}function Y_(t,e,n,r){let i=t.index(r),s=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let o=Y_(t,e,n,r+1);return s.copy(s.content.replaceChild(i,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let o=t.parent,a=o.content;return Lr(o,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=hW(n,t);return Lr(s,Z_(t,o,a,e,r))}else return Lr(s,ml(t,e,r))}function X_(t,e){if(!e.type.compatibleContent(t.type))throw new hl("Cannot join "+e.type.name+" onto "+t.type.name)}function tf(t,e,n){let r=t.node(n);return X_(r,e.node(n)),r}function Rr(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Ls(t,e,n,r){let i=(e||t).node(n),s=0,o=e?e.index(n):i.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(Rr(t.nodeAfter,r),s++));for(let a=s;a<o;a++)Rr(i.child(a),r);e&&e.depth==n&&e.textOffset&&Rr(e.nodeBefore,r)}function Lr(t,e){return t.type.checkContent(e),t.copy(e)}function Z_(t,e,n,r,i){let s=t.depth>i&&tf(t,e,i+1),o=r.depth>i&&tf(n,r,i+1),a=[];return Ls(null,t,i,a),s&&o&&e.index(i)==n.index(i)?(X_(s,o),Rr(Lr(s,Z_(t,e,n,r,i+1)),a)):(s&&Rr(Lr(s,ml(t,e,i+1)),a),Ls(e,n,i,a),o&&Rr(Lr(o,ml(n,r,i+1)),a)),Ls(r,null,i,a),new $(a)}function ml(t,e,n){let r=[];if(Ls(null,t,n,r),t.depth>n){let i=tf(t,e,n+1);Rr(Lr(i,ml(t,e,n+1)),r)}return Ls(e,null,n,r),new $(r)}function hW(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)i=e.node(s).copy($.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class Xs{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return ye.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let a=r;r=i,i=a}let s=r.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new gl(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let o=e;;){let{index:a,offset:l}=o.content.findIndex(s),c=s-l;if(r.push(o,a,i+l),!c||(o=o.child(a),o.isText))break;s=c-1,i+=l+1}return new Xs(n,r,s)}static resolveCached(e,n){let r=Fm.get(e);if(r)for(let s=0;s<r.elts.length;s++){let o=r.elts[s];if(o.pos==n)return o}else Fm.set(e,r=new mW);let i=r.elts[r.i]=Xs.resolve(e,n);return r.i=(r.i+1)%gW,i}}class mW{constructor(){this.elts=[],this.i=0}}const gW=12,Fm=new WeakMap;class gl{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const vW=Object.create(null);let Br=class nf{constructor(e,n,r,i=ye.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||$.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&pl(this.attrs,n||e.defaultAttrs||vW)&&ye.sameSet(this.marks,r||ye.none)}copy(e=null){return e==this.content?this:new nf(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new nf(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return B.empty;let i=this.resolve(e),s=this.resolve(n),o=r?0:i.sharedDepth(n),a=i.start(o),c=i.node(o).content.cut(i.pos-a,s.pos-a);return new B(c,i.depth-o,s.depth-o)}replace(e,n,r){return pW(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return Xs.resolveCached(this,e)}resolveNoCache(e){return Xs.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Q_(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=$.empty,i=0,s=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,i,s),a=o&&o.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=i;l<s;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),o=s&&s.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=ye.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!ye.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=$.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};Br.prototype.text=void 0;class vl extends Br{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Q_(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new vl(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new vl(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function Q_(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Kr{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new yW(e,n);if(r.next==null)return Kr.empty;let i=e0(r);r.next&&r.err("Unexpected trailing text");let s=kW(CW(i));return EW(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function s(o,a){let l=o.matchFragment(e,r);if(l&&(!n||l.validEnd))return $.from(a.map(c=>c.createAndFill()));for(let c=0;c<o.next.length;c++){let{type:u,next:f}=o.next[c];if(!(u.isText||u.hasRequiredAttrs())&&i.indexOf(f)==-1){i.push(f);let d=s(f,a.concat(u));if(d)return d}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let o=[];for(let a=i;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:l}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return s}).join(`
`)}}Kr.empty=new Kr(!0);class yW{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function e0(t){let e=[];do e.push(bW(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function bW(t){let e=[];do e.push(_W(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function _W(t){let e=SW(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=wW(t,e);else break;return e}function jm(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function wW(t,e){let n=jm(t),r=n;return t.eat(",")&&(t.next!="}"?r=jm(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function xW(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let s in n){let o=n[s];o.groups.indexOf(e)>-1&&i.push(o)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function SW(t){if(t.eat("(")){let e=e0(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=xW(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function CW(t){let e=[[]];return i(s(t,0),n()),e;function n(){return e.push([])-1}function r(o,a,l){let c={term:l,to:a};return e[o].push(c),c}function i(o,a){o.forEach(l=>l.to=a)}function s(o,a){if(o.type=="choice")return o.exprs.reduce((l,c)=>l.concat(s(c,a)),[]);if(o.type=="seq")for(let l=0;;l++){let c=s(o.exprs[l],a);if(l==o.exprs.length-1)return c;i(c,a=n())}else if(o.type=="star"){let l=n();return r(a,l),i(s(o.expr,l),l),[r(l)]}else if(o.type=="plus"){let l=n();return i(s(o.expr,a),l),i(s(o.expr,l),l),[r(l)]}else{if(o.type=="opt")return[r(a)].concat(s(o.expr,a));if(o.type=="range"){let l=a;for(let c=0;c<o.min;c++){let u=n();i(s(o.expr,l),u),l=u}if(o.max==-1)i(s(o.expr,l),l);else for(let c=o.min;c<o.max;c++){let u=n();r(l,u),i(s(o.expr,l),u),l=u}return[r(l)]}else{if(o.type=="name")return[r(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function t0(t,e){return e-t}function zm(t,e){let n=[];return r(e),n.sort(t0);function r(i){let s=t[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let o=0;o<s.length;o++){let{term:a,to:l}=s[o];!a&&n.indexOf(l)==-1&&r(l)}}}function kW(t){let e=Object.create(null);return n(zm(t,0));function n(r){let i=[];r.forEach(o=>{t[o].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<i.length;u++)i[u][0]==a&&(c=i[u][1]);zm(t,l).forEach(u=>{c||i.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let s=e[r.join(",")]=new Kr(r.indexOf(t.length-1)>-1);for(let o=0;o<i.length;o++){let a=i[o][1].sort(t0);s.next.push({type:i[o][0],next:e[a.join(",")]||n(a)})}return s}}function EW(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],s=!i.validEnd,o=[];for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];o.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),r.indexOf(c)==-1&&r.push(c)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function n0(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function r0(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let s=t[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function i0(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let s=t[i];s.validate&&s.validate(e[i])}}function s0(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new TW(t,r,e[r]);return n}let Vm=class o0{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=s0(e,r.attrs),this.defaultAttrs=n0(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Kr.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:r0(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Br(this,this.computeAttrs(e),$.from(n),ye.setFrom(r))}createChecked(e=null,n,r){return n=$.from(n),this.checkContent(n),new Br(this,this.computeAttrs(e),n,ye.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=$.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore($.empty,!0);return s?new Br(this,e,n.append(s),ye.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){i0(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:ye.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,o)=>r[s]=new o0(s,n,o));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function OW(t,e,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${s}`)}}class TW{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?OW(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Ql{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=s0(e,i.attrs),this.excluded=null;let s=n0(this.attrs);this.instance=s?new ye(this,s):null}create(e=null){return!e&&this.instance?this.instance:new ye(this,r0(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((s,o)=>r[s]=new Ql(s,i++,n,o)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){i0(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class $W{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=We.from(e.nodes),n.marks=We.from(e.marks||{}),this.nodes=Vm.compile(this.spec.nodes,this),this.marks=Ql.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=r[o]||(r[o]=Kr.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?Hm(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:Hm(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Vm){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new vl(r,r.defaultAttrs,e,ye.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return Br.fromJSON(this,e)}markFromJSON(e){return ye.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function Hm(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=t.marks[i],o=s;if(s)n.push(s);else for(let a in t.marks){let l=t.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function IW(t){return t.tag!=null}function PW(t){return t.style!=null}let Nd=class rf{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(IW(i))this.tags.push(i);else if(PW(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new Wm(this,n,!1);return r.addAll(e,ye.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new Wm(this,n,!0);return r.addAll(e,ye.none,n.from,n.to),B.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(NW(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!r.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(o.getAttrs){let l=o.getAttrs(n);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let n=[];function r(i){let s=i.priority==null?50:i.priority,o=0;for(;o<n.length;o++){let a=n[o];if((a.priority==null?50:a.priority)<s)break}n.splice(o,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=Km(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=Km(o)),o.node||o.ignore||o.mark||(o.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new rf(e,rf.schemaRules(e)))}};const a0={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},AW={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},l0={ol:!0,ul:!0},yl=1,bl=2,Bs=4;function Um(t,e,n){return e!=null?(e?yl:0)|(e==="full"?bl:0):t&&t.whitespace=="pre"?yl|bl:n&~Bs}class Yo{constructor(e,n,r,i,s,o){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=o,this.content=[],this.activeMarks=ye.none,this.match=s||(o&Bs?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore($.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&yl)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=$.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore($.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!a0.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Wm{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,s,o=Um(null,n.preserveWhitespace,0)|(r?Bs:0);i?s=new Yo(i.type,i.attrs,ye.none,!0,n.topMatch||i.type.contentMatch,o):r?s=new Yo(null,null,ye.none,!0,null,o):s=new Yo(e.schema.topNodeType,null,ye.none,!0,null,o),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top;if(i.options&bl||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(i.options&yl)i.options&bl?r=r.replace(/\r\n?/g,`
`):r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let s=i.content[i.content.length-1],o=e.previousSibling;(!s||o&&o.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=e.nodeName.toLowerCase(),s;l0.hasOwnProperty(i)&&this.parser.normalizeLists&&MW(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(s=this.parser.matchTag(e,this,r));if(o?o.ignore:AW.hasOwnProperty(i))this.findInside(e),this.ignoreFallback(e,n);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let a,l=this.top,c=this.needsBlock;if(a0.hasOwnProperty(i))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),a=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);return}let u=o&&o.skip?n:this.readStyles(e,n);u&&this.addAll(e,u),a&&this.sync(l),this.needsBlock=c}else{let a=this.readStyles(e,n);a&&this.addElementByRule(e,o,a,o.consuming===!1?s:void 0)}}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],o=r.getPropertyValue(s);if(o)for(let a=void 0;;){let l=this.parser.matchStyle(s,o,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(c=>!l.clearMark(c)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(e,n,r,i){let s,o;if(n.node)if(o=this.parser.schema.nodes[n.node],o.isLeaf)this.insertNode(o.create(n.attrs),r)||this.leafFallback(e,r);else{let l=this.enter(o,n.attrs||null,r,n.preserveWhitespace);l&&(s=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,r));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l,r)}s&&this.sync(a)&&this.open--}addAll(e,n,r,i){let s=r||0;for(let o=r?e.childNodes[r]:e.firstChild,a=i==null?null:e.childNodes[i];o!=a;o=o.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(o,n);this.findAtPoint(e,s)}findPlace(e,n){let r,i;for(let s=this.open;s>=0;s--){let o=this.nodes[s],a=o.findWrapping(e);if(a&&(!r||r.length>a.length)&&(r=a,i=o,!a.length)||o.solid)break}if(!r)return null;this.sync(i);for(let s=0;s<r.length;s++)n=this.enterInner(r[s],null,n,!1);return n}insertNode(e,n){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let r=this.findPlace(e,n);if(r){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let s=ye.none;for(let o of r.concat(e.marks))(i.type?i.type.allowsMarkType(o.type):Gm(o.type,e.type))&&(s=o.addToSet(s));return i.content.push(e.mark(s)),!0}return!1}enter(e,n,r,i){let s=this.findPlace(e.create(n),r);return s&&(s=this.enterInner(e,n,r,!0,i)),s}enterInner(e,n,r,i=!1,s){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let a=Um(e,s,o.options);o.options&Bs&&o.content.length==0&&(a|=Bs);let l=ye.none;return r=r.filter(c=>(o.type?o.type.allowsMarkType(c.type):Gm(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new Yo(e,n,l,i,null,a)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),o=(a,l)=>{for(;a>=0;a--){let c=n[a];if(c==""){if(a==n.length-1||a==0)continue;for(;l>=s;l--)if(o(a-1,l))return!0;return!1}else{let u=l>0||l==0&&i?this.nodes[l].type:r&&l>=s?r.node(l-s).type:null;if(!u||u.name!=c&&u.groups.indexOf(c)==-1)return!1;l--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function MW(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&l0.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function NW(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function Km(t){let e={};for(let n in t)e[n]=t[n];return e}function Gm(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let s=[],o=a=>{s.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==e||s.indexOf(u)<0&&o(u))return!0}};if(o(i.contentMatch))return!0}}class ii{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=Bc(n).createDocumentFragment());let i=r,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let a=0,l=0;for(;a<s.length&&l<o.marks.length;){let c=o.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(s[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<s.length;)i=s.pop()[1];for(;l<o.marks.length;){let c=o.marks[l++],u=this.serializeMark(c,o.isInline,n);u&&(s.push([c,i]),i.appendChild(u.dom),i=u.contentDOM||u.dom)}}i.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=wa(Bc(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&wa(Bc(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return wa(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new ii(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=qm(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return qm(e.marks)}}function qm(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function Bc(t){return t.document||window.document}const Jm=new WeakMap;function DW(t){let e=Jm.get(t);return e===void 0&&Jm.set(t,e=RW(t)),e}function RW(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function wa(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=DW(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));let a,l=n?t.createElementNS(n,i):t.createElement(i),c=e[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let f in c)if(c[f]!=null){let d=f.indexOf(" ");d>0?l.setAttributeNS(f.slice(0,d),f.slice(d+1),c[f]):l.setAttribute(f,c[f])}}for(let f=u;f<e.length;f++){let d=e[f];if(d===0){if(f<e.length-1||f>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:p,contentDOM:h}=wa(t,d,n,r);if(l.appendChild(p),h){if(a)throw new RangeError("Multiple content holes");a=h}}}return{dom:l,contentDOM:a}}const c0=65535,u0=Math.pow(2,16);function LW(t,e){return t+e*u0}function Ym(t){return t&c0}function BW(t){return(t-(t&c0))/u0}const f0=1,d0=2,xa=4,p0=8;class sf{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&p0)>0}get deletedBefore(){return(this.delInfo&(f0|xa))>0}get deletedAfter(){return(this.delInfo&(d0|xa))>0}get deletedAcross(){return(this.delInfo&xa)>0}}class It{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&It.empty)return It.empty}recover(e){let n=0,r=Ym(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+BW(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let c=this.ranges[a+s],u=this.ranges[a+o],f=l+c;if(e<=f){let d=c?e==l?-1:e==f?1:n:n,p=l+i+(d<0?0:u);if(r)return p;let h=e==(n<0?l:f)?null:LW(a/3,e-l),m=e==l?d0:e==f?f0:xa;return(n<0?e!=l:e!=f)&&(m|=p0),new sf(p,m,h)}i+=u-c}return r?e+i:new sf(e+i,0,null)}touches(e,n){let r=0,i=Ym(n),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+s],u=l+c;if(e<=u&&a==i*3)return!0;r+=this.ranges[a+o]-c}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],a=o-(this.inverted?s:0),l=o+(this.inverted?0:s),c=this.ranges[i+n],u=this.ranges[i+r];e(a,a+c,l,l+u),s+=u-c}}invert(){return new It(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?It.empty:new It(e<0?[0,-e,0]:[0,0,e])}}It.empty=new It([]);class $i{constructor(e=[],n,r=0,i=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=i}slice(e=0,n=this.maps.length){return new $i(this.maps,this.mirror,e,n)}copy(){return new $i(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let i=e.getMirror(n);this.appendMap(e.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new $i;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let s=this.from;s<this.to;s++){let o=this.maps[s],a=o.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,e=this.maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new sf(e,i,null)}}const Fc=Object.create(null);class at{getMap(){return It.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Fc[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Fc)throw new RangeError("Duplicate use of step JSON ID "+e);return Fc[e]=n,n.prototype.jsonID=e,n}}class je{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new je(e,null)}static fail(e){return new je(null,e)}static fromReplace(e,n,r,i){try{return je.ok(e.replace(n,r,i))}catch(s){if(s instanceof hl)return je.fail(s.message);throw s}}}function Dd(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(Dd(s.content,e,s))),s.isInline&&(s=e(s,n,i)),r.push(s)}return $.fromArray(r)}class Yn extends at{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new B(Dd(n.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),n.openStart,n.openEnd);return je.fromReplace(e,this.from,this.to,s)}invert(){return new fn(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Yn(n.pos,r.pos,this.mark)}merge(e){return e instanceof Yn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Yn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Yn(n.from,n.to,e.markFromJSON(n.mark))}}at.jsonID("addMark",Yn);class fn extends at{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new B(Dd(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return je.fromReplace(e,this.from,this.to,r)}invert(){return new Yn(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new fn(n.pos,r.pos,this.mark)}merge(e){return e instanceof fn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new fn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new fn(n.from,n.to,e.markFromJSON(n.mark))}}at.jsonID("removeMark",fn);class Xn extends at{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return je.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return je.fromReplace(e,this.pos,this.pos+1,new B($.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Xn(this.pos,n.marks[i]);return new Xn(this.pos,this.mark)}}return new zi(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Xn(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Xn(n.pos,e.markFromJSON(n.mark))}}at.jsonID("addNodeMark",Xn);class zi extends at{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return je.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return je.fromReplace(e,this.pos,this.pos+1,new B($.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Xn(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new zi(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new zi(n.pos,e.markFromJSON(n.mark))}}at.jsonID("removeNodeMark",zi);class et extends at{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&of(e,this.from,this.to)?je.fail("Structure replace would overwrite content"):je.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new It([this.from,this.to-this.from,this.slice.size])}invert(e){return new et(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new et(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof et)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?B.empty:new B(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new et(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?B.empty:new B(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new et(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new et(n.from,n.to,B.fromJSON(e,n.slice),!!n.structure)}}at.jsonID("replace",et);class Ye extends at{constructor(e,n,r,i,s,o,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=a}apply(e){if(this.structure&&(of(e,this.from,this.gapFrom)||of(e,this.gapTo,this.to)))return je.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return je.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?je.fromReplace(e,this.from,this.to,r):je.fail("Content does not fit in gap")}getMap(){return new It([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Ye(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new Ye(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ye(n.from,n.to,n.gapFrom,n.gapTo,B.fromJSON(e,n.slice),n.insert,!!n.structure)}}at.jsonID("replaceAround",Ye);function of(t,e,n){let r=t.resolve(e),i=n-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function FW(t,e,n,r){let i=[],s=[],o,a;t.doc.nodesBetween(e,n,(l,c,u)=>{if(!l.isInline)return;let f=l.marks;if(!r.isInSet(f)&&u.type.allowsMarkType(r.type)){let d=Math.max(c,e),p=Math.min(c+l.nodeSize,n),h=r.addToSet(f);for(let m=0;m<f.length;m++)f[m].isInSet(h)||(o&&o.to==d&&o.mark.eq(f[m])?o.to=p:i.push(o=new fn(d,p,f[m])));a&&a.to==d?a.to=p:s.push(a=new Yn(d,p,r))}}),i.forEach(l=>t.step(l)),s.forEach(l=>t.step(l))}function jW(t,e,n,r){let i=[],s=0;t.doc.nodesBetween(e,n,(o,a)=>{if(!o.isInline)return;s++;let l=null;if(r instanceof Ql){let c=o.marks,u;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(o.marks)&&(l=[r]):l=o.marks;if(l&&l.length){let c=Math.min(a+o.nodeSize,n);for(let u=0;u<l.length;u++){let f=l[u],d;for(let p=0;p<i.length;p++){let h=i[p];h.step==s-1&&f.eq(i[p].style)&&(d=h)}d?(d.to=c,d.step=s):i.push({style:f,from:Math.max(a,e),to:c,step:s})}}}),i.forEach(o=>t.step(new fn(o.from,o.to,o.style)))}function h0(t,e,n,r=n.contentMatch,i=!0){let s=t.doc.nodeAt(e),o=[],a=e+1;for(let l=0;l<s.childCount;l++){let c=s.child(l),u=a+c.nodeSize,f=r.matchType(c.type);if(!f)o.push(new et(a,u,B.empty));else{r=f;for(let d=0;d<c.marks.length;d++)n.allowsMarkType(c.marks[d].type)||t.step(new fn(a,u,c.marks[d]));if(i&&c.isText&&n.whitespace!="pre"){let d,p=/\r?\n|\r/g,h;for(;d=p.exec(c.text);)h||(h=new B($.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),o.push(new et(a+d.index,a+d.index+d[0].length,h))}}a=u}if(!r.validEnd){let l=r.fillBefore($.empty,!0);t.replace(a,a,new B(l,0,0))}for(let l=o.length-1;l>=0;l--)t.step(o[l])}function zW(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Co(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),s=t.$from.index(r),o=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(s,o,n))return r;if(r==0||i.type.spec.isolating||!zW(i,s,o))break}return null}function VW(t,e,n){let{$from:r,$to:i,depth:s}=e,o=r.before(s+1),a=i.after(s+1),l=o,c=a,u=$.empty,f=0;for(let h=s,m=!1;h>n;h--)m||r.index(h)>0?(m=!0,u=$.from(r.node(h).copy(u)),f++):l--;let d=$.empty,p=0;for(let h=s,m=!1;h>n;h--)m||i.after(h+1)<i.end(h)?(m=!0,d=$.from(i.node(h).copy(d)),p++):c++;t.step(new Ye(l,c,o,a,new B(u.append(d),f,p),u.size-f,!0))}function Rd(t,e,n=null,r=t){let i=HW(t,e),s=i&&UW(r,e);return s?i.map(Xm).concat({type:e,attrs:n}).concat(s.map(Xm)):null}function Xm(t){return{type:t,attrs:null}}function HW(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return n.canReplaceWith(r,i,o)?s:null}function UW(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.child(r),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:o}function WW(t,e,n){let r=$.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let a=n[o].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=$.from(n[o].type.create(n[o].attrs,r))}let i=e.start,s=e.end;t.step(new Ye(i,s,i,s,new B(r,0,0),n.length,!0))}function KW(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(o,a)=>{let l=typeof i=="function"?i(o):i;if(o.isTextblock&&!o.hasMarkup(r,l)&&JW(t.doc,t.mapping.slice(s).map(a),r)){let c=null;if(r.schema.linebreakReplacement){let p=r.whitespace=="pre",h=!!r.contentMatch.matchType(r.schema.linebreakReplacement);p&&!h?c=!1:!p&&h&&(c=!0)}c===!1&&qW(t,o,a,s),h0(t,t.mapping.slice(s).map(a,1),r,void 0,c===null);let u=t.mapping.slice(s),f=u.map(a,1),d=u.map(a+o.nodeSize,1);return t.step(new Ye(f,d,f+1,d-1,new B($.from(r.create(l,null,o.marks)),0,0),1,!0)),c===!0&&GW(t,o,a,s),!1}})}function GW(t,e,n,r){e.forEach((i,s)=>{if(i.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(i.text);){let l=t.mapping.slice(r).map(n+1+s+o.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function qW(t,e,n,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let o=t.mapping.slice(r).map(n+1+s);t.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function JW(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function YW(t,e,n,r,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let o=n.create(r,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,o);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Ye(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new B($.from(o),0,0),1,!0))}function Ii(t,e,n=1,r){let i=t.resolve(e),s=i.depth-n,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,u=n-2;c>s;c--,u--){let f=i.node(c),d=i.index(c);if(f.type.spec.isolating)return!1;let p=f.content.cutByIndex(d,f.childCount),h=r&&r[u+1];h&&(p=p.replaceChild(0,h.type.create(h.attrs)));let m=r&&r[u]||f;if(!f.canReplace(d+1,f.childCount)||!m.type.validContent(p))return!1}let a=i.indexAfter(s),l=r&&r[0];return i.node(s).canReplaceWith(a,a,l?l.type:i.node(s+1).type)}function XW(t,e,n=1,r){let i=t.doc.resolve(e),s=$.empty,o=$.empty;for(let a=i.depth,l=i.depth-n,c=n-1;a>l;a--,c--){s=$.from(i.node(a).copy(s));let u=r&&r[c];o=$.from(u?u.type.create(u.attrs,o):i.node(a).copy(o))}t.step(new et(e,e,new B(s.append(o),n,n),!0))}function ec(t,e){let n=t.resolve(e),r=n.index();return ZW(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function ZW(t,e){return!!(t&&e&&!t.isLeaf&&t.canAppend(e))}function QW(t,e,n){let r=new et(e-n,e+n,B.empty,!0);t.step(r)}function e8(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function m0(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let o=r.depth;o>=0;o--){let a=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,l=r.index(o)+(a>0?1:0),c=r.node(o),u=!1;if(s==1)u=c.canReplace(l,l,i);else{let f=c.contentMatchAt(l).findWrapping(i.firstChild.type);u=f&&c.canReplaceWith(l,l,f[0])}if(u)return a==0?r.pos:a<0?r.before(o+1):r.after(o+1)}return null}function Ld(t,e,n=e,r=B.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),s=t.resolve(n);return g0(i,s,r)?new et(e,n,r):new t8(i,s,r).fit()}function g0(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class t8{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=$.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=$.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,o=r.depth,a=i.depth;for(;o&&a&&s.childCount==1;)s=s.firstChild.content,o--,a--;let l=new B(s,o,a);return e>-1?new Ye(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new et(r.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=jc(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,f=null;if(n==1&&(o?c.matchType(o.type)||(f=c.fillBefore($.from(o),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:a,parent:s,inject:f};if(n==2&&o&&(u=c.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:s,wrap:u};if(s&&c.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=jc(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new B(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=jc(e,n);if(i.childCount<=1&&n>0){let s=e.size-n<=n+i.size;this.unplaced=new B(Os(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new B(Os(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let m=0;m<s.length;m++)this.openFrontierNode(s[m]);let o=this.unplaced,a=r?r.content:o.content,l=o.openStart-e,c=0,u=[],{match:f,type:d}=this.frontier[n];if(i){for(let m=0;m<i.childCount;m++)u.push(i.child(m));f=f.matchFragment(i)}let p=a.size+e-(o.content.size-o.openEnd);for(;c<a.childCount;){let m=a.child(c),g=f.matchType(m.type);if(!g)break;c++,(c>1||l==0||m.content.size)&&(f=g,u.push(v0(m.mark(d.allowedMarks(m.marks)),c==1?l:0,c==a.childCount?p:-1)))}let h=c==a.childCount;h||(p=-1),this.placed=Ts(this.placed,n,$.from(u)),this.frontier[n].match=f,h&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let m=0,g=a;m<p;m++){let v=g.lastChild;this.frontier.push({type:v.type,match:v.contentMatchAt(v.childCount)}),g=v.content}this.unplaced=h?e==0?B.empty:new B(Os(o.content,e-1,1),e-1,p<0?o.openEnd:e-1):new B(Os(o.content,e,c),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!zc(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),o=zc(e,n,i,r,s);if(o){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=zc(e,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:n,fit:o,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Ts(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Ts(this.placed,this.depth,$.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore($.empty,!0);n.childCount&&(this.placed=Ts(this.placed,this.frontier.length,n))}}function Os(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Os(t.firstChild.content,e-1,n)))}function Ts(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Ts(t.lastChild.content,e-1,n)))}function jc(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function v0(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,v0(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore($.empty,!0)))),t.copy(r)}function zc(t,e,n,r,i){let s=t.node(e),o=i?t.indexAfter(e):t.index(e);if(o==s.childCount&&!n.compatibleContent(s.type))return null;let a=r.fillBefore(s.content,!0,o);return a&&!n8(n,s.content,o)?a:null}function n8(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function r8(t){return t.spec.defining||t.spec.definingForContent}function i8(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),s=t.doc.resolve(n);if(g0(i,s,r))return t.step(new et(e,n,r));let o=b0(i,t.doc.resolve(n));o[o.length-1]==0&&o.pop();let a=-(i.depth+1);o.unshift(a);for(let d=i.depth,p=i.pos-1;d>0;d--,p--){let h=i.node(d).type.spec;if(h.defining||h.definingAsContext||h.isolating)break;o.indexOf(d)>-1?a=d:i.before(d)==p&&o.splice(1,0,-d)}let l=o.indexOf(a),c=[],u=r.openStart;for(let d=r.content,p=0;;p++){let h=d.firstChild;if(c.push(h),p==r.openStart)break;d=h.content}for(let d=u-1;d>=0;d--){let p=c[d],h=r8(p.type);if(h&&!p.sameMarkup(i.node(Math.abs(a)-1)))u=d;else if(h||!p.type.isTextblock)break}for(let d=r.openStart;d>=0;d--){let p=(d+u+1)%(r.openStart+1),h=c[p];if(h)for(let m=0;m<o.length;m++){let g=o[(m+l)%o.length],v=!0;g<0&&(v=!1,g=-g);let x=i.node(g-1),k=i.index(g-1);if(x.canReplaceWith(k,k,h.type,h.marks))return t.replace(i.before(g),v?s.after(g):n,new B(y0(r.content,0,r.openStart,p),p,r.openEnd))}}let f=t.steps.length;for(let d=o.length-1;d>=0&&(t.replace(e,n,r),!(t.steps.length>f));d--){let p=o[d];p<0||(e=i.before(p),n=s.after(p))}}function y0(t,e,n,r,i){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(y0(s.content,e+1,n,r,s)))}if(e>r){let s=i.contentMatchAt(0),o=s.fillBefore(t).append(t);t=o.append(s.matchFragment(o).fillBefore($.empty,!0))}return t}function s8(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=e8(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new B($.from(r),0,0))}function o8(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),s=b0(r,i);for(let o=0;o<s.length;o++){let a=s[o],l=o==s.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return t.delete(r.before(a),i.after(a))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(e-r.start(o)==r.depth-o&&n>r.end(o)&&i.end(o)-n!=i.depth-o)return t.delete(r.before(o),n);t.delete(e,n)}function b0(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&n.push(i)}return n}class Pi extends at{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return je.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return je.fromReplace(e,this.pos,this.pos+1,new B($.from(i),0,n.isLeaf?0:1))}getMap(){return It.empty}invert(e){return new Pi(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Pi(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Pi(n.pos,n.attr,n.value)}}at.jsonID("attr",Pi);class Zs extends at{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return je.ok(r)}getMap(){return It.empty}invert(e){return new Zs(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Zs(n.attr,n.value)}}at.jsonID("docAttr",Zs);let Vi=class extends Error{};Vi=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Vi.prototype=Object.create(Error.prototype);Vi.prototype.constructor=Vi;Vi.prototype.name="TransformError";class _0{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new $i}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Vi(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=B.empty){let i=Ld(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new B($.from(r),0,0))}delete(e,n){return this.replace(e,n,B.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return i8(this,e,n,r),this}replaceRangeWith(e,n,r){return s8(this,e,n,r),this}deleteRange(e,n){return o8(this,e,n),this}lift(e,n){return VW(this,e,n),this}join(e,n=1){return QW(this,e,n),this}wrap(e,n){return WW(this,e,n),this}setBlockType(e,n=e,r,i=null){return KW(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return YW(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new Pi(e,n,r)),this}setDocAttribute(e,n){return this.step(new Zs(e,n)),this}addNodeMark(e,n){return this.step(new Xn(e,n)),this}removeNodeMark(e,n){if(!(n instanceof ye)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new zi(e,n)),this}split(e,n=1,r){return XW(this,e,n,r),this}addMark(e,n,r){return FW(this,e,n,r),this}removeMark(e,n,r){return jW(this,e,n,r),this}clearIncompatible(e,n,r){return h0(this,e,n,r),this}}const Vc=Object.create(null);class se{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new w0(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=B.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let s=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:c}=o[a],u=e.mapping.slice(s);e.replaceRange(u.map(l.pos),u.map(c.pos),a?B.empty:n),a==0&&eg(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:a}=i[s],l=e.mapping.slice(r),c=l.map(o.pos),u=l.map(a.pos);s?e.deleteRange(c,u):(e.replaceRangeWith(c,u,n),eg(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new le(e):yi(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let o=n<0?yi(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):yi(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(o)return o}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new At(e.node(0))}static atStart(e){return yi(e,e,0,0,1)||new At(e)}static atEnd(e){return yi(e,e,e.content.size,e.childCount,-1)||new At(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Vc[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Vc)throw new RangeError("Duplicate use of selection JSON ID "+e);return Vc[e]=n,n.prototype.jsonID=e,n}getBookmark(){return le.between(this.$anchor,this.$head).getBookmark()}}se.prototype.visible=!0;class w0{constructor(e,n){this.$from=e,this.$to=n}}let Zm=!1;function Qm(t){!Zm&&!t.parent.inlineContent&&(Zm=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class le extends se{constructor(e,n=e){Qm(e),Qm(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return se.near(r);let i=e.resolve(n.map(this.anchor));return new le(i.parent.inlineContent?i:r,r)}replace(e,n=B.empty){if(super.replace(e,n),n==B.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof le&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new tc(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new le(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=se.findFrom(n,r,!0)||se.findFrom(n,-r,!0);if(s)n=s.$head;else return se.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(se.findFrom(e,-r,!0)||se.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new le(e,n)}}se.jsonID("text",le);class tc{constructor(e,n){this.anchor=e,this.head=n}map(e){return new tc(e.map(this.anchor),e.map(this.head))}resolve(e){return le.between(e.resolve(this.anchor),e.resolve(this.head))}}class ne extends se{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=e.resolve(i);return r?se.near(s):new ne(s)}content(){return new B($.from(this.node),0,0)}eq(e){return e instanceof ne&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Bd(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ne(e.resolve(n.anchor))}static create(e,n){return new ne(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}ne.prototype.visible=!1;se.jsonID("node",ne);class Bd{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new tc(r,r):new Bd(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&ne.isSelectable(r)?new ne(n):se.near(n)}}class At extends se{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=B.empty){if(n==B.empty){e.delete(0,e.doc.content.size);let r=se.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new At(e)}map(e){return new At(e)}eq(e){return e instanceof At}getBookmark(){return a8}}se.jsonID("all",At);const a8={map(){return this},resolve(t){return new At(t)}};function yi(t,e,n,r,i,s=!1){if(e.inlineContent)return le.create(t,n);for(let o=r-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let a=e.child(o);if(a.isAtom){if(!s&&ne.isSelectable(a))return ne.create(t,n-(i<0?a.nodeSize:0))}else{let l=yi(t,a,n+i,i<0?a.childCount:0,i,s);if(l)return l}n+=a.nodeSize*i}return null}function eg(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof et||i instanceof Ye))return;let s=t.mapping.maps[r],o;s.forEach((a,l,c,u)=>{o==null&&(o=u)}),t.setSelection(se.near(t.doc.resolve(o),n))}const tg=1,Xo=2,ng=4;class l8 extends _0{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|tg)&~Xo,this.storedMarks=null,this}get selectionSet(){return(this.updated&tg)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Xo,this}ensureMarks(e){return ye.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Xo)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Xo,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||ye.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let o=this.doc.resolve(n);s=r==n?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,s)),this.selection.empty||this.setSelection(se.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=ng,this}get scrolledIntoView(){return(this.updated&ng)>0}}function rg(t,e){return!e||!t?t:t.bind(e)}class $s{constructor(e,n,r){this.name=e,this.init=rg(n.init,r),this.apply=rg(n.apply,r)}}const c8=[new $s("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new $s("selection",{init(t,e){return t.selection||se.atStart(e.doc)},apply(t){return t.selection}}),new $s("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new $s("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Hc{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=c8.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new $s(r.key,r.spec.state,r))})}}class ki{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=i?i[o].n:0,c=i?i[o].state:this,u=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,c,r);if(u&&r.filterTransaction(u,o)){if(u.setMeta("appendedTransaction",e),!i){i=[];for(let f=0;f<this.config.plugins.length;f++)i.push(f<o?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),s=!0}i&&(i[o]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new ki(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new l8(this)}static create(e){let n=new Hc(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new ki(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new Hc(this.schema,e.plugins),r=n.fields,i=new ki(n);for(let s=0;s<r.length;s++){let o=r[s].name;i[o]=this.hasOwnProperty(o)?this[o]:r[s].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new Hc(e.schema,e.plugins),s=new ki(i);return i.fields.forEach(o=>{if(o.name=="doc")s.doc=Br.fromJSON(e.schema,n.doc);else if(o.name=="selection")s.selection=se.fromJSON(s.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==o.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){s[o.name]=c.fromJSON.call(l,e,n[a],s);return}}s[o.name]=o.init(e,s)}}),s}}function x0(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=x0(i,e,{})),n[r]=i}return n}class St{constructor(e){this.spec=e,this.props={},e.props&&x0(e.props,this,this.props),this.key=e.key?e.key.key:S0("plugin")}getState(e){return e[this.key]}}const Uc=Object.create(null);function S0(t){return t in Uc?t+"$"+ ++Uc[t]:(Uc[t]=0,t+"$")}class si{constructor(e="key"){this.key=S0(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Ke=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Qs=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let af=null;const Sn=function(t,e,n){let r=af||(af=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},u8=function(){af=null},Gr=function(t,e,n,r){return n&&(ig(t,e,n,r,-1)||ig(t,e,n,r,1))},f8=/^(img|br|input|textarea|hr)$/i;function ig(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Ft(t))){let s=t.parentNode;if(!s||s.nodeType!=1||ko(t)||f8.test(t.nodeName)||t.contentEditable=="false")return!1;e=Ke(t)+(i<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?Ft(t):0}else return!1}}function Ft(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function d8(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Ft(t)}else if(t.parentNode&&!ko(t))e=Ke(t),t=t.parentNode;else return null}}function p8(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!ko(t))e=Ke(t)+1,t=t.parentNode;else return null}}function h8(t,e,n){for(let r=e==0,i=e==Ft(t);r||i;){if(t==n)return!0;let s=Ke(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,i=i&&s==Ft(t)}}function ko(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const nc=function(t){return t.focusNode&&Gr(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Er(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function m8(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function g8(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(Ft(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(Ft(r.startContainer),r.startOffset)}}}const gn=typeof navigator<"u"?navigator:null,sg=typeof document<"u"?document:null,yr=gn&&gn.userAgent||"",lf=/Edge\/(\d+)/.exec(yr),C0=/MSIE \d/.exec(yr),cf=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(yr),Ct=!!(C0||cf||lf),rr=C0?document.documentMode:cf?+cf[1]:lf?+lf[1]:0,nn=!Ct&&/gecko\/(\d+)/i.test(yr);nn&&+(/Firefox\/(\d+)/.exec(yr)||[0,0])[1];const uf=!Ct&&/Chrome\/(\d+)/.exec(yr),rt=!!uf,k0=uf?+uf[1]:0,mt=!Ct&&!!gn&&/Apple Computer/.test(gn.vendor),Hi=mt&&(/Mobile\/\w+/.test(yr)||!!gn&&gn.maxTouchPoints>2),Bt=Hi||(gn?/Mac/.test(gn.platform):!1),v8=gn?/Win/.test(gn.platform):!1,Xt=/Android \d/.test(yr),Eo=!!sg&&"webkitFontSmoothing"in sg.documentElement.style,y8=Eo?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function b8(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function wn(t,e){return typeof t=="number"?t:t[e]}function _8(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function og(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let o=n||t.dom;o;o=Qs(o)){if(o.nodeType!=1)continue;let a=o,l=a==s.body,c=l?b8(s):_8(a),u=0,f=0;if(e.top<c.top+wn(r,"top")?f=-(c.top-e.top+wn(i,"top")):e.bottom>c.bottom-wn(r,"bottom")&&(f=e.bottom-e.top>c.bottom-c.top?e.top+wn(i,"top")-c.top:e.bottom-c.bottom+wn(i,"bottom")),e.left<c.left+wn(r,"left")?u=-(c.left-e.left+wn(i,"left")):e.right>c.right-wn(r,"right")&&(u=e.right-c.right+wn(i,"right")),u||f)if(l)s.defaultView.scrollBy(u,f);else{let d=a.scrollLeft,p=a.scrollTop;f&&(a.scrollTop+=f),u&&(a.scrollLeft+=u);let h=a.scrollLeft-d,m=a.scrollTop-p;e={left:e.left-h,top:e.top-m,right:e.right-h,bottom:e.bottom-m}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(o).position))break}}function w8(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,o=n+1;o<Math.min(innerHeight,e.bottom);o+=5){let a=t.root.elementFromPoint(s,o);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:E0(t.dom)}}function E0(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Qs(r));return e}function x8({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;O0(n,r==0?0:r-e)}function O0(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:s}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let hi=null;function S8(t){if(t.setActive)return t.setActive();if(hi)return t.focus(hi);let e=E0(t);t.focus(hi==null?{get preventScroll(){return hi={preventScroll:!0},!0}}:void 0),hi||(hi=!1,O0(e,0))}function T0(t,e){let n,r=2e8,i,s=0,o=e.top,a=e.top,l,c;for(let u=t.firstChild,f=0;u;u=u.nextSibling,f++){let d;if(u.nodeType==1)d=u.getClientRects();else if(u.nodeType==3)d=Sn(u).getClientRects();else continue;for(let p=0;p<d.length;p++){let h=d[p];if(h.top<=o&&h.bottom>=a){o=Math.max(h.bottom,o),a=Math.min(h.top,a);let m=h.left>e.left?h.left-e.left:h.right<e.left?e.left-h.right:0;if(m<r){n=u,r=m,i=m&&n.nodeType==3?{left:h.right<e.left?h.right:h.left,top:e.top}:e,u.nodeType==1&&m&&(s=f+(e.left>=(h.left+h.right)/2?1:0));continue}}else h.top>e.top&&!l&&h.left<=e.left&&h.right>=e.left&&(l=u,c={left:Math.max(h.left,Math.min(h.right,e.left)),top:h.top});!n&&(e.left>=h.right&&e.top>=h.top||e.left>=h.left&&e.top>=h.bottom)&&(s=f+1)}}return!n&&l&&(n=l,i=c,r=0),n&&n.nodeType==3?C8(n,i):!n||r&&n.nodeType==1?{node:t,offset:s}:T0(n,i)}function C8(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let s=Bn(r,1);if(s.top!=s.bottom&&Fd(e,s))return{node:t,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function Fd(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function k8(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function E8(t,e,n){let{node:r,offset:i}=T0(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();s=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(r,i,s)}function O8(t,e,n,r){let i=-1;for(let s=e,o=!1;s!=t.dom;){let a=t.docView.nearestDesc(s,!0);if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)){let l=a.dom.getBoundingClientRect();if(a.node.isBlock&&a.parent&&(!o&&l.left>r.left||l.top>r.top?i=a.posBefore:(!o&&l.right<r.left||l.bottom<r.top)&&(i=a.posAfter),o=!0),!a.contentDOM&&i<0&&!a.node.isText)return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter}s=a.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function $0(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let o=t.childNodes[s];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(Fd(e,c))return $0(o,e,c)}}if((s=(s+1)%r)==i)break}return t}function T8(t,e){let n=t.dom.ownerDocument,r,i=0,s=g8(n,e.left,e.top);s&&({node:r,offset:i}=s);let o=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),a;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let c=t.dom.getBoundingClientRect();if(!Fd(e,c)||(o=$0(t.dom,e,c),!o))return null}if(mt)for(let c=o;r&&c;c=Qs(c))c.draggable&&(r=void 0);if(o=k8(o,e),r){if(nn&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let u=r.childNodes[i],f;u.nodeName=="IMG"&&(f=u.getBoundingClientRect()).right<=e.left&&f.bottom>e.top&&i++}let c;Eo&&i&&r.nodeType==1&&(c=r.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=O8(t,r,i,e))}a==null&&(a=E8(t,o,e));let l=t.docView.nearestDesc(o,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function ag(t){return t.top<t.bottom||t.left<t.right}function Bn(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(ag(r))return r}return Array.prototype.find.call(n,ag)||t.getBoundingClientRect()}const $8=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function I0(t,e,n){let{node:r,offset:i,atom:s}=t.docView.domFromPos(e,n<0?-1:1),o=Eo||nn;if(r.nodeType==3)if(o&&($8.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let l=Bn(Sn(r,i,i),n);if(nn&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let c=Bn(Sn(r,i-1,i-1),-1);if(c.top==l.top){let u=Bn(Sn(r,i,i+1),-1);if(u.top!=l.top)return vs(u,u.left<c.left)}}return l}else{let l=i,c=i,u=n<0?1:-1;return n<0&&!i?(c++,u=-1):n>=0&&i==r.nodeValue.length?(l--,u=1):n<0?l--:c++,vs(Bn(Sn(r,l,c),u),u<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==Ft(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return Wc(l.getBoundingClientRect(),!1)}if(s==null&&i<Ft(r)){let l=r.childNodes[i];if(l.nodeType==1)return Wc(l.getBoundingClientRect(),!0)}return Wc(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==Ft(r))){let l=r.childNodes[i-1],c=l.nodeType==3?Sn(l,Ft(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return vs(Bn(c,1),!1)}if(s==null&&i<Ft(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?Sn(l,0,o?0:1):l.nodeType==1?l:null:null;if(c)return vs(Bn(c,-1),!0)}return vs(Bn(r.nodeType==3?Sn(r):r,-n),n>=0)}function vs(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Wc(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function P0(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function I8(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return P0(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let o=I0(t,i.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=Sn(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(n=="up"?o.top-u.top>(u.bottom-o.top)*2:u.bottom-o.bottom>(o.bottom-u.top)*2))return!1}}return!0})}const P8=/[\u0590-\u08ac]/;function A8(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,a=t.domSelection();return a?!P8.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?s:o:P0(t,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:f}=t.domSelectionRange(),d=a.caretBidiLevel;a.modify("move",n,"character");let p=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:h,focusOffset:m}=t.domSelectionRange(),g=h&&!p.contains(h.nodeType==1?h:h.parentNode)||l==h&&c==m;try{a.collapse(u,f),l&&(l!=u||c!=f)&&a.extend&&a.extend(l,c)}catch{}return d!=null&&(a.caretBidiLevel=d),g}):r.pos==r.start()||r.pos==r.end()}let lg=null,cg=null,ug=!1;function M8(t,e,n){return lg==e&&cg==n?ug:(lg=e,cg=n,ug=n=="up"||n=="down"?I8(t,e,n):A8(t,e,n))}const Ht=0,fg=1,Tr=2,vn=3;class Oo{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Ht,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,o;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>Ke(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),o;if(s&&(!n||s.node))if(r&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.size;if(a>e||o instanceof M0){i=e-s;break}s=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof A0&&s.side>=0;r--);if(n<=0){let s,o=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,o=!1);return s&&n&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?Ke(s.dom)+1:0}}else{let s,o=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?Ke(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=r,a=0;;a++){let l=this.children[a],c=o+l.size;if(i==-1&&e<=c){let u=o+l.border;if(e>=u&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,u);e=o;for(let f=a;f>0;f--){let d=this.children[f-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){i=Ke(d.dom)+1;break}e-=d.size}i==-1&&(i=0)}if(i>-1&&(c>n||a==this.children.length-1)){n=c;for(let u=a+1;u<this.children.length;u++){let f=this.children[u];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){s=Ke(f.dom);break}n+=f.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let s=Math.min(e,n),o=Math.max(e,n);for(let d=0,p=0;d<this.children.length;d++){let h=this.children[d],m=p+h.size;if(s>p&&o<m)return h.setSelection(e-p-h.border,n-p-h.border,r,i);p=m}let a=this.domFromPos(e,e?-1:1),l=n==e?a:this.domFromPos(n,n?-1:1),c=r.getSelection(),u=!1;if((nn||mt)&&e==n){let{node:d,offset:p}=a;if(d.nodeType==3){if(u=!!(p&&d.nodeValue[p-1]==`
`),u&&p==d.nodeValue.length)for(let h=d,m;h;h=h.parentNode){if(m=h.nextSibling){m.nodeName=="BR"&&(a=l={node:m.parentNode,offset:Ke(m)+1});break}let g=h.pmViewDesc;if(g&&g.node&&g.node.isBlock)break}}else{let h=d.childNodes[p-1];u=h&&(h.nodeName=="BR"||h.contentEditable=="false")}}if(nn&&c.focusNode&&c.focusNode!=l.node&&c.focusNode.nodeType==1){let d=c.focusNode.childNodes[c.focusOffset];d&&d.contentEditable=="false"&&(i=!0)}if(!(i||u&&mt)&&Gr(a.node,a.offset,c.anchorNode,c.anchorOffset)&&Gr(l.node,l.offset,c.focusNode,c.focusOffset))return;let f=!1;if((c.extend||e==n)&&!u){c.collapse(a.node,a.offset);try{e!=n&&c.extend(l.node,l.offset),f=!0}catch{}}if(!f){if(e>n){let p=a;a=l,l=p}let d=document.createRange();d.setEnd(l.node,l.offset),d.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(d)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],o=r+s.size;if(r==o?e<=o&&n>=r:e<o&&n>r){let a=r+s.border,l=o-s.border;if(e>=a&&n<=l){this.dirty=e==r||n==o?Tr:fg,e==a&&n==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=vn:s.markDirty(e-a,n-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Tr:vn}r=o}this.dirty=Tr}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Tr:fg;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class A0 extends Oo{constructor(e,n,r,i){let s,o=n.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==Ht&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class N8 extends Oo{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class qr extends Oo{constructor(e,n,r,i){super(e,[],r,i),this.mark=n}static create(e,n,r,i){let s=i.nodeViews[n.type.name],o=s&&s(n,i,r);return(!o||!o.dom)&&(o=ii.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new qr(e,n,o.dom,o.contentDOM||o.dom)}parseRule(){return this.dirty&vn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=vn&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Ht){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Ht}}slice(e,n,r){let i=qr.create(this.parent,this.mark,!0,r),s=this.children,o=this.size;n<o&&(s=df(s,n,o,r)),e>0&&(s=df(s,0,e,r));for(let a=0;a<s.length;a++)s[a].parent=i;return i.children=s,i}}class ir extends Oo{constructor(e,n,r,i,s,o,a,l,c){super(e,[],s,o),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(e,n,r,i,s,o){let a=s.nodeViews[n.type.name],l,c=a&&a(n,s,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},r,i),u=c&&c.dom,f=c&&c.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:f}=ii.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!f&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let d=u;return u=R0(u,r,n),c?l=new D8(e,n,r,i,u,f||null,d,c,s,o+1):n.isText?new rc(e,n,r,i,u,d,s):new ir(e,n,r,i,u,f||null,d,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>$.empty)}return e}matchesNode(e,n,r){return this.dirty==Ht&&e.eq(this.node)&&_l(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,s=e.composing?this.localCompositionInfo(e,n):null,o=s&&s.pos>-1?s:null,a=s&&s.pos<0,l=new L8(this,o&&o.node,e);j8(this.node,this.innerDeco,(c,u,f)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,e):c.type.side>=0&&!f&&l.syncToMarks(u==this.node.childCount?ye.none:this.node.child(u).marks,r,e),l.placeWidget(c,e,i)},(c,u,f,d)=>{l.syncToMarks(c.marks,r,e);let p;l.findNodeMatch(c,u,f,d)||a&&e.state.selection.from>i&&e.state.selection.to<i+c.nodeSize&&(p=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(c,u,f,p,e)||l.updateNextNode(c,u,f,e,d,i)||l.addNode(c,u,f,e,i),i+=c.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Tr)&&(o&&this.protectLocalComposition(e,o),N0(this.contentDOM,this.children,e),Hi&&z8(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof le)||r<n||i>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,a=V8(this.node.content,o,r-n,i-n);return a<0?null:{node:s,pos:a,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new N8(this,s,n,i);e.input.compositionNodes.push(o),this.children=df(this.children,r,r+i.length,e,o)}update(e,n,r,i){return this.dirty==vn||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Ht}updateOuterDeco(e){if(_l(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=D0(this.dom,this.nodeDOM,ff(this.outerDeco,this.node,n),ff(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function dg(t,e,n,r,i){R0(r,e,t);let s=new ir(void 0,t,e,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class rc extends ir{constructor(e,n,r,i,s,o,a){super(e,n,r,i,s,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==vn||this.dirty!=Ht&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Ht||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Ht,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),s=document.createTextNode(i.text);return new rc(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=vn)}get domAtom(){return!1}isText(e){return this.node.text==e}}class M0 extends Oo{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Ht&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class D8 extends ir{constructor(e,n,r,i,s,o,a,l,c,u){super(e,n,r,i,s,o,a,c,u),this.spec=l}update(e,n,r,i){if(this.dirty==vn)return!1;if(this.spec.update){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function N0(t,e,n){let r=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let o=e[s],a=o.dom;if(a.parentNode==t){for(;a!=r;)r=pg(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(a,r);if(o instanceof qr){let l=r?r.previousSibling:t.lastChild;N0(o.contentDOM,o.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=pg(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const Fs=function(t){t&&(this.nodeName=t)};Fs.prototype=Object.create(null);const $r=[new Fs];function ff(t,e,n){if(t.length==0)return $r;let r=n?$r[0]:new Fs,i=[r];for(let s=0;s<t.length;s++){let o=t[s].type.attrs;if(o){o.nodeName&&i.push(r=new Fs(o.nodeName));for(let a in o){let l=o[a];l!=null&&(n&&i.length==1&&i.push(r=new Fs(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return i}function D0(t,e,n,r){if(n==$r&&r==$r)return e;let i=e;for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(s){let l;a&&a.nodeName==o.nodeName&&i!=t&&(l=i.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=$r[0]),i=l}R8(i,a||$r[0],o)}return i}function R8(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function R0(t,e,n){return D0(t,t,$r,ff(e,n,t.nodeType!=1))}function _l(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function pg(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class L8{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=B8(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,s=this.stack.length>>1,o=Math.min(s,e.length);for(;i<o&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=Ht,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[s])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=qr.create(this.top,e[s],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,r,i){let s=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,n,r))s=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,n,r)&&!this.preMatch.matched.has(c)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,i,s){let o=this.top.children[i];return o.dirty==vn&&o.dom==o.contentDOM&&(o.dirty=Tr),o.update(e,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,s,o){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof ir){let c=this.preMatch.matched.get(l);if(c!=null&&c!=s)return!1;let u=l.dom,f,d=this.isLocked(u)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=vn&&_l(n,l.outerDeco));if(!d&&l.update(e,n,r,i))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!d&&(f=this.recreateWrapper(l,e,n,r,i,o)))return this.destroyBetween(this.index,a),this.top.children[this.index]=f,f.contentDOM&&(f.dirty=Tr,f.updateChildren(i,o+1),f.dirty=Ht),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,s,o){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!_l(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let a=ir.create(this.top,n,r,i,s,o);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,n,r,i,s){let o=ir.create(this.top,e,n,r,i,s);o.contentDOM&&o.updateChildren(i,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new A0(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof qr;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof rc)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((mt||rt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new M0(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function B8(t,e){let n=e,r=n.children.length,i=t.childCount,s=new Map,o=[];e:for(;i>0;){let a;for(;;)if(r){let c=n.children[r-1];if(c instanceof qr)n=c,r=c.children.length;else{a=c,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=t.child(i-1))break;--i,s.set(a,i),o.push(a)}}return{index:i,matched:s,matches:o.reverse()}}function F8(t,e){return t.type.side-e.type.side}function j8(t,e,n,r){let i=e.locals(t),s=0;if(i.length==0){for(let c=0;c<t.childCount;c++){let u=t.child(c);r(u,i,e.forChild(s,u),c),s+=u.nodeSize}return}let o=0,a=[],l=null;for(let c=0;;){let u,f;for(;o<i.length&&i[o].to==s;){let g=i[o++];g.widget&&(u?(f||(f=[u])).push(g):u=g)}if(u)if(f){f.sort(F8);for(let g=0;g<f.length;g++)n(f[g],c,!!l)}else n(u,c,!!l);let d,p;if(l)p=-1,d=l,l=null;else if(c<t.childCount)p=c,d=t.child(c++);else break;for(let g=0;g<a.length;g++)a[g].to<=s&&a.splice(g--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)a.push(i[o++]);let h=s+d.nodeSize;if(d.isText){let g=h;o<i.length&&i[o].from<g&&(g=i[o].from);for(let v=0;v<a.length;v++)a[v].to<g&&(g=a[v].to);g<h&&(l=d.cut(g-s),d=d.cut(0,g-s),h=g,p=-1)}else for(;o<i.length&&i[o].to<h;)o++;let m=d.isInline&&!d.isLeaf?a.filter(g=>!g.inline):a.slice();r(d,m,e.forChild(s,d),p),s=h}}function z8(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function V8(t,e,n,r){for(let i=0,s=0;i<t.childCount&&s<=r;){let o=t.child(i++),a=s;if(s+=o.nodeSize,!o.isText)continue;let l=o.text;for(;i<t.childCount;){let c=t.child(i++);if(s+=c.nodeSize,!c.isText)break;l+=c.text}if(s>=n){if(s>=r&&l.slice(r-e.length-a,r-a)==e)return r-e.length;let c=a<r?l.lastIndexOf(e,r-a-1):-1;if(c>=0&&c+e.length+a>=n)return a+c;if(n==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function df(t,e,n,r,i){let s=[];for(let o=0,a=0;o<t.length;o++){let l=t[o],c=a,u=a+=l.size;c>=n||u<=e?s.push(l):(c<e&&s.push(l.slice(0,e-c,r)),i&&(s.push(i),i=void 0),u>n&&s.push(l.slice(n-c,l.size,r)))}return s}function jd(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),s=i&&i.size==0,o=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let a=r.resolve(o),l,c;if(nc(n)){for(l=o;i&&!i.node;)i=i.parent;let f=i.node;if(i&&f.isAtom&&ne.isSelectable(f)&&i.parent&&!(f.isInline&&h8(n.focusNode,n.focusOffset,i.dom))){let d=i.posBefore;c=new ne(o==d?a:r.resolve(d))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let f=o,d=o;for(let p=0;p<n.rangeCount;p++){let h=n.getRangeAt(p);f=Math.min(f,t.docView.posFromDOM(h.startContainer,h.startOffset,1)),d=Math.max(d,t.docView.posFromDOM(h.endContainer,h.endOffset,-1))}if(f<0)return null;[l,o]=d==t.state.selection.anchor?[d,f]:[f,d],a=r.resolve(o)}else l=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let u=r.resolve(l);if(!c){let f=e=="pointer"||t.state.selection.head<a.pos&&!s?1:-1;c=zd(t,u,a,f)}return c}function L0(t){return t.editable?t.hasFocus():F0(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function $n(t,e=!1){let n=t.state.selection;if(B0(t,n),!!L0(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&rt){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Gr(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)U8(t);else{let{anchor:r,head:i}=n,s,o;hg&&!(n instanceof le)&&(n.$from.parent.inlineContent||(s=mg(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=mg(t,n.to))),t.docView.setSelection(r,i,t.root,e),hg&&(s&&gg(s),o&&gg(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&H8(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const hg=mt||rt&&k0<63;function mg(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(mt&&i&&i.contentEditable=="false")return Kc(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return Kc(i);if(s)return Kc(s)}}function Kc(t){return t.contentEditable="true",mt&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function gg(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function H8(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!L0(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function U8(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setStart(r.parentNode,Ke(r)+1):n.setStart(r,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&Ct&&rr<=11&&(r.disabled=!0,r.disabled=!1)}function B0(t,e){if(e instanceof ne){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(vg(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else vg(t)}function vg(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function zd(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||le.between(e,n,r)}function yg(t){return t.editable&&!t.hasFocus()?!1:F0(t)}function F0(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function W8(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Gr(e.node,e.offset,n.anchorNode,n.anchorOffset)}function pf(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&se.findFrom(s,e)}function jn(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function bg(t,e,n){let r=t.state.selection;if(r instanceof le)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=t.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return jn(t,new le(r.$anchor,o))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=pf(t.state,e);return i&&i instanceof ne?jn(t,i):!1}else if(!(Bt&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let a=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=t.docView.descAt(a))&&!o.contentDOM?ne.isSelectable(s)?jn(t,new ne(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):Eo?jn(t,new le(t.state.doc.resolve(e<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof ne&&r.node.isInline)return jn(t,new le(e>0?r.$to:r.$from));{let i=pf(t.state,e);return i?jn(t,i):!1}}}function wl(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function js(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function mi(t,e){return e<0?K8(t):G8(t)}function K8(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,s,o=!1;for(nn&&n.nodeType==1&&r<wl(n)&&js(n.childNodes[r],-1)&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(js(a,-1))i=n,s=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(j0(n))break;{let a=n.previousSibling;for(;a&&js(a,-1);)i=n.parentNode,s=Ke(a),a=a.previousSibling;if(a)n=a,r=wl(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}o?hf(t,n,r):i&&hf(t,i,s)}function G8(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=wl(n),s,o;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(js(a,1))s=n,o=++r;else break}else{if(j0(n))break;{let a=n.nextSibling;for(;a&&js(a,1);)s=a.parentNode,o=Ke(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=wl(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}s&&hf(t,s,o)}function j0(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function q8(t,e){for(;t&&e==t.childNodes.length&&!ko(t);)e=Ke(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function J8(t,e){for(;t&&!e&&!ko(t);)e=Ke(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function hf(t,e,n){if(e.nodeType!=3){let s,o;(o=q8(e,n))?(e=o,n=0):(s=J8(e,n))&&(e=s,n=s.nodeValue.length)}let r=t.domSelection();if(!r)return;if(nc(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&$n(t)},50)}function _g(t,e){let n=t.state.doc.resolve(e);if(!(rt||v8)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function wg(t,e,n){let r=t.state.selection;if(r instanceof le&&!r.empty||n.indexOf("s")>-1||Bt&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=pf(t.state,e);if(o&&o instanceof ne)return jn(t,o)}if(!i.parent.inlineContent){let o=e<0?i:s,a=r instanceof At?se.near(o,e):se.findFrom(o,e);return a?jn(t,a):!1}return!1}function xg(t,e){if(!(t.state.selection instanceof le))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let o=t.state.tr;return e<0?o.delete(n.pos-s.nodeSize,n.pos):o.delete(n.pos,n.pos+s.nodeSize),t.dispatch(o),!0}return!1}function Sg(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function Y8(t){if(!mt||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;Sg(t,r,"true"),setTimeout(()=>Sg(t,r,"false"),20)}return!1}function X8(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function Z8(t,e){let n=e.keyCode,r=X8(e);if(n==8||Bt&&n==72&&r=="c")return xg(t,-1)||mi(t,-1);if(n==46&&!e.shiftKey||Bt&&n==68&&r=="c")return xg(t,1)||mi(t,1);if(n==13||n==27)return!0;if(n==37||Bt&&n==66&&r=="c"){let i=n==37?_g(t,t.state.selection.from)=="ltr"?-1:1:-1;return bg(t,i,r)||mi(t,i)}else if(n==39||Bt&&n==70&&r=="c"){let i=n==39?_g(t,t.state.selection.from)=="ltr"?1:-1:1;return bg(t,i,r)||mi(t,i)}else{if(n==38||Bt&&n==80&&r=="c")return wg(t,-1,r)||mi(t,-1);if(n==40||Bt&&n==78&&r=="c")return Y8(t)||wg(t,1,r)||mi(t,1);if(r==(Bt?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function z0(t,e){t.someProp("transformCopied",p=>{e=p(e,t)});let n=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let p=r.firstChild;n.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),r=p.content}let o=t.someProp("clipboardSerializer")||ii.fromSchema(t.state.schema),a=G0(),l=a.createElement("div");l.appendChild(o.serializeFragment(r,{document:a}));let c=l.firstChild,u,f=0;for(;c&&c.nodeType==1&&(u=K0[c.nodeName.toLowerCase()]);){for(let p=u.length-1;p>=0;p--){let h=a.createElement(u[p]);for(;l.firstChild;)h.appendChild(l.firstChild);l.appendChild(h),f++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${s}${f?` -${f}`:""} ${JSON.stringify(n)}`);let d=t.someProp("clipboardTextSerializer",p=>p(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:d,slice:e}}function V0(t,e,n,r,i){let s=i.parent.type.spec.code,o,a;if(!n&&!e)return null;let l=e&&(r||s||!n);if(l){if(t.someProp("transformPastedText",d=>{e=d(e,s||r,t)}),s)return e?new B($.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):B.empty;let f=t.someProp("clipboardTextParser",d=>d(e,i,r,t));if(f)a=f;else{let d=i.marks(),{schema:p}=t.state,h=ii.fromSchema(p);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(m=>{let g=o.appendChild(document.createElement("p"));m&&g.appendChild(h.serializeNode(p.text(m,d)))})}}else t.someProp("transformPastedHTML",f=>{n=f(n,t)}),o=n4(n),Eo&&r4(o);let c=o&&o.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let f=+u[3];f>0;f--){let d=o.firstChild;for(;d&&d.nodeType!=1;)d=d.nextSibling;if(!d)break;o=d}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||Nd.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||u),context:i,ruleFromNode(d){return d.nodeName=="BR"&&!d.nextSibling&&d.parentNode&&!Q8.test(d.parentNode.nodeName)?{ignore:!0}:null}})),u)a=i4(Cg(a,+u[1],+u[2]),u[4]);else if(a=B.maxOpen(e4(a.content,i),!0),a.openStart||a.openEnd){let f=0,d=0;for(let p=a.content.firstChild;f<a.openStart&&!p.type.spec.isolating;f++,p=p.firstChild);for(let p=a.content.lastChild;d<a.openEnd&&!p.type.spec.isolating;d++,p=p.lastChild);a=Cg(a,f,d)}return t.someProp("transformPasted",f=>{a=f(a,t)}),a}const Q8=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function e4(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),s,o=[];if(t.forEach(a=>{if(!o)return;let l=i.findWrapping(a.type),c;if(!l)return o=null;if(c=o.length&&s.length&&U0(l,s,a,o[o.length-1],0))o[o.length-1]=c;else{o.length&&(o[o.length-1]=W0(o[o.length-1],s.length));let u=H0(a,l);o.push(u),i=i.matchType(u.type),s=l}}),o)return $.from(o)}return t}function H0(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,$.from(t));return t}function U0(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=U0(t,e,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append($.from(H0(n,t,i+1))))}}function W0(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,W0(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore($.empty,!0);return t.copy(n.append(r))}function mf(t,e,n,r,i,s){let o=e<0?t.firstChild:t.lastChild,a=o.content;return t.childCount>1&&(s=0),i<r-1&&(a=mf(a,e,n,r,i+1,s)),i>=n&&(a=e<0?o.contentMatchAt(0).fillBefore(a,s<=i).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore($.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(a))}function Cg(t,e,n){return e<t.openStart&&(t=new B(mf(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new B(mf(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const K0={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let kg=null;function G0(){return kg||(kg=document.implementation.createHTMLDocument("title"))}function t4(t){let e=window.trustedTypes;return e?e.createPolicy("detachedDocument",{createHTML:n=>n}).createHTML(t):t}function n4(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=G0().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&K0[r[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=t4(t),i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function r4(t){let e=t.querySelectorAll(rt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function i4(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:o}=t;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=$.from(l.create(r[a+1],i)),s++,o++}return new B(i,s,o)}const gt={},vt={},s4={touchstart:!0,touchmove:!0};class o4{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function a4(t){for(let e in gt){let n=gt[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{c4(t,r)&&!Vd(t,r)&&(t.editable||!(r.type in vt))&&n(t,r)},s4[e]?{passive:!0}:void 0)}mt&&t.dom.addEventListener("input",()=>null),gf(t)}function Zn(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function l4(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function gf(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>Vd(t,r))})}function Vd(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function c4(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function u4(t,e){!Vd(t,e)&&gt[e.type]&&(t.editable||!(e.type in vt))&&gt[e.type](t,e)}vt.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!J0(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Xt&&rt&&n.keyCode==13)))if(t.domObserver.selectionChanged(t.domSelectionRange())?t.domObserver.flush():n.keyCode!=229&&t.domObserver.forceFlush(),Hi&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,Er(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||Z8(t,n)?n.preventDefault():Zn(t,"key")};vt.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};vt.keypress=(t,e)=>{let n=e;if(J0(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Bt&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof le)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",s=>s(t,r.$from.pos,r.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function ic(t){return{left:t.clientX,top:t.clientY}}function f4(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function Hd(t,e,n,r,i){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(t.someProp(e,a=>o>s.depth?a(t,n,s.nodeAfter,s.before(o),i,!0):a(t,n,s.node(o),s.before(o),i,!1)))return!0;return!1}function Ai(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function d4(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&ne.isSelectable(r)?(Ai(t,new ne(n)),!0):!1}function p4(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof ne&&(r=n.node);let s=t.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(ne.isSelectable(a)){r&&n.$from.depth>0&&o>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(o);break}}return i!=null?(Ai(t,ne.create(t.state.doc,i)),!0):!1}function h4(t,e,n,r,i){return Hd(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(i?p4(t,n):d4(t,n))}function m4(t,e,n,r){return Hd(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function g4(t,e,n,r){return Hd(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||v4(t,n,r)}function v4(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Ai(t,le.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),a=i.before(s);if(o.inlineContent)Ai(t,le.create(r,a+1,a+1+o.content.size));else if(ne.isSelectable(o))Ai(t,ne.create(r,a));else continue;return!0}}function Ud(t){return xl(t)}const q0=Bt?"metaKey":"ctrlKey";gt.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=Ud(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&f4(n,t.input.lastClick)&&!n[q0]&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s};let o=t.posAtCoords(ic(n));o&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new y4(t,o,n,!!r)):(s=="doubleClick"?m4:g4)(t,o.pos,o.inside,n)?n.preventDefault():Zn(t,"pointer"))};class y4{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[q0],this.allowDefault=r.shiftKey;let s,o;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),o=n.inside;else{let u=e.state.doc.resolve(n.pos);s=u.parent,o=u.depth?u.before():0}const a=i?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:c}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||c instanceof ne&&c.from<=o&&c.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&nn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Zn(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>$n(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(ic(e))),this.updateAllowDefault(e),this.allowDefault||!n?Zn(this.view,"pointer"):h4(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||mt&&this.mightDrag&&!this.mightDrag.node.isAtom||rt&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Ai(this.view,se.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):Zn(this.view,"pointer")}move(e){this.updateAllowDefault(e),Zn(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}gt.touchstart=t=>{t.input.lastTouch=Date.now(),Ud(t),Zn(t,"pointer")};gt.touchmove=t=>{t.input.lastTouch=Date.now(),Zn(t,"pointer")};gt.contextmenu=t=>Ud(t);function J0(t,e){return t.composing?!0:mt&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const b4=Xt?5e3:-1;vt.compositionstart=vt.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof le&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),xl(t,!0),t.markCursor=null;else if(xl(t,!e.selection.empty),nn&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){let a=t.domSelection();a&&a.collapse(o,o.nodeValue.length);break}else i=o,s=-1}}t.input.composing=!0}Y0(t,b4)};vt.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,Y0(t,20))};function Y0(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>xl(t),e))}function X0(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=w4());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function _4(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=d8(e.focusNode,e.focusOffset),r=p8(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return r}}return n||r}function w4(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function xl(t,e=!1){if(!(Xt&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),X0(t),e||t.docView&&t.docView.dirty){let n=jd(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!t.state.selection.empty?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function x4(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const eo=Ct&&rr<15||Hi&&y8<604;gt.copy=vt.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let s=eo?null:n.clipboardData,o=r.content(),{dom:a,text:l}=z0(t,o);s?(n.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",l)):x4(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function S4(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function C4(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?to(t,r.value,null,i,e):to(t,r.textContent,r.innerHTML,i,e)},50)}function to(t,e,n,r,i){let s=V0(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,i,s||B.empty)))return!0;if(!s)return!1;let o=S4(s),a=o?t.state.tr.replaceSelectionWith(o,r):t.state.tr.replaceSelection(s);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Z0(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}vt.paste=(t,e)=>{let n=e;if(t.composing&&!Xt)return;let r=eo?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&to(t,Z0(r),r.getData("text/html"),i,n)?n.preventDefault():C4(t,n)};class Q0{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const ew=Bt?"altKey":"ctrlKey";gt.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(ic(n)),o;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof ne?i.to-1:i.to))){if(r&&r.mightDrag)o=ne.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let f=t.docView.nearestDesc(n.target,!0);f&&f.node.type.spec.draggable&&f!=t.docView&&(o=ne.create(t.state.doc,f.posBefore))}}let a=(o||t.state.selection).content(),{dom:l,text:c,slice:u}=z0(t,a);(!n.dataTransfer.files.length||!rt||k0>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(eo?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",eo||n.dataTransfer.setData("text/plain",c),t.dragging=new Q0(u,!n[ew],o)};gt.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};vt.dragover=vt.dragenter=(t,e)=>e.preventDefault();vt.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(ic(n));if(!i)return;let s=t.state.doc.resolve(i.pos),o=r&&r.slice;o?t.someProp("transformPasted",h=>{o=h(o,t)}):o=V0(t,Z0(n.dataTransfer),eo?null:n.dataTransfer.getData("text/html"),!1,s);let a=!!(r&&!n[ew]);if(t.someProp("handleDrop",h=>h(t,n,o||B.empty,a))){n.preventDefault();return}if(!o)return;n.preventDefault();let l=o?m0(t.state.doc,s.pos,o):s.pos;l==null&&(l=s.pos);let c=t.state.tr;if(a){let{node:h}=r;h?h.replace(c):c.deleteSelection()}let u=c.mapping.map(l),f=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,d=c.doc;if(f?c.replaceRangeWith(u,u,o.content.firstChild):c.replaceRange(u,u,o),c.doc.eq(d))return;let p=c.doc.resolve(u);if(f&&ne.isSelectable(o.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(o.content.firstChild))c.setSelection(new ne(p));else{let h=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((m,g,v,x)=>h=x),c.setSelection(zd(t,p,c.doc.resolve(h)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};gt.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&$n(t)},20))};gt.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};gt.beforeinput=(t,e)=>{if(rt&&Xt&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,Er(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in vt)gt[t]=vt[t];function no(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Sl{constructor(e,n){this.toDOM=e,this.spec=n||Fr,this.side=this.spec.side||0}map(e,n,r,i){let{pos:s,deleted:o}=e.mapResult(n.from+i,this.side<0?-1:1);return o?null:new xt(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Sl&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&no(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class sr{constructor(e,n){this.attrs=e,this.spec=n||Fr}map(e,n,r,i){let s=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,o=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new xt(s,o,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof sr&&no(this.attrs,e.attrs)&&no(this.spec,e.spec)}static is(e){return e.type instanceof sr}destroy(){}}class Wd{constructor(e,n){this.attrs=e,this.spec=n||Fr}map(e,n,r,i){let s=e.mapResult(n.from+i,1);if(s.deleted)return null;let o=e.mapResult(n.to+i,-1);return o.deleted||o.pos<=s.pos?null:new xt(s.pos-r,o.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),s;return i==n.from&&!(s=e.child(r)).isText&&i+s.nodeSize==n.to}eq(e){return this==e||e instanceof Wd&&no(this.attrs,e.attrs)&&no(this.spec,e.spec)}destroy(){}}class xt{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new xt(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new xt(e,e,new Sl(n,r))}static inline(e,n,r,i){return new xt(e,n,new sr(r,i))}static node(e,n,r,i){return new xt(e,n,new Wd(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof sr}get widget(){return this.type instanceof Sl}}const bi=[],Fr={};class Ae{constructor(e,n){this.local=e.length?e:bi,this.children=n.length?n:bi}static create(e,n){return n.length?Cl(n,e,0,Fr):Ze}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=n&&a.to>=e&&(!s||s(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,n-a,r,i+a,s)}}map(e,n,r){return this==Ze||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Fr)}mapInner(e,n,r,i,s){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,i);l&&l.type.valid(n,l)?(o||(o=[])).push(l):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?k4(this.children,o||[],e,n,r,i,s):o?new Ae(o.sort(jr),bi):Ze}add(e,n){return n.length?this==Ze?Ae.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,s=0;e.forEach((a,l)=>{let c=l+r,u;if(u=nw(n,a,c)){for(i||(i=this.children.slice());s<i.length&&i[s]<l;)s+=3;i[s]==l?i[s+2]=i[s+2].addInner(a,u,c+1):i.splice(s,0,l,l+a.nodeSize,Cl(u,a,c+1,Fr)),s+=3}});let o=tw(s?rw(n):n,-r);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new Ae(o.length?this.local.concat(o).sort(jr):this.local,i||this.children)}remove(e){return e.length==0||this==Ze?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,a=r[s]+n,l=r[s+1]+n;for(let u=0,f;u<e.length;u++)(f=e[u])&&f.from>a&&f.to<l&&(e[u]=null,(o||(o=[])).push(f));if(!o)continue;r==this.children&&(r=this.children.slice());let c=r[s+2].removeInner(o,a+1);c!=Ze?r[s+2]=c:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let a=0;a<i.length;a++)i[a].eq(o,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Ae(i,r):Ze}forChild(e,n){if(this==Ze)return this;if(n.isLeaf)return Ae.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let s=e+1,o=s+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>s&&l.type instanceof sr){let c=Math.max(s,l.from)-s,u=Math.min(o,l.to)-s;c<u&&(i||(i=[])).push(l.copy(c,u))}}if(i){let a=new Ae(i.sort(jr),bi);return r?new Un([a,r]):a}return r||Ze}eq(e){if(this==e)return!0;if(!(e instanceof Ae)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return Kd(this.localsInner(e))}localsInner(e){if(this==Ze)return bi;if(e.inlineContent||!this.local.some(sr.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof sr||n.push(this.local[r]);return n}forEachSet(e){e(this)}}Ae.empty=new Ae([],[]);Ae.removeOverlap=Kd;const Ze=Ae.empty;class Un{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,Fr));return Un.from(r)}forChild(e,n){if(n.isLeaf)return Ae.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,n);s!=Ze&&(s instanceof Un?r=r.concat(s.members):r.push(s))}return Un.from(r)}eq(e){if(!(e instanceof Un)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let o=0;o<s.length;o++)n.push(s[o])}}return n?Kd(r?n:n.sort(jr)):bi}static from(e){switch(e.length){case 0:return Ze;case 1:return e[0];default:return new Un(e.every(n=>n instanceof Ae)?e:e.reduce((n,r)=>n.concat(r instanceof Ae?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function k4(t,e,n,r,i,s,o){let a=t.slice();for(let c=0,u=s;c<n.maps.length;c++){let f=0;n.maps[c].forEach((d,p,h,m)=>{let g=m-h-(p-d);for(let v=0;v<a.length;v+=3){let x=a[v+1];if(x<0||d>x+u-f)continue;let k=a[v]+u-f;p>=k?a[v+1]=d<=k?-2:-1:d>=u&&g&&(a[v]+=g,a[v+1]+=g)}f+=g}),u=n.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=n.map(t[c]+s),f=u-i;if(f<0||f>=r.content.size){l=!0;continue}let d=n.map(t[c+1]+s,-1),p=d-i,{index:h,offset:m}=r.content.findIndex(f),g=r.maybeChild(h);if(g&&m==f&&m+g.nodeSize==p){let v=a[c+2].mapInner(n,g,u+1,t[c]+s+1,o);v!=Ze?(a[c]=f,a[c+1]=p,a[c+2]=v):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=E4(a,t,e,n,i,s,o),u=Cl(c,r,0,o);e=u.local;for(let f=0;f<a.length;f+=3)a[f+1]<0&&(a.splice(f,3),f-=3);for(let f=0,d=0;f<u.children.length;f+=3){let p=u.children[f];for(;d<a.length&&a[d]<p;)d+=3;a.splice(d,0,u.children[f],u.children[f+1],u.children[f+2])}}return new Ae(e.sort(jr),a)}function tw(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new xt(i.from+e,i.to+e,i.type))}return n}function E4(t,e,n,r,i,s,o){function a(l,c){for(let u=0;u<l.local.length;u++){let f=l.local[u].map(r,i,c);f?n.push(f):o.onRemove&&o.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+s+1);return n}function nw(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let s=0,o;s<t.length;s++)(o=t[s])&&o.from>n&&o.to<r&&((i||(i=[])).push(o),t[s]=null);return i}function rw(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Cl(t,e,n,r){let i=[],s=!1;e.forEach((a,l)=>{let c=nw(t,a,l+n);if(c){s=!0;let u=Cl(c,a,n+l+1,r);u!=Ze&&i.push(l,l+a.nodeSize,u)}});let o=tw(s?rw(t):t,-n).sort(jr);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(r.onRemove&&r.onRemove(o[a].spec),o.splice(a--,1));return o.length||i.length?new Ae(o,i):Ze}function jr(t,e){return t.from-e.from||t.to-e.to}function Kd(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,r.to),Eg(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),Eg(e,i,r.copy(s.from,r.to)));break}}}return e}function Eg(t,e,n){for(;e<t.length&&jr(n,t[e])>0;)e++;t.splice(e,0,n)}function Gc(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Ze&&e.push(r)}),t.cursorWrapper&&e.push(Ae.create(t.state.doc,[t.cursorWrapper.deco])),Un.from(e)}const O4={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},T4=Ct&&rr<=11;class $4{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class I4{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new $4,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Ct&&rr<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),T4&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,O4)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(yg(this.view)){if(this.suppressingSelectionUpdates)return $n(this.view);if(Ct&&rr<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Gr(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let s=e.focusNode;s;s=Qs(s))n.add(s);for(let s=e.anchorNode;s;s=Qs(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}selectionChanged(e){return!this.suppressingSelectionUpdates&&!this.currentSelection.eq(e)&&yg(this.view)&&!this.ignoreSelectionChange(e)}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=this.selectionChanged(r),s=-1,o=-1,a=!1,l=[];if(e.editable)for(let u=0;u<n.length;u++){let f=this.registerMutation(n[u],l);f&&(s=s<0?f.from:Math.min(f.from,s),o=o<0?f.to:Math.max(f.to,o),f.typeOver&&(a=!0))}if(nn&&l.length){let u=l.filter(f=>f.nodeName=="BR");if(u.length==2){let[f,d]=u;f.parentNode&&f.parentNode.parentNode==d.parentNode?d.remove():f.remove()}else{let{focusNode:f}=this.currentSelection;for(let d of u){let p=d.parentNode;p&&p.nodeName=="LI"&&(!f||M4(e,f)!=p)&&d.remove()}}}let c=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&nc(r)&&(c=jd(e))&&c.eq(se.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,$n(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,o),P4(e)),this.handleDOMChange(s,o,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||$n(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++){let f=e.addedNodes[u];n.push(f),f.nodeType==3&&(this.lastChangedTextNode=f)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(Ct&&rr<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:f,nextSibling:d}=e.addedNodes[u];(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(i=f),(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(s=d)}let o=i&&i.parentNode==e.target?Ke(i)+1:0,a=r.localPosFromDOM(e.target,o,-1),l=s&&s.parentNode==e.target?Ke(s):e.target.childNodes.length,c=r.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let Og=new WeakMap,Tg=!1;function P4(t){if(!Og.has(t)&&(Og.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=nn,Tg)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Tg=!0}}function $g(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=t.domAtPos(t.state.selection.anchor);return Gr(o.node,o.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function A4(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return $g(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?$g(t,n):null}function M4(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function N4(t,e,n){let{node:r,fromOffset:i,toOffset:s,from:o,to:a}=t.docView.parseRange(e,n),l=t.domSelectionRange(),c,u=l.anchorNode;if(u&&t.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],nc(l)||c.push({node:l.focusNode,offset:l.focusOffset})),rt&&t.input.lastKeyCode===8)for(let g=s;g>i;g--){let v=r.childNodes[g-1],x=v.pmViewDesc;if(v.nodeName=="BR"&&!x){s=g;break}if(!x||x.size)break}let f=t.state.doc,d=t.someProp("domParser")||Nd.fromSchema(t.state.schema),p=f.resolve(o),h=null,m=d.parse(r,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:i,to:s,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:D4,context:p});if(c&&c[0].pos!=null){let g=c[0].pos,v=c[1]&&c[1].pos;v==null&&(v=g),h={anchor:g+o,head:v+o}}return{doc:m,sel:h,from:o,to:a}}function D4(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(mt&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||mt&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const R4=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function L4(t,e,n,r,i){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let M=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,z=jd(t,M);if(z&&!t.state.selection.eq(z)){if(rt&&Xt&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",b=>b(t,Er(13,"Enter"))))return;let Q=t.state.tr.setSelection(z);M=="pointer"?Q.setMeta("pointer",!0):M=="key"&&Q.scrollIntoView(),s&&Q.setMeta("composition",s),t.dispatch(Q)}return}let o=t.state.doc.resolve(e),a=o.sharedDepth(n);e=o.before(a+1),n=t.state.doc.resolve(n).after(a+1);let l=t.state.selection,c=N4(t,e,n),u=t.state.doc,f=u.slice(c.from,c.to),d,p;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(d=t.state.selection.to,p="end"):(d=t.state.selection.from,p="start"),t.input.lastKeyCode=null;let h=j4(f.content,c.doc.content,c.from,d,p);if(h&&t.input.domChangeCount++,(Hi&&t.input.lastIOSEnter>Date.now()-225||Xt)&&i.some(M=>M.nodeType==1&&!R4.test(M.nodeName))&&(!h||h.endA>=h.endB)&&t.someProp("handleKeyDown",M=>M(t,Er(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!h)if(r&&l instanceof le&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))h={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let M=Ig(t,t.state.doc,c.sel);if(M&&!M.eq(t.state.selection)){let z=t.state.tr.setSelection(M);s&&z.setMeta("composition",s),t.dispatch(z)}}return}t.state.selection.from<t.state.selection.to&&h.start==h.endB&&t.state.selection instanceof le&&(h.start>t.state.selection.from&&h.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?h.start=t.state.selection.from:h.endA<t.state.selection.to&&h.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(h.endB+=t.state.selection.to-h.endA,h.endA=t.state.selection.to)),Ct&&rr<=11&&h.endB==h.start+1&&h.endA==h.start&&h.start>c.from&&c.doc.textBetween(h.start-c.from-1,h.start-c.from+1)==" "&&(h.start--,h.endA--,h.endB--);let m=c.doc.resolveNoCache(h.start-c.from),g=c.doc.resolveNoCache(h.endB-c.from),v=u.resolve(h.start),x=m.sameParent(g)&&m.parent.inlineContent&&v.end()>=h.endA,k;if((Hi&&t.input.lastIOSEnter>Date.now()-225&&(!x||i.some(M=>M.nodeName=="DIV"||M.nodeName=="P"))||!x&&m.pos<c.doc.content.size&&!m.sameParent(g)&&(k=se.findFrom(c.doc.resolve(m.pos+1),1,!0))&&k.head==g.pos)&&t.someProp("handleKeyDown",M=>M(t,Er(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>h.start&&F4(u,h.start,h.endA,m,g)&&t.someProp("handleKeyDown",M=>M(t,Er(8,"Backspace")))){Xt&&rt&&t.domObserver.suppressSelectionUpdates();return}rt&&Xt&&h.endB==h.start&&(t.input.lastAndroidDelete=Date.now()),Xt&&!x&&m.start()!=g.start()&&g.parentOffset==0&&m.depth==g.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==h.endA&&(h.endB-=2,g=c.doc.resolveNoCache(h.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(M){return M(t,Er(13,"Enter"))})},20));let T=h.start,P=h.endA,D,H,L;if(x){if(m.pos==g.pos)Ct&&rr<=11&&m.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>$n(t),20)),D=t.state.tr.delete(T,P),H=u.resolve(h.start).marksAcross(u.resolve(h.endA));else if(h.endA==h.endB&&(L=B4(m.parent.content.cut(m.parentOffset,g.parentOffset),v.parent.content.cut(v.parentOffset,h.endA-v.start()))))D=t.state.tr,L.type=="add"?D.addMark(T,P,L.mark):D.removeMark(T,P,L.mark);else if(m.parent.child(m.index()).isText&&m.index()==g.index()-(g.textOffset?0:1)){let M=m.parent.textBetween(m.parentOffset,g.parentOffset);if(t.someProp("handleTextInput",z=>z(t,T,P,M)))return;D=t.state.tr.insertText(M,T,P)}}if(D||(D=t.state.tr.replace(T,P,c.doc.slice(h.start-c.from,h.endB-c.from))),c.sel){let M=Ig(t,D.doc,c.sel);M&&!(rt&&Xt&&t.composing&&M.empty&&(h.start!=h.endB||t.input.lastAndroidDelete<Date.now()-100)&&(M.head==T||M.head==D.mapping.map(P)-1)||Ct&&M.empty&&M.head==T)&&D.setSelection(M)}H&&D.ensureMarks(H),s&&D.setMeta("composition",s),t.dispatch(D.scrollIntoView())}function Ig(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:zd(t,e.resolve(n.anchor),e.resolve(n.head))}function B4(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,s=r,o,a,l;for(let u=0;u<r.length;u++)i=r[u].removeFromSet(i);for(let u=0;u<n.length;u++)s=n[u].removeFromSet(s);if(i.length==1&&s.length==0)a=i[0],o="add",l=u=>u.mark(a.addToSet(u.marks));else if(i.length==0&&s.length==1)a=s[0],o="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<e.childCount;u++)c.push(l(e.child(u)));if($.from(c).eq(t))return{mark:a,type:o}}function F4(t,e,n,r,i){if(n-e<=i.pos-r.pos||qc(r,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(!r.parent.isTextblock){let a=s.nodeAfter;return a!=null&&n==e+a.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=t.resolve(qc(s,!0,!0));return!o.parent.isTextblock||o.pos>n||qc(o,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function qc(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function j4(t,e,n,r,i){let s=t.findDiffStart(e,n);if(s==null)return null;let{a:o,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let l=Math.max(0,s-Math.min(o,a));r-=o+l-s}if(o<s&&t.size<e.size){let l=r<=s&&r>=o?s-r:0;s-=l,s&&s<e.size&&Pg(e.textBetween(s-1,s+1))&&(s+=l?1:-1),a=s+(a-o),o=s}else if(a<s){let l=r<=s&&r>=a?s-r:0;s-=l,s&&s<t.size&&Pg(t.textBetween(s-1,s+1))&&(s+=l?1:-1),o=s+(o-a),a=s}return{start:s,endA:o,endB:a}}function Pg(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class z4{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new o4,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(Rg),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Ng(this),Mg(this),this.nodeViews=Dg(this),this.docView=dg(this.state.doc,Ag(this),Gc(this),this.dom,this),this.domObserver=new I4(this,(r,i,s,o)=>L4(this,r,i,s,o)),this.domObserver.start(),a4(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&gf(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Rg),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,s=!1,o=!1;e.storedMarks&&this.composing&&(X0(this),o=!0),this.state=e;let a=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let p=Dg(this);H4(p,this.nodeViews)&&(this.nodeViews=p,s=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&gf(this),this.editable=Ng(this),Mg(this);let l=Gc(this),c=Ag(this),u=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",f=s||!this.docView.matchesNode(e.doc,c,l);(f||!e.selection.eq(i.selection))&&(o=!0);let d=u=="preserve"&&o&&this.dom.style.overflowAnchor==null&&w8(this);if(o){this.domObserver.stop();let p=f&&(Ct||rt)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&V4(i.selection,e.selection);if(f){let h=rt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=_4(this)),(s||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=dg(e.doc,c,l,this.dom,this)),h&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&W8(this))?$n(this,p):(B0(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():d&&x8(d)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof ne){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&og(this,n.getBoundingClientRect(),e)}else og(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new Q0(e.slice,e.move,i<0?void 0:ne.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(i=n?n(a):a))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let a=s[o].props[e];if(a!=null&&(i=n?n(a):a))return i}}hasFocus(){if(Ct){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&S8(this.dom),$n(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return T8(this,e)}coordsAtPos(e,n=1){return I0(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return M8(this,n||this.state,e)}pasteHTML(e,n){return to(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return to(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(l4(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Gc(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,u8())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return u4(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?mt&&this.root.nodeType===11&&m8(this.dom.ownerDocument)==this.dom&&A4(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function Ag(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[xt.node(0,t.state.doc.content.size,e)]}function Mg(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:xt.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function Ng(t){return!t.someProp("editable",e=>e(t.state)===!1)}function V4(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function Dg(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function H4(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function Rg(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}function U4(t={}){return new St({view(e){return new W4(e,t)}})}class W4{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=o=>{this[i](o)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r;if(n){let a=e.nodeBefore,l=e.nodeAfter;if(a||l){let c=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(c){let u=c.getBoundingClientRect(),f=a?u.bottom:u.top;a&&l&&(f=(f+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:u.left,right:u.right,top:f-this.width/2,bottom:f+this.width/2}}}}if(!r){let a=this.editorView.coordsAtPos(this.cursorPos);r={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let s,o;if(!i||i==document.body&&getComputedStyle(i).position=="static")s=-pageXOffset,o=-pageYOffset;else{let a=i.getBoundingClientRect();s=a.left-i.scrollLeft,o=a.top-i.scrollTop}this.element.style.left=r.left-s+"px",this.element.style.top=r.top-o+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!s){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=m0(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}var fr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},kl={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},K4=typeof navigator<"u"&&/Mac/.test(navigator.platform),G4=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ge=0;Ge<10;Ge++)fr[48+Ge]=fr[96+Ge]=String(Ge);for(var Ge=1;Ge<=24;Ge++)fr[Ge+111]="F"+Ge;for(var Ge=65;Ge<=90;Ge++)fr[Ge]=String.fromCharCode(Ge+32),kl[Ge]=String.fromCharCode(Ge);for(var Jc in fr)kl.hasOwnProperty(Jc)||(kl[Jc]=fr[Jc]);function q4(t){var e=K4&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||G4&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?kl:fr)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const J4=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function Y4(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,s,o;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))J4?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),o&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function X4(t){let e=Object.create(null);for(let n in t)e[Y4(n)]=t[n];return e}function Yc(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function vf(t){return new St({props:{handleKeyDown:Gd(t)}})}function Gd(t){let e=X4(t);return function(n,r){let i=q4(r),s,o=e[Yc(i,r)];if(o&&o(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=e[Yc(i,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(s=fr[r.keyCode])&&s!=i){let a=e[Yc(s,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}class Me extends se{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return Me.valid(r)?new Me(r):se.near(r)}content(){return B.empty}eq(e){return e instanceof Me&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Me(e.resolve(n.pos))}getBookmark(){return new qd(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!Z4(e)||!Q4(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&Me.valid(e))return e;let i=e.pos,s=null;for(let o=e.depth;;o--){let a=e.node(o);if(n>0?e.indexAfter(o)<a.childCount:e.index(o)>0){s=a.child(n>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;i+=n;let l=e.doc.resolve(i);if(Me.valid(l))return l}for(;;){let o=n>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!ne.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=o,i+=n;let a=e.doc.resolve(i);if(Me.valid(a))return a}return null}}}Me.prototype.visible=!1;Me.findFrom=Me.findGapCursorFrom;se.jsonID("gapcursor",Me);class qd{constructor(e){this.pos=e}map(e){return new qd(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Me.valid(n)?new Me(n):se.near(n)}}function Z4(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function Q4(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function e5(){return new St({props:{decorations:i5,createSelectionBetween(t,e,n){return e.pos==n.pos&&Me.valid(n)?new Me(n):null},handleClick:n5,handleKeyDown:t5,handleDOMEvents:{beforeinput:r5}}})}const t5=Gd({ArrowLeft:Zo("horiz",-1),ArrowRight:Zo("horiz",1),ArrowUp:Zo("vert",-1),ArrowDown:Zo("vert",1)});function Zo(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let o=r.selection,a=e>0?o.$to:o.$from,l=o.empty;if(o instanceof le){if(!s.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(e>0?a.after():a.before())}let c=Me.findGapCursorFrom(a,e,l);return c?(i&&i(r.tr.setSelection(new Me(c))),!0):!1}}function n5(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!Me.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&ne.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Me(r))),!0)}function r5(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Me))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=$.empty;for(let o=r.length-1;o>=0;o--)i=$.from(r[o].createAndFill(null,i));let s=t.state.tr.replace(n.pos,n.pos,new B(i,0,0));return s.setSelection(le.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function i5(t){if(!(t.selection instanceof Me))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Ae.create(t.doc,[xt.widget(t.selection.head,e,{key:"gapcursor"})])}const iw=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function s5(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const o5=(t,e,n)=>{let r=s5(t,n);if(!r)return!1;let i=sw(r);if(!i){let o=r.blockRange(),a=o&&Co(o);return a==null?!1:(e&&e(t.tr.lift(o,a).scrollIntoView()),!0)}let s=i.nodeBefore;if(aw(t,i,e,-1))return!0;if(r.parent.content.size==0&&(Ui(s,"end")||ne.isSelectable(s)))for(let o=r.depth;;o--){let a=Ld(t.doc,r.before(o),r.after(o),B.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(Ui(s,"end")?se.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):ne.create(l.doc,i.pos-s.nodeSize)),e(l.scrollIntoView())}return!0}if(o==1||r.node(o-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1};function Ui(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const a5=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=sw(r)}let o=s&&s.nodeBefore;return!o||!ne.isSelectable(o)?!1:(e&&e(t.tr.setSelection(ne.create(t.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function sw(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function l5(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const c5=(t,e,n)=>{let r=l5(t,n);if(!r)return!1;let i=ow(r);if(!i)return!1;let s=i.nodeAfter;if(aw(t,i,e,1))return!0;if(r.parent.content.size==0&&(Ui(s,"start")||ne.isSelectable(s))){let o=Ld(t.doc,r.before(),r.after(),B.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=t.tr.step(o);a.setSelection(Ui(s,"start")?se.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):ne.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},u5=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=ow(r)}let o=s&&s.nodeAfter;return!o||!ne.isSelectable(o)?!1:(e&&e(t.tr.setSelection(ne.create(t.doc,s.pos)).scrollIntoView()),!0)};function ow(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const f5=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),s=i&&Co(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)},d5=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function Jd(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const ro=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),o=Jd(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,o.createAndFill());l.setSelection(se.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},p5=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof At||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=Jd(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=t.tr.insert(o,s.createAndFill());a.setSelection(le.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},h5=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(Ii(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Co(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function m5(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof ne&&e.selection.node.isBlock)return!r.parentOffset||!Ii(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(n){let s=i.parentOffset==i.parent.content.size,o=e.tr;(e.selection instanceof le||e.selection instanceof At)&&o.deleteSelection();let a=r.depth==0?null:Jd(r.node(-1).contentMatchAt(r.indexAfter(-1))),l=s&&a?[{type:a}]:void 0,c=Ii(o.doc,o.mapping.map(r.pos),1,l);if(!l&&!c&&Ii(o.doc,o.mapping.map(r.pos),1,a?[{type:a}]:void 0)&&(a&&(l=[{type:a}]),c=!0),c&&(o.split(o.mapping.map(r.pos),1,l),!s&&!r.parentOffset&&r.parent.type!=a)){let u=o.mapping.map(r.before()),f=o.doc.resolve(u);a&&r.node(-1).canReplaceWith(f.index(),f.index()+1,a)&&o.setNodeMarkup(o.mapping.map(r.before()),a)}n(o.scrollIntoView())}return!0}}const g5=m5(),v5=(t,e)=>(e&&e(t.tr.setSelection(new At(t.doc))),!0);function y5(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||ec(t.doc,e.pos))?!1:(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0)}function aw(t,e,n,r){let i=e.nodeBefore,s=e.nodeAfter,o,a,l=i.type.spec.isolating||s.type.spec.isolating;if(!l&&y5(t,e,n))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(o=(a=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&a.matchType(o[0]||s.type).validEnd){if(n){let p=e.pos+s.nodeSize,h=$.empty;for(let v=o.length-1;v>=0;v--)h=$.from(o[v].create(null,h));h=$.from(i.copy(h));let m=t.tr.step(new Ye(e.pos-1,p,e.pos,p,new B(h,1,0),o.length,!0)),g=p+2*o.length;ec(m.doc,g)&&m.join(g),n(m.scrollIntoView())}return!0}let u=s.type.spec.isolating||r>0&&l?null:se.findFrom(e,1),f=u&&u.$from.blockRange(u.$to),d=f&&Co(f);if(d!=null&&d>=e.depth)return n&&n(t.tr.lift(f,d).scrollIntoView()),!0;if(c&&Ui(s,"start",!0)&&Ui(i,"end")){let p=i,h=[];for(;h.push(p),!p.isTextblock;)p=p.lastChild;let m=s,g=1;for(;!m.isTextblock;m=m.firstChild)g++;if(p.canReplace(p.childCount,p.childCount,m.content)){if(n){let v=$.empty;for(let k=h.length-1;k>=0;k--)v=$.from(h[k].copy(v));let x=t.tr.step(new Ye(e.pos-h.length,e.pos+s.nodeSize,e.pos+g,e.pos+s.nodeSize-g,new B(v,h.length,0),0,!0));n(x.scrollIntoView())}return!0}}return!1}function lw(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(e.tr.setSelection(le.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}const b5=lw(-1),_5=lw(1);function w5(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s),a=o&&Rd(o,t,e);return a?(r&&r(n.tr.wrap(o,a).scrollIntoView()),!0):!1}}function io(t,e=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:a}}=n.selection.ranges[s];n.doc.nodesBetween(o,a,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)i=!0;else{let u=n.doc.resolve(c),f=u.index();i=u.parent.canReplaceWith(f,f+1,t)}})}if(!i)return!1;if(r){let s=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[o];s.setBlockType(a,l,t,e)}r(s.scrollIntoView())}return!0}}function x5(t,e,n,r){for(let i=0;i<e.length;i++){let{$from:s,$to:o}=e[i],a=s.depth==0?t.inlineContent&&t.type.allowsMarkType(n):!1;if(t.nodesBetween(s.pos,o.pos,(l,c)=>{if(a||!r)return!1;a=l.inlineContent&&l.type.allowsMarkType(n)}),a)return!0}return!1}function dr(t,e=null,n){let r=n!==!1;return function(i,s){let{empty:o,$cursor:a,ranges:l}=i.selection;if(o&&!a||!x5(i.doc,l,t,r))return!1;if(s)if(a)t.isInSet(i.storedMarks||a.marks())?s(i.tr.removeStoredMark(t)):s(i.tr.addStoredMark(t.create(e)));else{let c,u=i.tr;c=!l.some(f=>i.doc.rangeHasMark(f.$from.pos,f.$to.pos,t));for(let f=0;f<l.length;f++){let{$from:d,$to:p}=l[f];if(!c)u.removeMark(d.pos,p.pos,t);else{let h=d.pos,m=p.pos,g=d.nodeAfter,v=p.nodeBefore,x=g&&g.isText?/^\s*/.exec(g.text)[0].length:0,k=v&&v.isText?/\s*$/.exec(v.text)[0].length:0;h+x<m&&(h+=x,m-=k),u.addMark(h,m,t.create(e))}}s(u.scrollIntoView())}return!0}}function Jr(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}let Xc=Jr(iw,o5,a5),Lg=Jr(iw,c5,u5);const Cn={Enter:Jr(d5,p5,h5,g5),"Mod-Enter":ro,Backspace:Xc,"Mod-Backspace":Xc,"Shift-Backspace":Xc,Delete:Lg,"Mod-Delete":Lg,"Mod-a":v5},cw={"Ctrl-h":Cn.Backspace,"Alt-Backspace":Cn["Mod-Backspace"],"Ctrl-d":Cn.Delete,"Ctrl-Alt-Backspace":Cn["Mod-Delete"],"Alt-Delete":Cn["Mod-Delete"],"Alt-d":Cn["Mod-Delete"],"Ctrl-a":b5,"Ctrl-e":_5};for(let t in Cn)cw[t]=Cn[t];const S5=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,C5=S5?cw:Cn;class Dn{constructor(e,n,r={}){this.match=e,this.match=e,this.handler=typeof n=="string"?k5(n):n,this.undoable=r.undoable!==!1,this.inCode=r.inCode||!1}}function k5(t){return function(e,n,r,i){let s=t;if(n[1]){let o=n[0].lastIndexOf(n[1]);s+=n[0].slice(o+n[1].length),r+=o;let a=r-i;a>0&&(s=n[0].slice(o-a,o)+s,r=i)}return e.tr.insertText(s,r,i)}}const E5=500;function O5({rules:t}){let e=new St({state:{init(){return null},apply(n,r){let i=n.getMeta(this);return i||(n.selectionSet||n.docChanged?null:r)}},props:{handleTextInput(n,r,i,s){return Bg(n,r,i,s,t,e)},handleDOMEvents:{compositionend:n=>{setTimeout(()=>{let{$cursor:r}=n.state.selection;r&&Bg(n,r.pos,r.pos,"",t,e)})}}},isInputRules:!0});return e}function Bg(t,e,n,r,i,s){if(t.composing)return!1;let o=t.state,a=o.doc.resolve(e),l=a.parent.textBetween(Math.max(0,a.parentOffset-E5),a.parentOffset,null,"")+r;for(let c=0;c<i.length;c++){let u=i[c];if(a.parent.type.spec.code){if(!u.inCode)continue}else if(u.inCode==="only")continue;let f=u.match.exec(l),d=f&&u.handler(o,f,e-(f[0].length-r.length),n);if(d)return u.undoable&&d.setMeta(s,{transform:d,from:e,to:n,text:r}),t.dispatch(d),!0}return!1}const T5=(t,e)=>{let n=t.plugins;for(let r=0;r<n.length;r++){let i=n[r],s;if(i.spec.isInputRules&&(s=i.getState(t))){if(e){let o=t.tr,a=s.transform;for(let l=a.steps.length-1;l>=0;l--)o.step(a.steps[l].invert(a.docs[l]));if(s.text){let l=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,t.schema.text(s.text,l))}else o.delete(s.from,s.to);e(o)}return!0}}return!1};new Dn(/--$/,"");new Dn(/\.\.\.$/,"");new Dn(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"");new Dn(/"$/,"");new Dn(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"");new Dn(/'$/,"");function Yd(t,e,n=null,r){return new Dn(t,(i,s,o,a)=>{let l=n instanceof Function?n(s):n,c=i.tr.delete(o,a),u=c.doc.resolve(o),f=u.blockRange(),d=f&&Rd(f,e,l);if(!d)return null;c.wrap(f,d);let p=c.doc.resolve(o-1).nodeBefore;return p&&p.type==e&&ec(c.doc,o-1)&&(!r||r(s,p))&&c.join(o-1),c})}function uw(t,e,n=null){return new Dn(t,(r,i,s,o)=>{let a=r.doc.resolve(s),l=n instanceof Function?n(i):n;return a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),e)?r.tr.delete(s,o).setBlockType(s,s,e,l):null})}function Fg(t,e){return t.createAndFill()}function $5(t){if(t.cached.tableNodeTypes)return t.cached.tableNodeTypes;const e={};return Object.keys(t.nodes).forEach(n=>{const r=t.nodes[n];r.spec.tableRole&&(e[r.spec.tableRole]=r)}),t.cached.tableNodeTypes=e,e}function I5(t,e,n,r,i){const s=$5(t),o=[],a=[];for(let c=0;c<n;c+=1){const u=Fg(s.cell);if(u&&a.push(u),r){const f=Fg(s.header_cell);f&&o.push(f)}}const l=[];for(let c=0;c<e;c+=1)l.push(s.row.createChecked(null,r&&c===0?o:a));return s.table.createChecked(null,l)}function P5(t,e){return Array.isArray(t)&&t.indexOf(e.type)>-1||e.type===t}function A5(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function fw(t){return e=>A5(e.$from,t)}function M5(t){return t instanceof ne}function N5(t){return function(e){if(M5(e)){const{node:n}=e,{$from:r}=e;if(P5(t,n))return{node:n,pos:r.pos,depth:r.depth}}}}function dw(t,e){const{from:n,to:r}=t.selection;let i=[];t.doc.nodesBetween(n,r,o=>{i=[...i,...o.marks]});const s=i.find(o=>o.type.name===e.name);return s?s.attrs:{}}function Xd(t=null,e=null){if(!t||!e)return!1;const n=t.parent.childAfter(t.parentOffset);if(!n.node)return!1;const r=n.node.marks.find(l=>l.type===e);if(!r)return!1;let i=t.index(),s=t.start()+n.offset,o=i+1,a=s+n.node.nodeSize;for(;i>0&&r.isInSet(t.parent.child(i-1).marks);)i-=1,s-=t.parent.child(i).nodeSize;for(;o<t.parent.childCount&&r.isInSet(t.parent.child(o).marks);)a+=t.parent.child(o).nodeSize,o+=1;return{from:s,to:a}}function D5(t,e){const{from:n,to:r}=t.selection;let i=[];t.doc.nodesBetween(n,r,o=>{i=[...i,o]});const s=i.reverse().find(o=>o.type.name===e.name);return s?s.attrs:{}}function R5(t,e){const{from:n,$from:r,to:i,empty:s}=t.selection;return s?!!e.isInSet(t.storedMarks||r.marks()):!!t.doc.rangeHasMark(n,i,e)}function Zd(t,e,n={}){const r=s=>s.type===e,i=N5(e)(t.selection)||fw(r)(t.selection);return!Object.keys(n).length||!i?!!i:i.node.hasMarkup(e,{...i.node.attrs,...n})}function L5(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s),a=!1,l=o;if(!o)return!1;if(o.depth>=2&&i.node(o.depth-1).type.compatibleContent(t)&&o.startIndex==0){if(i.index(o.depth-1)==0)return!1;let u=n.doc.resolve(o.start-2);l=new gl(u,u,o.depth),o.endIndex<o.parent.childCount&&(o=new gl(i,n.doc.resolve(s.end(o.depth)),o.depth)),a=!0}let c=Rd(l,t,e,o);return c?(r&&r(B5(n.tr,o,c,a,t).scrollIntoView()),!0):!1}}function B5(t,e,n,r,i){let s=$.empty;for(let u=n.length-1;u>=0;u--)s=$.from(n[u].type.create(n[u].attrs,s));t.step(new Ye(e.start-(r?2:0),e.end,e.start,e.end,new B(s,0,0),n.length,!0));let o=0;for(let u=0;u<n.length;u++)n[u].type==i&&(o=u+1);let a=n.length-o,l=e.start+n.length-(r?2:0),c=e.parent;for(let u=e.startIndex,f=e.endIndex,d=!0;u<f;u++,d=!1)!d&&Ii(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return t}function F5(t,e){return function(n,r){let{$from:i,$to:s,node:o}=n.selection;if(o&&o.isBlock||i.depth<2||!i.sameParent(s))return!1;let a=i.node(-1);if(a.type!=t)return!1;if(i.parent.content.size==0&&i.node(-1).childCount==i.indexAfter(-1)){if(i.depth==3||i.node(-3).type!=t||i.index(-2)!=i.node(-2).childCount-1)return!1;if(r){let f=$.empty,d=i.index(-1)?1:i.index(-2)?2:3;for(let v=i.depth-d;v>=i.depth-3;v--)f=$.from(i.node(v).copy(f));let p=i.indexAfter(-1)<i.node(-2).childCount?1:i.indexAfter(-2)<i.node(-3).childCount?2:3;f=f.append($.from(t.createAndFill()));let h=i.before(i.depth-(d-1)),m=n.tr.replace(h,i.after(-p),new B(f,4-d,0)),g=-1;m.doc.nodesBetween(h,m.doc.content.size,(v,x)=>{if(g>-1)return!1;v.isTextblock&&v.content.size==0&&(g=x+1)}),g>-1&&m.setSelection(se.near(m.doc.resolve(g))),r(m.scrollIntoView())}return!0}let l=s.pos==i.end()?a.contentMatchAt(0).defaultType:null,c=n.tr.delete(i.pos,s.pos),u=l?[null,{type:l}]:void 0;return Ii(c.doc,i.pos,2,u)?(r&&r(c.split(i.pos,2,u).scrollIntoView()),!0):!1}}function pw(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,o=>o.childCount>0&&o.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?j5(e,n,t,s):z5(e,n,s):!0:!1}}function j5(t,e,n,r){let i=t.tr,s=r.end,o=r.$to.end(r.depth);s<o&&(i.step(new Ye(s-1,o,s,o,new B($.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new gl(i.doc.resolve(r.$from.pos),i.doc.resolve(o),r.depth));const a=Co(r);if(a==null)return!1;i.lift(r,a);let l=i.mapping.map(s,-1)-1;return ec(i.doc,l)&&i.join(l),e(i.scrollIntoView()),!0}function z5(t,e,n){let r=t.tr,i=n.parent;for(let p=n.end,h=n.endIndex-1,m=n.startIndex;h>m;h--)p-=i.child(h).nodeSize,r.delete(p-1,p+1);let s=r.doc.resolve(n.start),o=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==i.childCount,c=s.node(-1),u=s.index(-1);if(!c.canReplace(u+(a?0:1),u+1,o.content.append(l?$.empty:$.from(i))))return!1;let f=s.pos,d=f+o.nodeSize;return r.step(new Ye(f-(a?1:0),d+(l?1:0),f+1,d-1,new B((a?$.empty:$.from(i.copy($.empty))).append(l?$.empty:$.from(i.copy($.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function V5(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==t);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let a=s.parent,l=a.child(o-1);if(l.type!=t)return!1;if(n){let c=l.lastChild&&l.lastChild.type==a.type,u=$.from(c?t.create():null),f=new B($.from(t.create(null,$.from(a.type.create(null,u)))),c?3:1,0),d=s.start,p=s.end;n(e.tr.step(new Ye(d-(c?3:1),p,d,p,f,1,!0)).scrollIntoView())}return!0}}function H5(t,e,n){let r=[];return n.doc.nodesBetween(t,e,(i,s)=>{r=[...r,...i.marks.map(o=>({start:s,end:s+i.nodeSize,mark:o}))]}),r}function El(t,e,n){return new Dn(t,(r,i,s,o)=>{const a=n instanceof Function?n(i):n,{tr:l}=r,c=i.length-1;let u=o,f=s;if(i[c]){const d=s+i[0].indexOf(i[c-1]),p=d+i[c-1].length-1,h=d+i[c-1].lastIndexOf(i[c]),m=h+i[c].length;if(H5(s,o,r).filter(v=>{const{excluded:x}=v.mark.type;return x.find(k=>k.name===e.name)}).filter(v=>v.end>d).length)return!1;m<p&&l.delete(m,p),h>d&&l.delete(d,h),f=d,u=f+i[c].length}return l.addMark(f,u,e.create(a)),l.removeStoredMark(e),l})}function U5(t,e,n){const r=i=>{const s=[];return i.forEach(o=>{if(o.isText){const{text:a}=o;let l=0,c;do if(c=t.exec(a),c){const u=c.index,f=u+c[0].length,d=n instanceof Function?n(c[0]):n;u>0&&s.push(o.cut(l,u)),s.push(o.cut(u,f).mark(e.create(d).addToSet(o.marks))),l=f}while(c);l<a.length&&s.push(o.cut(l))}else s.push(o.copy(r(o.content)))}),$.fromArray(s)};return new St({props:{transformPasted:i=>new B(r(i.content),i.openStart,i.openEnd)}})}function Ol(t,e,n){const r=(i,s)=>{const o=[];return i.forEach(a=>{if(a.isText){const{text:l,marks:c}=a;let u=0,f;const d=!!c.filter(p=>p.type.name==="link")[0];for(;!d&&(f=t.exec(l))!==null;)if(s&&s.type.allowsMarkType(e)&&f[1]){const p=f.index,h=p+f[0].length,m=p+f[0].indexOf(f[1]),g=m+f[1].length,v=n instanceof Function?n(f):n;p>0&&o.push(a.cut(u,p)),o.push(a.cut(m,g).mark(e.create(v).addToSet(a.marks))),u=h}u<l.length&&o.push(a.cut(u))}else o.push(a.copy(r(a.content,a)))}),$.fromArray(o)};return new St({props:{transformPasted:i=>new B(r(i.content),i.openStart,i.openEnd)}})}function W5(t){return(e,n)=>{const{tr:r,selection:i}=e;let{from:s,to:o}=i;const{$from:a,empty:l}=i;if(l){const c=Xd(a,t);s=c.from,o=c.to}return r.removeMark(s,o,t),n(r)}}function hw(t,e,n={}){return(r,i,s)=>Zd(r,t,n)?io(e)(r,i,s):io(t,n)(r,i,s)}function jg(t,e){return t.type===e.nodes.bullet_list||t.type===e.nodes.ordered_list||t.type===e.nodes.todo_list}function Tl(t,e){return(n,r,i)=>{const{schema:s,selection:o}=n,{$from:a,$to:l}=o,c=a.blockRange(l);if(!c)return!1;const u=fw(f=>jg(f,s))(o);if(c.depth>=1&&u&&c.depth-u.depth<=1){if(u.node.type===t)return pw(e)(n,r,i);if(jg(u.node,s)&&t.validContent(u.node.content)){const{tr:f}=n;return f.setNodeMarkup(u.pos,t),r&&r(f),!1}}return L5(t)(n,r,i)}}function zg(t,e={}){return(n,r,i)=>Zd(n,t,e)?f5(n,r):w5(t,e)(n,r,i)}function K5(t,e){return(n,r)=>{const{tr:i,selection:s,doc:o}=n,{ranges:a,empty:l}=s;if(l){const{from:c,to:u}=Xd(s.$from,t);o.rangeHasMark(c,u,t)&&i.removeMark(c,u,t),i.addMark(c,u,t.create(e))}else a.forEach(c=>{const{$to:u,$from:f}=c;o.rangeHasMark(f.pos,u.pos,t)&&i.removeMark(f.pos,u.pos,t),i.addMark(f.pos,u.pos,t.create(e))});return r(i)}}/*!
* tiptap v1.32.1
* (c) 2021 berdosis GbR (limited liability)
* @license MIT
*/function G5(t){return t.replace(/(?:^\w|[A-Z]|\b\w)/g,(e,n)=>n===0?e.toLowerCase():e.toUpperCase()).replace(/\s+/g,"")}class q5{constructor(e,{editor:n,extension:r,parent:i,node:s,view:o,decorations:a,getPos:l}){this.component=e,this.editor=n,this.extension=r,this.parent=i,this.node=s,this.view=o,this.decorations=a,this.isNode=!!this.node.marks,this.isMark=!this.isNode,this.getPos=this.isMark?this.getMarkPos:l,this.captureEvents=!0,this.dom=this.createDOM(),this.contentDOM=this.vm.$refs.content}createDOM(){const e=W.extend(this.component),n={editor:this.editor,node:this.node,view:this.view,getPos:()=>this.getPos(),decorations:this.decorations,selected:!1,options:this.extension.options,updateAttrs:r=>this.updateAttrs(r)};return typeof this.extension.setSelection=="function"&&(this.setSelection=this.extension.setSelection),typeof this.extension.update=="function"&&(this.update=this.extension.update),this.vm=new e({parent:this.parent,propsData:n}).$mount(),this.vm.$el}update(e,n){return e.type!==this.node.type?!1:(e===this.node&&this.decorations===n||(this.node=e,this.decorations=n,this.updateComponentProps({node:e,decorations:n})),!0)}updateComponentProps(e){if(!this.vm._props)return;const n=W.config.silent;W.config.silent=!0,Object.entries(e).forEach(([r,i])=>{this.vm._props[r]=i}),W.config.silent=n}updateAttrs(e){if(!this.view.editable)return;const{state:n}=this.view,{type:r}=this.node,i=this.getPos(),s={...this.node.attrs,...e},o=this.isMark?n.tr.removeMark(i.from,i.to,r).addMark(i.from,i.to,r.create(s)):n.tr.setNodeMarkup(i,null,s);this.view.dispatch(o)}ignoreMutation(e){return e.type==="selection"?!1:this.contentDOM?!this.contentDOM.contains(e.target):!0}stopEvent(e){if(typeof this.extension.stopEvent=="function")return this.extension.stopEvent(e);const n=!!this.extension.schema.draggable;if(n&&e.type==="mousedown"){const a=e.target.closest&&e.target.closest("[data-drag-handle]");a&&(this.dom===a||this.dom.contains(a))&&(this.captureEvents=!1,document.addEventListener("dragend",()=>{this.captureEvents=!0},{once:!0}))}const r=e.type==="copy",i=e.type==="paste",s=e.type==="cut",o=e.type.startsWith("drag")||e.type==="drop";return n&&o||r||i||s?!1:this.captureEvents}selectNode(){this.updateComponentProps({selected:!0})}deselectNode(){this.updateComponentProps({selected:!1})}getMarkPos(){const e=this.view.posAtDOM(this.dom),n=this.view.state.doc.resolve(e);return Xd(n,this.node.type)}destroy(){this.vm.$destroy()}}class J5{on(e,n){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(n),this}emit(e,...n){this._callbacks=this._callbacks||{};const r=this._callbacks[e];return r&&r.forEach(i=>i.apply(this,n)),this}off(e,n){if(!arguments.length)this._callbacks={};else{const r=this._callbacks?this._callbacks[e]:null;r&&(n?this._callbacks[e]=r.filter(i=>i!==n):delete this._callbacks[e])}return this}}class Qd{constructor(e={}){this.options={...this.defaultOptions,...e}}init(){return null}bindEditor(e=null){this.editor=e}get name(){return null}get type(){return"extension"}get defaultOptions(){return{}}get plugins(){return[]}inputRules(){return[]}pasteRules(){return[]}keys(){return{}}}class Y5{constructor(e=[],n){e.forEach(r=>{r.bindEditor(n),r.init()}),this.extensions=e}get nodes(){return this.extensions.filter(e=>e.type==="node").reduce((e,{name:n,schema:r})=>({...e,[n]:r}),{})}get options(){const{view:e}=this;return this.extensions.reduce((n,r)=>({...n,[r.name]:new Proxy(r.options,{set(i,s,o){const a=i[s]!==o;return Object.assign(i,{[s]:o}),a&&e.updateState(e.state),!0}})}),{})}get marks(){return this.extensions.filter(e=>e.type==="mark").reduce((e,{name:n,schema:r})=>({...e,[n]:r}),{})}get plugins(){return this.extensions.filter(e=>e.plugins).reduce((e,{plugins:n})=>[...e,...n],[])}keymaps({schema:e}){const n=this.extensions.filter(i=>["extension"].includes(i.type)).filter(i=>i.keys).map(i=>i.keys({schema:e})),r=this.extensions.filter(i=>["node","mark"].includes(i.type)).filter(i=>i.keys).map(i=>i.keys({type:e[`${i.type}s`][i.name],schema:e}));return[...n,...r].map(i=>vf(i))}inputRules({schema:e,excludedExtensions:n}){if(!(n instanceof Array)&&n)return[];const r=n instanceof Array?this.extensions.filter(o=>!n.includes(o.name)):this.extensions,i=r.filter(o=>["extension"].includes(o.type)).filter(o=>o.inputRules).map(o=>o.inputRules({schema:e})),s=r.filter(o=>["node","mark"].includes(o.type)).filter(o=>o.inputRules).map(o=>o.inputRules({type:e[`${o.type}s`][o.name],schema:e}));return[...i,...s].reduce((o,a)=>[...o,...a],[])}pasteRules({schema:e,excludedExtensions:n}){if(!(n instanceof Array)&&n)return[];const r=n instanceof Array?this.extensions.filter(o=>!n.includes(o.name)):this.extensions,i=r.filter(o=>["extension"].includes(o.type)).filter(o=>o.pasteRules).map(o=>o.pasteRules({schema:e})),s=r.filter(o=>["node","mark"].includes(o.type)).filter(o=>o.pasteRules).map(o=>o.pasteRules({type:e[`${o.type}s`][o.name],schema:e}));return[...i,...s].reduce((o,a)=>[...o,...a],[])}commands({schema:e,view:n}){return this.extensions.filter(r=>r.commands).reduce((r,i)=>{const{name:s,type:o}=i,a={},l=i.commands({schema:e,...["node","mark"].includes(o)?{type:e[`${o}s`][s]}:{}}),c=(f,d)=>n.editable?(n.focus(),f(d)(n.state,n.dispatch,n)):!1,u=(f,d)=>{Array.isArray(d)?a[f]=p=>d.forEach(h=>c(h,p)):typeof d=="function"&&(a[f]=p=>c(d,p))};return typeof l=="object"?Object.entries(l).forEach(([f,d])=>{u(f,d)}):u(s,l),{...r,...a}},{})}}function X5(t){{const e=document.createElement("style");e.type="text/css",e.textContent=t;const{head:n}=document,{firstChild:r}=n;r?n.insertBefore(e,r):n.appendChild(e)}}class To extends Qd{constructor(e={}){super(e)}get type(){return"mark"}get view(){return null}get schema(){return null}command(){return()=>{}}}function Vg(t=0,e=0,n=0){return Math.min(Math.max(parseInt(t,10),e),n)}let lt=class extends Qd{constructor(e={}){super(e)}get type(){return"node"}get view(){return null}get schema(){return null}command(){return()=>{}}},Z5=class extends lt{get name(){return"doc"}get schema(){return{content:"block+"}}};class mw extends lt{get name(){return"paragraph"}get schema(){return{content:"inline*",group:"block",draggable:!1,parseDOM:[{tag:"p"}],toDOM:()=>["p",0]}}commands({type:e}){return()=>io(e)}}class gw extends lt{get name(){return"text"}get schema(){return{group:"inline"}}}var Q5=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}
`;let eK=class extends J5{constructor(e={}){super(),this.defaultOptions={editorProps:{},editable:!0,autoFocus:null,extensions:[],content:"",topNode:"doc",emptyDocument:{type:"doc",content:[{type:"paragraph"}]},useBuiltInExtensions:!0,disableInputRules:!1,disablePasteRules:!1,dropCursor:{},enableDropCursor:!0,enableGapCursor:!0,parseOptions:{},injectCSS:!0,onInit:()=>{},onTransaction:()=>{},onUpdate:()=>{},onFocus:()=>{},onBlur:()=>{},onPaste:()=>{},onDrop:()=>{}},this.events=["init","transaction","update","focus","blur","paste","drop"],this.init(e)}init(e={}){this.setOptions({...this.defaultOptions,...e}),this.focused=!1,this.selection={from:0,to:0},this.element=document.createElement("div"),this.extensions=this.createExtensions(),this.nodes=this.createNodes(),this.marks=this.createMarks(),this.schema=this.createSchema(),this.plugins=this.createPlugins(),this.keymaps=this.createKeymaps(),this.inputRules=this.createInputRules(),this.pasteRules=this.createPasteRules(),this.view=this.createView(),this.commands=this.createCommands(),this.setActiveNodesAndMarks(),this.options.injectCSS&&X5(Q5),this.options.autoFocus!==null&&this.focus(this.options.autoFocus),this.events.forEach(n=>{this.on(n,this.options[G5(`on ${n}`)]||(()=>{}))}),this.emit("init",{view:this.view,state:this.state}),this.extensions.view=this.view}setOptions(e){this.options={...this.options,...e},this.view&&this.state&&this.view.updateState(this.state)}get builtInExtensions(){return this.options.useBuiltInExtensions?[new Z5,new gw,new mw]:[]}get state(){return this.view?this.view.state:null}createExtensions(){return new Y5([...this.builtInExtensions,...this.options.extensions],this)}createPlugins(){return this.extensions.plugins}createKeymaps(){return this.extensions.keymaps({schema:this.schema})}createInputRules(){return this.extensions.inputRules({schema:this.schema,excludedExtensions:this.options.disableInputRules})}createPasteRules(){return this.extensions.pasteRules({schema:this.schema,excludedExtensions:this.options.disablePasteRules})}createCommands(){return this.extensions.commands({schema:this.schema,view:this.view})}createNodes(){return this.extensions.nodes}createMarks(){return this.extensions.marks}createSchema(){return new $W({topNode:this.options.topNode,nodes:this.nodes,marks:this.marks})}createState(){return ki.create({schema:this.schema,doc:this.createDocument(this.options.content),plugins:[...this.plugins,O5({rules:this.inputRules}),...this.pasteRules,...this.keymaps,vf({Backspace:T5}),vf(C5),...this.options.enableDropCursor?[U4(this.options.dropCursor)]:[],...this.options.enableGapCursor?[e5()]:[],new St({key:new si("editable"),props:{editable:()=>this.options.editable}}),new St({props:{attributes:{tabindex:0},handleDOMEvents:{focus:(e,n)=>{this.focused=!0,this.emit("focus",{event:n,state:e.state,view:e});const r=this.state.tr.setMeta("focused",!0);this.view.dispatch(r)},blur:(e,n)=>{this.focused=!1,this.emit("blur",{event:n,state:e.state,view:e});const r=this.state.tr.setMeta("focused",!1);this.view.dispatch(r)}}}}),new St({props:this.options.editorProps})]})}createDocument(e,n=this.options.parseOptions){if(e===null)return this.schema.nodeFromJSON(this.options.emptyDocument);if(typeof e=="object")try{return this.schema.nodeFromJSON(e)}catch(r){return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",r),this.schema.nodeFromJSON(this.options.emptyDocument)}if(typeof e=="string"){const r=`<div>${e}</div>`,s=new window.DOMParser().parseFromString(r,"text/html").body.firstElementChild;return Nd.fromSchema(this.schema).parse(s,n)}return!1}createView(){return new z4(this.element,{state:this.createState(),handlePaste:(...e)=>{this.emit("paste",...e)},handleDrop:(...e)=>{this.emit("drop",...e)},dispatchTransaction:this.dispatchTransaction.bind(this)})}setParentComponent(e=null){e&&this.view.setProps({nodeViews:this.initNodeViews({parent:e,extensions:[...this.builtInExtensions,...this.options.extensions]})})}initNodeViews({parent:e,extensions:n}){return n.filter(r=>["node","mark"].includes(r.type)).filter(r=>r.view).reduce((r,i)=>{const s=(o,a,l,c)=>{const u=i.view;return new q5(u,{editor:this,extension:i,parent:e,node:o,view:a,getPos:l,decorations:c})};return{...r,[i.name]:s}},{})}dispatchTransaction(e){const n=this.state.apply(e);this.view.updateState(n),this.selection={from:this.state.selection.from,to:this.state.selection.to},this.setActiveNodesAndMarks(),this.emit("transaction",{getHTML:this.getHTML.bind(this),getJSON:this.getJSON.bind(this),state:this.state,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emitUpdate(e)}emitUpdate(e){this.emit("update",{getHTML:this.getHTML.bind(this),getJSON:this.getJSON.bind(this),state:this.state,transaction:e})}resolveSelection(e=null){if(this.selection&&e===null)return this.selection;if(e==="start"||e===!0)return{from:0,to:0};if(e==="end"){const{doc:n}=this.state;return{from:n.content.size,to:n.content.size}}return{from:e,to:e}}focus(e=null){if(this.view.focused&&e===null||e===!1)return;const{from:n,to:r}=this.resolveSelection(e);this.setSelection(n,r),setTimeout(()=>this.view.focus(),10)}setSelection(e=0,n=0){const{doc:r,tr:i}=this.state,s=Vg(e,0,r.content.size),o=Vg(n,0,r.content.size),a=le.create(r,s,o),l=i.setSelection(a);this.view.dispatch(l)}blur(){this.view.dom.blur()}getSchemaJSON(){return JSON.parse(JSON.stringify({nodes:this.extensions.nodes,marks:this.extensions.marks}))}getHTML(){const e=document.createElement("div"),n=ii.fromSchema(this.schema).serializeFragment(this.state.doc.content);return e.appendChild(n),e.innerHTML}getJSON(){return this.state.doc.toJSON()}setContent(e={},n=!1,r){const{doc:i,tr:s}=this.state,o=this.createDocument(e,r),a=le.create(i,0,i.content.size),l=s.setSelection(a).replaceSelectionWith(o,!1).setMeta("preventUpdate",!n);this.view.dispatch(l)}clearContent(e=!1){this.setContent(this.options.emptyDocument,e)}setActiveNodesAndMarks(){this.activeMarks=Object.entries(this.schema.marks).reduce((e,[n,r])=>({...e,[n]:(i={})=>R5(this.state,r)}),{}),this.activeMarkAttrs=Object.entries(this.schema.marks).reduce((e,[n,r])=>({...e,[n]:dw(this.state,r)}),{}),this.activeNodes=Object.entries(this.schema.nodes).reduce((e,[n,r])=>({...e,[n]:(i={})=>Zd(this.state,r,i)}),{})}getMarkAttrs(e=null){return this.activeMarkAttrs[e]}getNodeAttrs(e=null){return{...D5(this.state,this.schema.nodes[e])}}get isActive(){return Object.entries({...this.activeMarks,...this.activeNodes}).reduce((e,[n,r])=>({...e,[n]:(i={})=>r(i)}),{})}registerPlugin(e=null,n){const r=typeof n=="function"?n(e,this.state.plugins):[e,...this.state.plugins],i=this.state.reconfigure({plugins:r});this.view.updateState(i)}unregisterPlugin(e=null){if(!e||!this.view.docView)return;const n=this.state.reconfigure({plugins:this.state.plugins.filter(r=>!r.key.startsWith(`${e}$`))});this.view.updateState(n)}destroy(){this.view&&this.view.destroy()}};var tK={props:{editor:{default:null,type:Object}},watch:{editor:{immediate:!0,handler(t){t&&t.element&&this.$nextTick(()=>{this.$el.appendChild(t.element.firstChild),t.setParentComponent(this)})}}},render(t){return t("div")},beforeDestroy(){this.editor.element=this.$el}};class nK{constructor({options:e}){this.options=e,this.preventHide=!1,this.mousedownHandler=this.handleClick.bind(this),this.options.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.blurHandler=()=>{if(this.preventHide){this.preventHide=!1;return}this.options.editor.emit("menubar:focusUpdate",!1)},this.options.editor.on("blur",this.blurHandler)}handleClick(){this.preventHide=!0}destroy(){this.options.element.removeEventListener("mousedown",this.mousedownHandler),this.options.editor.off("blur",this.blurHandler)}}function rK(t){return new St({key:new si("menu_bar"),view(e){return new nK({editorView:e,options:t})}})}var iK={props:{editor:{default:null,type:Object}},data(){return{focused:!1}},watch:{editor:{immediate:!0,handler(t){t&&this.$nextTick(()=>{t.registerPlugin(rK({editor:t,element:this.$el})),this.focused=t.focused,t.on("focus",()=>{this.focused=!0}),t.on("menubar:focusUpdate",e=>{this.focused=e})})}}},render(){return this.editor?this.$scopedSlots.default({focused:this.focused,focus:this.editor.focus,commands:this.editor.commands,isActive:this.editor.isActive,getMarkAttrs:this.editor.getMarkAttrs.bind(this.editor),getNodeAttrs:this.editor.getNodeAttrs.bind(this.editor)}):null}};function ep(t){return t instanceof Map?t.clear=t.delete=t.set=function(){throw new Error("map is read-only")}:t instanceof Set&&(t.add=t.clear=t.delete=function(){throw new Error("set is read-only")}),Object.freeze(t),Object.getOwnPropertyNames(t).forEach(function(e){var n=t[e];typeof n=="object"&&!Object.isFrozen(n)&&ep(n)}),t}var vw=ep,sK=ep;vw.default=sK;class Hg{constructor(e){e.data===void 0&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function Mi(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function Qn(t,...e){const n=Object.create(null);for(const r in t)n[r]=t[r];return e.forEach(function(r){for(const i in r)n[i]=r[i]}),n}const oK="</span>",Ug=t=>!!t.kind;class aK{constructor(e,n){this.buffer="",this.classPrefix=n.classPrefix,e.walk(this)}addText(e){this.buffer+=Mi(e)}openNode(e){if(!Ug(e))return;let n=e.kind;e.sublanguage||(n=`${this.classPrefix}${n}`),this.span(n)}closeNode(e){Ug(e)&&(this.buffer+=oK)}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}class tp{constructor(){this.rootNode={children:[]},this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const n={kind:e,children:[]};this.add(n),this.stack.push(n)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,n){return typeof n=="string"?e.addText(n):n.children&&(e.openNode(n),n.children.forEach(r=>this._walk(e,r)),e.closeNode(n)),e}static _collapse(e){typeof e!="string"&&e.children&&(e.children.every(n=>typeof n=="string")?e.children=[e.children.join("")]:e.children.forEach(n=>{tp._collapse(n)}))}}class lK extends tp{constructor(e){super(),this.options=e}addKeyword(e,n){e!==""&&(this.openNode(n),this.addText(e),this.closeNode())}addText(e){e!==""&&this.add(e)}addSublanguage(e,n){const r=e.root;r.kind=n,r.sublanguage=!0,this.add(r)}toHTML(){return new aK(this,this.options).value()}finalize(){return!0}}function cK(t){return new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"m")}function so(t){return t?typeof t=="string"?t:t.source:null}function uK(...t){return t.map(n=>so(n)).join("")}function fK(...t){return"("+t.map(n=>so(n)).join("|")+")"}function dK(t){return new RegExp(t.toString()+"|").exec("").length-1}function pK(t,e){const n=t&&t.exec(e);return n&&n.index===0}const hK=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function mK(t,e="|"){let n=0;return t.map(r=>{n+=1;const i=n;let s=so(r),o="";for(;s.length>0;){const a=hK.exec(s);if(!a){o+=s;break}o+=s.substring(0,a.index),s=s.substring(a.index+a[0].length),a[0][0]==="\\"&&a[1]?o+="\\"+String(Number(a[1])+i):(o+=a[0],a[0]==="("&&n++)}return o}).map(r=>`(${r})`).join(e)}const gK=/\b\B/,yw="[a-zA-Z]\\w*",np="[a-zA-Z_]\\w*",rp="\\b\\d+(\\.\\d+)?",bw="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",_w="\\b(0b[01]+)",vK="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",yK=(t={})=>{const e=/^#![ ]*\//;return t.binary&&(t.begin=uK(e,/.*\b/,t.binary,/\b.*/)),Qn({className:"meta",begin:e,end:/$/,relevance:0,"on:begin":(n,r)=>{n.index!==0&&r.ignoreMatch()}},t)},oo={begin:"\\\\[\\s\\S]",relevance:0},bK={className:"string",begin:"'",end:"'",illegal:"\\n",contains:[oo]},_K={className:"string",begin:'"',end:'"',illegal:"\\n",contains:[oo]},ww={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},sc=function(t,e,n={}){const r=Qn({className:"comment",begin:t,end:e,contains:[]},n);return r.contains.push(ww),r.contains.push({className:"doctag",begin:"(?:TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):",relevance:0}),r},wK=sc("//","$"),xK=sc("/\\*","\\*/"),SK=sc("#","$"),CK={className:"number",begin:rp,relevance:0},kK={className:"number",begin:bw,relevance:0},EK={className:"number",begin:_w,relevance:0},OK={className:"number",begin:rp+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},TK={begin:/(?=\/[^/\n]*\/)/,contains:[{className:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[oo,{begin:/\[/,end:/\]/,relevance:0,contains:[oo]}]}]},$K={className:"title",begin:yw,relevance:0},IK={className:"title",begin:np,relevance:0},PK={begin:"\\.\\s*"+np,relevance:0},AK=function(t){return Object.assign(t,{"on:begin":(e,n)=>{n.data._beginMatch=e[1]},"on:end":(e,n)=>{n.data._beginMatch!==e[1]&&n.ignoreMatch()}})};var Qo=Object.freeze({__proto__:null,MATCH_NOTHING_RE:gK,IDENT_RE:yw,UNDERSCORE_IDENT_RE:np,NUMBER_RE:rp,C_NUMBER_RE:bw,BINARY_NUMBER_RE:_w,RE_STARTERS_RE:vK,SHEBANG:yK,BACKSLASH_ESCAPE:oo,APOS_STRING_MODE:bK,QUOTE_STRING_MODE:_K,PHRASAL_WORDS_MODE:ww,COMMENT:sc,C_LINE_COMMENT_MODE:wK,C_BLOCK_COMMENT_MODE:xK,HASH_COMMENT_MODE:SK,NUMBER_MODE:CK,C_NUMBER_MODE:kK,BINARY_NUMBER_MODE:EK,CSS_NUMBER_MODE:OK,REGEXP_MODE:TK,TITLE_MODE:$K,UNDERSCORE_TITLE_MODE:IK,METHOD_GUARD:PK,END_SAME_AS_BEGIN:AK});function MK(t,e){t.input[t.index-1]==="."&&e.ignoreMatch()}function NK(t,e){e&&t.beginKeywords&&(t.begin="\\b("+t.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",t.__beforeBegin=MK,t.keywords=t.keywords||t.beginKeywords,delete t.beginKeywords,t.relevance===void 0&&(t.relevance=0))}function DK(t,e){Array.isArray(t.illegal)&&(t.illegal=fK(...t.illegal))}function RK(t,e){if(t.match){if(t.begin||t.end)throw new Error("begin & end are not supported with match");t.begin=t.match,delete t.match}}function LK(t,e){t.relevance===void 0&&(t.relevance=1)}const BK=["of","and","for","in","not","or","if","then","parent","list","value"],FK="keyword";function xw(t,e,n=FK){const r={};return typeof t=="string"?i(n,t.split(" ")):Array.isArray(t)?i(n,t):Object.keys(t).forEach(function(s){Object.assign(r,xw(t[s],e,s))}),r;function i(s,o){e&&(o=o.map(a=>a.toLowerCase())),o.forEach(function(a){const l=a.split("|");r[l[0]]=[s,jK(l[0],l[1])]})}}function jK(t,e){return e?Number(e):zK(t)?0:1}function zK(t){return BK.includes(t.toLowerCase())}function VK(t,{plugins:e}){function n(a,l){return new RegExp(so(a),"m"+(t.case_insensitive?"i":"")+(l?"g":""))}class r{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(l,c){c.position=this.position++,this.matchIndexes[this.matchAt]=c,this.regexes.push([c,l]),this.matchAt+=dK(l)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const l=this.regexes.map(c=>c[1]);this.matcherRe=n(mK(l),!0),this.lastIndex=0}exec(l){this.matcherRe.lastIndex=this.lastIndex;const c=this.matcherRe.exec(l);if(!c)return null;const u=c.findIndex((d,p)=>p>0&&d!==void 0),f=this.matchIndexes[u];return c.splice(0,u),Object.assign(c,f)}}class i{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(l){if(this.multiRegexes[l])return this.multiRegexes[l];const c=new r;return this.rules.slice(l).forEach(([u,f])=>c.addRule(u,f)),c.compile(),this.multiRegexes[l]=c,c}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(l,c){this.rules.push([l,c]),c.type==="begin"&&this.count++}exec(l){const c=this.getMatcher(this.regexIndex);c.lastIndex=this.lastIndex;let u=c.exec(l);if(this.resumingScanAtSamePosition()&&!(u&&u.index===this.lastIndex)){const f=this.getMatcher(0);f.lastIndex=this.lastIndex+1,u=f.exec(l)}return u&&(this.regexIndex+=u.position+1,this.regexIndex===this.count&&this.considerAll()),u}}function s(a){const l=new i;return a.contains.forEach(c=>l.addRule(c.begin,{rule:c,type:"begin"})),a.terminatorEnd&&l.addRule(a.terminatorEnd,{type:"end"}),a.illegal&&l.addRule(a.illegal,{type:"illegal"}),l}function o(a,l){const c=a;if(a.isCompiled)return c;[RK].forEach(f=>f(a,l)),t.compilerExtensions.forEach(f=>f(a,l)),a.__beforeBegin=null,[NK,DK,LK].forEach(f=>f(a,l)),a.isCompiled=!0;let u=null;if(typeof a.keywords=="object"&&(u=a.keywords.$pattern,delete a.keywords.$pattern),a.keywords&&(a.keywords=xw(a.keywords,t.case_insensitive)),a.lexemes&&u)throw new Error("ERR: Prefer `keywords.$pattern` to `mode.lexemes`, BOTH are not allowed. (see mode reference) ");return u=u||a.lexemes||/\w+/,c.keywordPatternRe=n(u,!0),l&&(a.begin||(a.begin=/\B|\b/),c.beginRe=n(a.begin),a.endSameAsBegin&&(a.end=a.begin),!a.end&&!a.endsWithParent&&(a.end=/\B|\b/),a.end&&(c.endRe=n(a.end)),c.terminatorEnd=so(a.end)||"",a.endsWithParent&&l.terminatorEnd&&(c.terminatorEnd+=(a.end?"|":"")+l.terminatorEnd)),a.illegal&&(c.illegalRe=n(a.illegal)),a.contains||(a.contains=[]),a.contains=[].concat(...a.contains.map(function(f){return HK(f==="self"?a:f)})),a.contains.forEach(function(f){o(f,c)}),a.starts&&o(a.starts,l),c.matcher=s(c),c}if(t.compilerExtensions||(t.compilerExtensions=[]),t.contains&&t.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return t.classNameAliases=Qn(t.classNameAliases||{}),o(t)}function Sw(t){return t?t.endsWithParent||Sw(t.starts):!1}function HK(t){return t.variants&&!t.cachedVariants&&(t.cachedVariants=t.variants.map(function(e){return Qn(t,{variants:null},e)})),t.cachedVariants?t.cachedVariants:Sw(t)?Qn(t,{starts:t.starts?Qn(t.starts):null}):Object.isFrozen(t)?Qn(t):t}var UK="10.7.3";function WK(t){return!!(t||t==="")}function KK(t){const e={props:["language","code","autodetect"],data:function(){return{detectedLanguage:"",unknownLanguage:!1}},computed:{className(){return this.unknownLanguage?"":"hljs "+this.detectedLanguage},highlighted(){if(!this.autoDetect&&!t.getLanguage(this.language))return console.warn(`The language "${this.language}" you specified could not be found.`),this.unknownLanguage=!0,Mi(this.code);let r={};return this.autoDetect?(r=t.highlightAuto(this.code),this.detectedLanguage=r.language):(r=t.highlight(this.language,this.code,this.ignoreIllegals),this.detectedLanguage=this.language),r.value},autoDetect(){return!this.language||WK(this.autodetect)},ignoreIllegals(){return!0}},render(r){return r("pre",{},[r("code",{class:this.className,domProps:{innerHTML:this.highlighted}})])}};return{Component:e,VuePlugin:{install(r){r.component("highlightjs",e)}}}}const GK={"after:highlightElement":({el:t,result:e,text:n})=>{const r=Wg(t);if(!r.length)return;const i=document.createElement("div");i.innerHTML=e.value,e.value=qK(r,Wg(i),n)}};function yf(t){return t.nodeName.toLowerCase()}function Wg(t){const e=[];return function n(r,i){for(let s=r.firstChild;s;s=s.nextSibling)s.nodeType===3?i+=s.nodeValue.length:s.nodeType===1&&(e.push({event:"start",offset:i,node:s}),i=n(s,i),yf(s).match(/br|hr|img|input/)||e.push({event:"stop",offset:i,node:s}));return i}(t,0),e}function qK(t,e,n){let r=0,i="";const s=[];function o(){return!t.length||!e.length?t.length?t:e:t[0].offset!==e[0].offset?t[0].offset<e[0].offset?t:e:e[0].event==="start"?t:e}function a(u){function f(d){return" "+d.nodeName+'="'+Mi(d.value)+'"'}i+="<"+yf(u)+[].map.call(u.attributes,f).join("")+">"}function l(u){i+="</"+yf(u)+">"}function c(u){(u.event==="start"?a:l)(u.node)}for(;t.length||e.length;){let u=o();if(i+=Mi(n.substring(r,u[0].offset)),r=u[0].offset,u===t){s.reverse().forEach(l);do c(u.splice(0,1)[0]),u=o();while(u===t&&u.length&&u[0].offset===r);s.reverse().forEach(a)}else u[0].event==="start"?s.push(u[0].node):s.pop(),c(u.splice(0,1)[0])}return i+Mi(n.substr(r))}const Kg={},Zc=t=>{console.error(t)},Gg=(t,...e)=>{console.log(`WARN: ${t}`,...e)},Lt=(t,e)=>{Kg[`${t}/${e}`]||(console.log(`Deprecated as of ${t}. ${e}`),Kg[`${t}/${e}`]=!0)},Qc=Mi,qg=Qn,Jg=Symbol("nomatch"),JK=function(t){const e=Object.create(null),n=Object.create(null),r=[];let i=!0;const s=/(^(<[^>]+>|\t|)+|\n)/gm,o="Could not find the language '{}', did you forget to load/include a language module?",a={disableAutodetect:!0,name:"Plain text",contains:[]};let l={noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:null,__emitter:lK};function c(y){return l.noHighlightRe.test(y)}function u(y){let E=y.className+" ";E+=y.parentNode?y.parentNode.className:"";const N=l.languageDetectRe.exec(E);if(N){const j=I(N[1]);return j||(Gg(o.replace("{}",N[1])),Gg("Falling back to no-highlight mode for this block.",y)),j?N[1]:"no-highlight"}return E.split(/\s+/).find(j=>c(j)||I(j))}function f(y,E,N,j){let X="",de="";typeof E=="object"?(X=y,N=E.ignoreIllegals,de=E.language,j=void 0):(Lt("10.7.0","highlight(lang, code, ...args) has been deprecated."),Lt("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),de=y,X=E);const we={code:X,language:de};Y("before:highlight",we);const ct=we.result?we.result:d(we.language,we.code,N,j);return ct.code=we.code,Y("after:highlight",ct),ct}function d(y,E,N,j){function X(Z,ee){const fe=ai.case_insensitive?ee[0].toLowerCase():ee[0];return Object.prototype.hasOwnProperty.call(Z.keywords,fe)&&Z.keywords[fe]}function de(){if(!ue.keywords){ut.addText(Le);return}let Z=0;ue.keywordPatternRe.lastIndex=0;let ee=ue.keywordPatternRe.exec(Le),fe="";for(;ee;){fe+=Le.substring(Z,ee.index);const ge=X(ue,ee);if(ge){const[yt,Po]=ge;if(ut.addText(fe),fe="",Io+=Po,yt.startsWith("_"))fe+=ee[0];else{const zw=ai.classNameAliases[yt]||yt;ut.addKeyword(ee[0],zw)}}else fe+=ee[0];Z=ue.keywordPatternRe.lastIndex,ee=ue.keywordPatternRe.exec(Le)}fe+=Le.substr(Z),ut.addText(fe)}function we(){if(Le==="")return;let Z=null;if(typeof ue.subLanguage=="string"){if(!e[ue.subLanguage]){ut.addText(Le);return}Z=d(ue.subLanguage,Le,!0,lp[ue.subLanguage]),lp[ue.subLanguage]=Z.top}else Z=h(Le,ue.subLanguage.length?ue.subLanguage:null);ue.relevance>0&&(Io+=Z.relevance),ut.addSublanguage(Z.emitter,Z.language)}function ct(){ue.subLanguage!=null?we():de(),Le=""}function Dt(Z){return Z.className&&ut.openNode(ai.classNameAliases[Z.className]||Z.className),ue=Object.create(Z,{parent:{value:ue}}),ue}function Rn(Z,ee,fe){let ge=pK(Z.endRe,fe);if(ge){if(Z["on:end"]){const yt=new Hg(Z);Z["on:end"](ee,yt),yt.isMatchIgnored&&(ge=!1)}if(ge){for(;Z.endsParent&&Z.parent;)Z=Z.parent;return Z}}if(Z.endsWithParent)return Rn(Z.parent,ee,fe)}function Rw(Z){return ue.matcher.regexIndex===0?(Le+=Z[0],1):(uc=!0,0)}function Lw(Z){const ee=Z[0],fe=Z.rule,ge=new Hg(fe),yt=[fe.__beforeBegin,fe["on:begin"]];for(const Po of yt)if(Po&&(Po(Z,ge),ge.isMatchIgnored))return Rw(ee);return fe&&fe.endSameAsBegin&&(fe.endRe=cK(ee)),fe.skip?Le+=ee:(fe.excludeBegin&&(Le+=ee),ct(),!fe.returnBegin&&!fe.excludeBegin&&(Le=ee)),Dt(fe),fe.returnBegin?0:ee.length}function Bw(Z){const ee=Z[0],fe=E.substr(Z.index),ge=Rn(ue,Z,fe);if(!ge)return Jg;const yt=ue;yt.skip?Le+=ee:(yt.returnEnd||yt.excludeEnd||(Le+=ee),ct(),yt.excludeEnd&&(Le=ee));do ue.className&&ut.closeNode(),!ue.skip&&!ue.subLanguage&&(Io+=ue.relevance),ue=ue.parent;while(ue!==ge.parent);return ge.starts&&(ge.endSameAsBegin&&(ge.starts.endRe=ge.endRe),Dt(ge.starts)),yt.returnEnd?0:ee.length}function Fw(){const Z=[];for(let ee=ue;ee!==ai;ee=ee.parent)ee.className&&Z.unshift(ee.className);Z.forEach(ee=>ut.openNode(ee))}let $o={};function ap(Z,ee){const fe=ee&&ee[0];if(Le+=Z,fe==null)return ct(),0;if($o.type==="begin"&&ee.type==="end"&&$o.index===ee.index&&fe===""){if(Le+=E.slice(ee.index,ee.index+1),!i){const ge=new Error("0 width match regex");throw ge.languageName=y,ge.badRule=$o.rule,ge}return 1}if($o=ee,ee.type==="begin")return Lw(ee);if(ee.type==="illegal"&&!N){const ge=new Error('Illegal lexeme "'+fe+'" for mode "'+(ue.className||"<unnamed>")+'"');throw ge.mode=ue,ge}else if(ee.type==="end"){const ge=Bw(ee);if(ge!==Jg)return ge}if(ee.type==="illegal"&&fe==="")return 1;if(cc>1e5&&cc>ee.index*3)throw new Error("potential infinite loop, way more iterations than matches");return Le+=fe,fe.length}const ai=I(y);if(!ai)throw Zc(o.replace("{}",y)),new Error('Unknown language: "'+y+'"');const jw=VK(ai,{plugins:r});let lc="",ue=j||jw;const lp={},ut=new l.__emitter(l);Fw();let Le="",Io=0,li=0,cc=0,uc=!1;try{for(ue.matcher.considerAll();;){cc++,uc?uc=!1:ue.matcher.considerAll(),ue.matcher.lastIndex=li;const Z=ue.matcher.exec(E);if(!Z)break;const ee=E.substring(li,Z.index),fe=ap(ee,Z);li=Z.index+fe}return ap(E.substr(li)),ut.closeAllNodes(),ut.finalize(),lc=ut.toHTML(),{relevance:Math.floor(Io),value:lc,language:y,illegal:!1,emitter:ut,top:ue}}catch(Z){if(Z.message&&Z.message.includes("Illegal"))return{illegal:!0,illegalBy:{msg:Z.message,context:E.slice(li-100,li+100),mode:Z.mode},sofar:lc,relevance:0,value:Qc(E),emitter:ut};if(i)return{illegal:!1,relevance:0,value:Qc(E),emitter:ut,language:y,top:ue,errorRaised:Z};throw Z}}function p(y){const E={relevance:0,emitter:new l.__emitter(l),value:Qc(y),illegal:!1,top:a};return E.emitter.addText(y),E}function h(y,E){E=E||l.languages||Object.keys(e);const N=p(y),j=E.filter(I).filter(U).map(Dt=>d(Dt,y,!1));j.unshift(N);const X=j.sort((Dt,Rn)=>{if(Dt.relevance!==Rn.relevance)return Rn.relevance-Dt.relevance;if(Dt.language&&Rn.language){if(I(Dt.language).supersetOf===Rn.language)return 1;if(I(Rn.language).supersetOf===Dt.language)return-1}return 0}),[de,we]=X,ct=de;return ct.second_best=we,ct}function m(y){return l.tabReplace||l.useBR?y.replace(s,E=>E===`
`?l.useBR?"<br>":E:l.tabReplace?E.replace(/\t/g,l.tabReplace):E):y}function g(y,E,N){const j=E?n[E]:N;y.classList.add("hljs"),j&&y.classList.add(j)}const v={"before:highlightElement":({el:y})=>{l.useBR&&(y.innerHTML=y.innerHTML.replace(/\n/g,"").replace(/<br[ /]*>/g,`
`))},"after:highlightElement":({result:y})=>{l.useBR&&(y.value=y.value.replace(/\n/g,"<br>"))}},x=/^(<[^>]+>|\t)+/gm,k={"after:highlightElement":({result:y})=>{l.tabReplace&&(y.value=y.value.replace(x,E=>E.replace(/\t/g,l.tabReplace)))}};function T(y){let E=null;const N=u(y);if(c(N))return;Y("before:highlightElement",{el:y,language:N}),E=y;const j=E.textContent,X=N?f(j,{language:N,ignoreIllegals:!0}):h(j);Y("after:highlightElement",{el:y,result:X,text:j}),y.innerHTML=X.value,g(y,N,X.language),y.result={language:X.language,re:X.relevance,relavance:X.relevance},X.second_best&&(y.second_best={language:X.second_best.language,re:X.second_best.relevance,relavance:X.second_best.relevance})}function P(y){y.useBR&&(Lt("10.3.0","'useBR' will be removed entirely in v11.0"),Lt("10.3.0","Please see https://github.com/highlightjs/highlight.js/issues/2559")),l=qg(l,y)}const D=()=>{if(D.called)return;D.called=!0,Lt("10.6.0","initHighlighting() is deprecated.  Use highlightAll() instead."),document.querySelectorAll("pre code").forEach(T)};function H(){Lt("10.6.0","initHighlightingOnLoad() is deprecated.  Use highlightAll() instead."),L=!0}let L=!1;function M(){if(document.readyState==="loading"){L=!0;return}document.querySelectorAll("pre code").forEach(T)}function z(){L&&M()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",z,!1);function Q(y,E){let N=null;try{N=E(t)}catch(j){if(Zc("Language definition for '{}' could not be registered.".replace("{}",y)),i)Zc(j);else throw j;N=a}N.name||(N.name=y),e[y]=N,N.rawDefinition=E.bind(null,t),N.aliases&&R(N.aliases,{languageName:y})}function b(y){delete e[y];for(const E of Object.keys(n))n[E]===y&&delete n[E]}function _(){return Object.keys(e)}function O(y){Lt("10.4.0","requireLanguage will be removed entirely in v11."),Lt("10.4.0","Please see https://github.com/highlightjs/highlight.js/pull/2844");const E=I(y);if(E)return E;throw new Error("The '{}' language is required, but not loaded.".replace("{}",y))}function I(y){return y=(y||"").toLowerCase(),e[y]||e[n[y]]}function R(y,{languageName:E}){typeof y=="string"&&(y=[y]),y.forEach(N=>{n[N.toLowerCase()]=E})}function U(y){const E=I(y);return E&&!E.disableAutodetect}function q(y){y["before:highlightBlock"]&&!y["before:highlightElement"]&&(y["before:highlightElement"]=E=>{y["before:highlightBlock"](Object.assign({block:E.el},E))}),y["after:highlightBlock"]&&!y["after:highlightElement"]&&(y["after:highlightElement"]=E=>{y["after:highlightBlock"](Object.assign({block:E.el},E))})}function J(y){q(y),r.push(y)}function Y(y,E){const N=y;r.forEach(function(j){j[N]&&j[N](E)})}function S(y){return Lt("10.2.0","fixMarkup will be removed entirely in v11.0"),Lt("10.2.0","Please see https://github.com/highlightjs/highlight.js/issues/2534"),m(y)}function w(y){return Lt("10.7.0","highlightBlock will be removed entirely in v12.0"),Lt("10.7.0","Please use highlightElement now."),T(y)}Object.assign(t,{highlight:f,highlightAuto:h,highlightAll:M,fixMarkup:S,highlightElement:T,highlightBlock:w,configure:P,initHighlighting:D,initHighlightingOnLoad:H,registerLanguage:Q,unregisterLanguage:b,listLanguages:_,getLanguage:I,registerAliases:R,requireLanguage:O,autoDetection:U,inherit:qg,addPlugin:J,vuePlugin:KK(t).VuePlugin}),t.debugMode=function(){i=!1},t.safeMode=function(){i=!0},t.versionString=UK;for(const y in Qo)typeof Qo[y]=="object"&&vw(Qo[y]);return Object.assign(t,Qo),t.addPlugin(v),t.addPlugin(GK),t.addPlugin(k),t};JK({});var Cw={exports:{}};(function(t){(function(){var e;e=t.exports=i,e.format=i,e.vsprintf=r,typeof console<"u"&&typeof console.log=="function"&&(e.printf=n);function n(){console.log(i.apply(null,arguments))}function r(s,o){return i.apply(null,[s].concat(o))}function i(s){for(var o=1,a=[].slice.call(arguments),l=0,c=s.length,u="",f,d=!1,p,h,m=!1,g,v=function(){return a[o++]},x=function(){for(var k="";/\d/.test(s[l]);)k+=s[l++],f=s[l];return k.length>0?parseInt(k):null};l<c;++l)if(f=s[l],d)switch(d=!1,f=="."?(m=!1,f=s[++l]):f=="0"&&s[l+1]=="."?(m=!0,l+=2,f=s[l]):m=!0,g=x(),f){case"b":u+=parseInt(v(),10).toString(2);break;case"c":p=v(),typeof p=="string"||p instanceof String?u+=p:u+=String.fromCharCode(parseInt(p,10));break;case"d":u+=parseInt(v(),10);break;case"f":h=String(parseFloat(v()).toFixed(g||6)),u+=m?h:h.replace(/^0/,"");break;case"j":u+=JSON.stringify(v());break;case"o":u+="0"+parseInt(v(),10).toString(8);break;case"s":u+=v();break;case"x":u+="0x"+parseInt(v(),10).toString(16);break;case"X":u+="0x"+parseInt(v(),10).toString(16).toUpperCase();break;default:u+=f;break}else f==="%"?d=!0:u+=f;return u}})()})(Cw);var YK=Cw.exports,XK=YK,oi=br(Error);oi.eval=br(EvalError);oi.range=br(RangeError);oi.reference=br(ReferenceError);oi.syntax=br(SyntaxError);oi.type=br(TypeError);oi.uri=br(URIError);oi.create=br;function br(t){return e.displayName=t.displayName||t.name,e;function e(n){return n&&(n=XK.apply(null,arguments)),new t(n)}}var bf,_f;if(typeof WeakMap<"u"){let t=new WeakMap;bf=e=>t.get(e),_f=(e,n)=>(t.set(e,n),n)}else{const t=[];let n=0;bf=r=>{for(let i=0;i<t.length;i+=2)if(t[i]==r)return t[i+1]},_f=(r,i)=>(n==10&&(n=0),t[n++]=r,t[n++]=i)}var Ne=class{constructor(t,e,n,r){this.width=t,this.height=e,this.map=n,this.problems=r}findCell(t){for(let e=0;e<this.map.length;e++){const n=this.map[e];if(n!=t)continue;const r=e%this.width,i=e/this.width|0;let s=r+1,o=i+1;for(let a=1;s<this.width&&this.map[e+a]==n;a++)s++;for(let a=1;o<this.height&&this.map[e+this.width*a]==n;a++)o++;return{left:r,top:i,right:s,bottom:o}}throw new RangeError(`No cell with offset ${t} found`)}colCount(t){for(let e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError(`No cell with offset ${t} found`)}nextCell(t,e,n){const{left:r,right:i,top:s,bottom:o}=this.findCell(t);return e=="horiz"?(n<0?r==0:i==this.width)?null:this.map[s*this.width+(n<0?r-1:i)]:(n<0?s==0:o==this.height)?null:this.map[r+this.width*(n<0?s-1:o)]}rectBetween(t,e){const{left:n,right:r,top:i,bottom:s}=this.findCell(t),{left:o,right:a,top:l,bottom:c}=this.findCell(e);return{left:Math.min(n,o),top:Math.min(i,l),right:Math.max(r,a),bottom:Math.max(s,c)}}cellsInRect(t){const e=[],n={};for(let r=t.top;r<t.bottom;r++)for(let i=t.left;i<t.right;i++){const s=r*this.width+i,o=this.map[s];n[o]||(n[o]=!0,!(i==t.left&&i&&this.map[s-1]==o||r==t.top&&r&&this.map[s-this.width]==o)&&e.push(o))}return e}positionAt(t,e,n){for(let r=0,i=0;;r++){const s=i+n.child(r).nodeSize;if(r==t){let o=e+t*this.width;const a=(t+1)*this.width;for(;o<a&&this.map[o]<i;)o++;return o==a?s-1:this.map[o]}i=s}}static get(t){return bf(t)||_f(t,ZK(t))}};function ZK(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);const e=QK(t),n=t.childCount,r=[];let i=0,s=null;const o=[];for(let c=0,u=e*n;c<u;c++)r[c]=0;for(let c=0,u=0;c<n;c++){const f=t.child(c);u++;for(let h=0;;h++){for(;i<r.length&&r[i]!=0;)i++;if(h==f.childCount)break;const m=f.child(h),{colspan:g,rowspan:v,colwidth:x}=m.attrs;for(let k=0;k<v;k++){if(k+c>=n){(s||(s=[])).push({type:"overlong_rowspan",pos:u,n:v-k});break}const T=i+k*e;for(let P=0;P<g;P++){r[T+P]==0?r[T+P]=u:(s||(s=[])).push({type:"collision",row:c,pos:u,n:g-P});const D=x&&x[P];if(D){const H=(T+P)%e*2,L=o[H];L==null||L!=D&&o[H+1]==1?(o[H]=D,o[H+1]=1):L==D&&o[H+1]++}}}i+=g,u+=m.nodeSize}const d=(c+1)*e;let p=0;for(;i<d;)r[i++]==0&&p++;p&&(s||(s=[])).push({type:"missing",row:c,n:p}),u++}const a=new Ne(e,n,r,s);let l=!1;for(let c=0;!l&&c<o.length;c+=2)o[c]!=null&&o[c+1]<n&&(l=!0);return l&&eG(a,o,t),a}function QK(t){let e=-1,n=!1;for(let r=0;r<t.childCount;r++){const i=t.child(r);let s=0;if(n)for(let o=0;o<r;o++){const a=t.child(o);for(let l=0;l<a.childCount;l++){const c=a.child(l);o+c.attrs.rowspan>r&&(s+=c.attrs.colspan)}}for(let o=0;o<i.childCount;o++){const a=i.child(o);s+=a.attrs.colspan,a.attrs.rowspan>1&&(n=!0)}e==-1?e=s:e!=s&&(e=Math.max(e,s))}return e}function eG(t,e,n){t.problems||(t.problems=[]);const r={};for(let i=0;i<t.map.length;i++){const s=t.map[i];if(r[s])continue;r[s]=!0;const o=n.nodeAt(s);if(!o)throw new RangeError(`No cell with offset ${s} found`);let a=null;const l=o.attrs;for(let c=0;c<l.colspan;c++){const u=(i+c)%t.width,f=e[u*2];f!=null&&(!l.colwidth||l.colwidth[c]!=f)&&((a||(a=tG(l)))[c]=f)}a&&t.problems.unshift({type:"colwidth mismatch",pos:s,colwidth:a})}}function tG(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}function Yg(t,e){if(typeof t=="string")return{};const n=t.getAttribute("data-colwidth"),r=n&&/^\d+(,\d+)*$/.test(n)?n.split(",").map(o=>Number(o)):null,i=Number(t.getAttribute("colspan")||1),s={colspan:i,rowspan:Number(t.getAttribute("rowspan")||1),colwidth:r&&r.length==i?r:null};for(const o in e){const a=e[o].getFromDOM,l=a&&a(t);l!=null&&(s[o]=l)}return s}function Xg(t,e){const n={};t.attrs.colspan!=1&&(n.colspan=t.attrs.colspan),t.attrs.rowspan!=1&&(n.rowspan=t.attrs.rowspan),t.attrs.colwidth&&(n["data-colwidth"]=t.attrs.colwidth.join(","));for(const r in e){const i=e[r].setDOMAttr;i&&i(t.attrs[r],n)}return n}function nG(t){const e=t.cellAttributes||{},n={colspan:{default:1},rowspan:{default:1},colwidth:{default:null}};for(const r in e)n[r]={default:e[r].default};return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:t.tableGroup,parseDOM:[{tag:"table"}],toDOM(){return["table",["tbody",0]]}},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM(){return["tr",0]}},table_cell:{content:t.cellContent,attrs:n,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:r=>Yg(r,e)}],toDOM(r){return["td",Xg(r,e),0]}},table_header:{content:t.cellContent,attrs:n,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:r=>Yg(r,e)}],toDOM(r){return["th",Xg(r,e),0]}}}}function st(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const n in t.nodes){const r=t.nodes[n],i=r.spec.tableRole;i&&(e[i]=r)}}return e}var Wn=new si("selectingCells");function as(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1));return null}function rG(t){for(let e=t.depth;e>0;e--){const n=t.node(e).type.spec.tableRole;if(n==="cell"||n==="header_cell")return t.node(e)}return null}function an(t){const e=t.selection.$head;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}function oc(t){const e=t.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const n=as(e.$head)||iG(e.$head);if(n)return n;throw new RangeError(`No cell found around position ${e.head}`)}function iG(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n-e.nodeSize)}}function wf(t){return t.parent.type.spec.tableRole=="row"&&!!t.nodeAfter}function sG(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function ip(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function kw(t,e,n){const r=t.node(-1),i=Ne.get(r),s=t.start(-1),o=i.nextCell(t.pos-s,e,n);return o==null?null:t.node(0).resolve(s+o)}function Yr(t,e,n=1){const r={...t,colspan:t.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,n),r.colwidth.some(i=>i>0)||(r.colwidth=null)),r}function Ew(t,e,n=1){const r={...t,colspan:t.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let i=0;i<n;i++)r.colwidth.splice(e,0,0)}return r}function oG(t,e,n){const r=st(e.type.schema).header_cell;for(let i=0;i<t.height;i++)if(e.nodeAt(t.map[n+i*t.width]).type!=r)return!1;return!0}var ke=class xn extends se{constructor(e,n=e){const r=e.node(-1),i=Ne.get(r),s=e.start(-1),o=i.rectBetween(e.pos-s,n.pos-s),a=e.node(0),l=i.cellsInRect(o).filter(u=>u!=n.pos-s);l.unshift(n.pos-s);const c=l.map(u=>{const f=r.nodeAt(u);if(!f)throw RangeError(`No cell with offset ${u} found`);const d=s+u+1;return new w0(a.resolve(d),a.resolve(d+f.content.size))});super(c[0].$from,c[0].$to,c),this.$anchorCell=e,this.$headCell=n}map(e,n){const r=e.resolve(n.map(this.$anchorCell.pos)),i=e.resolve(n.map(this.$headCell.pos));if(wf(r)&&wf(i)&&ip(r,i)){const s=this.$anchorCell.node(-1)!=r.node(-1);return s&&this.isRowSelection()?xn.rowSelection(r,i):s&&this.isColSelection()?xn.colSelection(r,i):new xn(r,i)}return le.between(r,i)}content(){const e=this.$anchorCell.node(-1),n=Ne.get(e),r=this.$anchorCell.start(-1),i=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),s={},o=[];for(let l=i.top;l<i.bottom;l++){const c=[];for(let u=l*n.width+i.left,f=i.left;f<i.right;f++,u++){const d=n.map[u];if(s[d])continue;s[d]=!0;const p=n.findCell(d);let h=e.nodeAt(d);if(!h)throw RangeError(`No cell with offset ${d} found`);const m=i.left-p.left,g=p.right-i.right;if(m>0||g>0){let v=h.attrs;if(m>0&&(v=Yr(v,0,m)),g>0&&(v=Yr(v,v.colspan-g,g)),p.left<i.left){if(h=h.type.createAndFill(v),!h)throw RangeError(`Could not create cell with attrs ${JSON.stringify(v)}`)}else h=h.type.create(v,h.content)}if(p.top<i.top||p.bottom>i.bottom){const v={...h.attrs,rowspan:Math.min(p.bottom,i.bottom)-Math.max(p.top,i.top)};p.top<i.top?h=h.type.createAndFill(v):h=h.type.create(v,h.content)}c.push(h)}o.push(e.child(l).copy($.from(c)))}const a=this.isColSelection()&&this.isRowSelection()?e:o;return new B($.from(a),1,1)}replace(e,n=B.empty){const r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){const{$from:a,$to:l}=i[o],c=e.mapping.slice(r);e.replace(c.map(a.pos),c.map(l.pos),o?B.empty:n)}const s=se.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);s&&e.setSelection(s)}replaceWith(e,n){this.replace(e,new B($.from(n),0,0))}forEachCell(e){const n=this.$anchorCell.node(-1),r=Ne.get(n),i=this.$anchorCell.start(-1),s=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let o=0;o<s.length;o++)e(n.nodeAt(s[o]),i+s[o])}isColSelection(){const e=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(e,n)>0)return!1;const r=e+this.$anchorCell.nodeAfter.attrs.rowspan,i=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,i)==this.$headCell.node(-1).childCount}static colSelection(e,n=e){const r=e.node(-1),i=Ne.get(r),s=e.start(-1),o=i.findCell(e.pos-s),a=i.findCell(n.pos-s),l=e.node(0);return o.top<=a.top?(o.top>0&&(e=l.resolve(s+i.map[o.left])),a.bottom<i.height&&(n=l.resolve(s+i.map[i.width*(i.height-1)+a.right-1]))):(a.top>0&&(n=l.resolve(s+i.map[a.left])),o.bottom<i.height&&(e=l.resolve(s+i.map[i.width*(i.height-1)+o.right-1]))),new xn(e,n)}isRowSelection(){const e=this.$anchorCell.node(-1),n=Ne.get(e),r=this.$anchorCell.start(-1),i=n.colCount(this.$anchorCell.pos-r),s=n.colCount(this.$headCell.pos-r);if(Math.min(i,s)>0)return!1;const o=i+this.$anchorCell.nodeAfter.attrs.colspan,a=s+this.$headCell.nodeAfter.attrs.colspan;return Math.max(o,a)==n.width}eq(e){return e instanceof xn&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,n=e){const r=e.node(-1),i=Ne.get(r),s=e.start(-1),o=i.findCell(e.pos-s),a=i.findCell(n.pos-s),l=e.node(0);return o.left<=a.left?(o.left>0&&(e=l.resolve(s+i.map[o.top*i.width])),a.right<i.width&&(n=l.resolve(s+i.map[i.width*(a.top+1)-1]))):(a.left>0&&(n=l.resolve(s+i.map[a.top*i.width])),o.right<i.width&&(e=l.resolve(s+i.map[i.width*(o.top+1)-1]))),new xn(e,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new xn(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){return new xn(e.resolve(n),e.resolve(r))}getBookmark(){return new aG(this.$anchorCell.pos,this.$headCell.pos)}};ke.prototype.visible=!1;se.jsonID("cell",ke);var aG=class Ow{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Ow(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),r=e.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&ip(n,r)?new ke(n,r):se.near(r,1)}};function lG(t){if(!(t.selection instanceof ke))return null;const e=[];return t.selection.forEachCell((n,r)=>{e.push(xt.node(r,r+n.nodeSize,{class:"selectedCell"}))}),Ae.create(t.doc,e)}function cG({$from:t,$to:e}){if(t.pos==e.pos||t.pos<t.pos-6)return!1;let n=t.pos,r=e.pos,i=t.depth;for(;i>=0&&!(t.after(i+1)<t.end(i));i--,n++);for(let s=e.depth;s>=0&&!(e.before(s+1)>e.start(s));s--,r--);return n==r&&/row|table/.test(t.node(i).type.spec.tableRole)}function uG({$from:t,$to:e}){let n,r;for(let i=t.depth;i>0;i--){const s=t.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){n=s;break}}for(let i=e.depth;i>0;i--){const s=e.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){r=s;break}}return n!==r&&e.parentOffset===0}function fG(t,e,n){const r=(e||t).selection,i=(e||t).doc;let s,o;if(r instanceof ne&&(o=r.node.type.spec.tableRole)){if(o=="cell"||o=="header_cell")s=ke.create(i,r.from);else if(o=="row"){const a=i.resolve(r.from+1);s=ke.rowSelection(a,a)}else if(!n){const a=Ne.get(r.node),l=r.from+1,c=l+a.map[a.width*a.height-1];s=ke.create(i,l+1,c)}}else r instanceof le&&cG(r)?s=le.create(i,r.from):r instanceof le&&uG(r)&&(s=le.create(i,r.$from.start(),r.$from.end()));return s&&(e||(e=t.tr)).setSelection(s),e}var dG=new si("fix-tables");function Tw(t,e,n,r){const i=t.childCount,s=e.childCount;e:for(let o=0,a=0;o<s;o++){const l=e.child(o);for(let c=a,u=Math.min(i,o+3);c<u;c++)if(t.child(c)==l){a=c+1,n+=l.nodeSize;continue e}r(l,n),a<i&&t.child(a).sameMarkup(l)?Tw(t.child(a),l,n+1,r):l.nodesBetween(0,l.content.size,r,n+1),n+=l.nodeSize}}function $w(t,e){let n;const r=(i,s)=>{i.type.spec.tableRole=="table"&&(n=pG(t,i,s,n))};return e?e.doc!=t.doc&&Tw(e.doc,t.doc,0,r):t.doc.descendants(r),n}function pG(t,e,n,r){const i=Ne.get(e);if(!i.problems)return r;r||(r=t.tr);const s=[];for(let l=0;l<i.height;l++)s.push(0);for(let l=0;l<i.problems.length;l++){const c=i.problems[l];if(c.type=="collision"){const u=e.nodeAt(c.pos);if(!u)continue;const f=u.attrs;for(let d=0;d<f.rowspan;d++)s[c.row+d]+=c.n;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,Yr(f,f.colspan-c.n,c.n))}else if(c.type=="missing")s[c.row]+=c.n;else if(c.type=="overlong_rowspan"){const u=e.nodeAt(c.pos);if(!u)continue;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,{...u.attrs,rowspan:u.attrs.rowspan-c.n})}else if(c.type=="colwidth mismatch"){const u=e.nodeAt(c.pos);if(!u)continue;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,{...u.attrs,colwidth:c.colwidth})}}let o,a;for(let l=0;l<s.length;l++)s[l]&&(o==null&&(o=l),a=l);for(let l=0,c=n+1;l<i.height;l++){const u=e.child(l),f=c+u.nodeSize,d=s[l];if(d>0){let p="cell";u.firstChild&&(p=u.firstChild.type.spec.tableRole);const h=[];for(let g=0;g<d;g++){const v=st(t.schema)[p].createAndFill();v&&h.push(v)}const m=(l==0||o==l-1)&&a==l?c+1:f-1;r.insert(r.mapping.map(m),h)}c=f}return r.setMeta(dG,{fixTables:!0})}function _n(t){const e=t.selection,n=oc(t),r=n.node(-1),i=n.start(-1),s=Ne.get(r);return{...e instanceof ke?s.rectBetween(e.$anchorCell.pos-i,e.$headCell.pos-i):s.findCell(n.pos-i),tableStart:i,map:s,table:r}}function Iw(t,{map:e,tableStart:n,table:r},i){let s=i>0?-1:0;oG(e,r,i+s)&&(s=i==0||i==e.width?null:0);for(let o=0;o<e.height;o++){const a=o*e.width+i;if(i>0&&i<e.width&&e.map[a-1]==e.map[a]){const l=e.map[a],c=r.nodeAt(l);t.setNodeMarkup(t.mapping.map(n+l),null,Ew(c.attrs,i-e.colCount(l))),o+=c.attrs.rowspan-1}else{const l=s==null?st(r.type.schema).cell:r.nodeAt(e.map[a+s]).type,c=e.positionAt(o,i,r);t.insert(t.mapping.map(n+c),l.createAndFill())}}return t}function hG(t,e){if(!an(t))return!1;if(e){const n=_n(t);e(Iw(t.tr,n,n.left))}return!0}function mG(t,e){if(!an(t))return!1;if(e){const n=_n(t);e(Iw(t.tr,n,n.right))}return!0}function gG(t,{map:e,table:n,tableStart:r},i){const s=t.mapping.maps.length;for(let o=0;o<e.height;){const a=o*e.width+i,l=e.map[a],c=n.nodeAt(l),u=c.attrs;if(i>0&&e.map[a-1]==l||i<e.width-1&&e.map[a+1]==l)t.setNodeMarkup(t.mapping.slice(s).map(r+l),null,Yr(u,i-e.colCount(l)));else{const f=t.mapping.slice(s).map(r+l);t.delete(f,f+c.nodeSize)}o+=u.rowspan}}function vG(t,e){if(!an(t))return!1;if(e){const n=_n(t),r=t.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let i=n.right-1;gG(r,n,i),i!=n.left;i--){const s=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!s)throw RangeError("No table found");n.table=s,n.map=Ne.get(s)}e(r)}return!0}function yG(t,e,n){var r;const i=st(e.type.schema).header_cell;for(let s=0;s<t.width;s++)if(((r=e.nodeAt(t.map[s+n*t.width]))==null?void 0:r.type)!=i)return!1;return!0}function Pw(t,{map:e,tableStart:n,table:r},i){var s;let o=n;for(let c=0;c<i;c++)o+=r.child(c).nodeSize;const a=[];let l=i>0?-1:0;yG(e,r,i+l)&&(l=i==0||i==e.height?null:0);for(let c=0,u=e.width*i;c<e.width;c++,u++)if(i>0&&i<e.height&&e.map[u]==e.map[u-e.width]){const f=e.map[u],d=r.nodeAt(f).attrs;t.setNodeMarkup(n+f,null,{...d,rowspan:d.rowspan+1}),c+=d.colspan-1}else{const f=l==null?st(r.type.schema).cell:(s=r.nodeAt(e.map[u+l*e.width]))==null?void 0:s.type,d=f==null?void 0:f.createAndFill();d&&a.push(d)}return t.insert(o,st(r.type.schema).row.create(null,a)),t}function bG(t,e){if(!an(t))return!1;if(e){const n=_n(t);e(Pw(t.tr,n,n.top))}return!0}function _G(t,e){if(!an(t))return!1;if(e){const n=_n(t);e(Pw(t.tr,n,n.bottom))}return!0}function wG(t,{map:e,table:n,tableStart:r},i){let s=0;for(let c=0;c<i;c++)s+=n.child(c).nodeSize;const o=s+n.child(i).nodeSize,a=t.mapping.maps.length;t.delete(s+r,o+r);const l=new Set;for(let c=0,u=i*e.width;c<e.width;c++,u++){const f=e.map[u];if(!l.has(f)){if(l.add(f),i>0&&f==e.map[u-e.width]){const d=n.nodeAt(f).attrs;t.setNodeMarkup(t.mapping.slice(a).map(f+r),null,{...d,rowspan:d.rowspan-1}),c+=d.colspan-1}else if(i<e.height&&f==e.map[u+e.width]){const d=n.nodeAt(f),p=d.attrs,h=d.type.create({...p,rowspan:d.attrs.rowspan-1},d.content),m=e.positionAt(i+1,c,n);t.insert(t.mapping.slice(a).map(r+m),h),c+=p.colspan-1}}}}function xG(t,e){if(!an(t))return!1;if(e){const n=_n(t),r=t.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let i=n.bottom-1;wG(r,n,i),i!=n.top;i--){const s=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!s)throw RangeError("No table found");n.table=s,n.map=Ne.get(n.table)}e(r)}return!0}function Zg(t){const e=t.content;return e.childCount==1&&e.child(0).isTextblock&&e.child(0).childCount==0}function SG({width:t,height:e,map:n},r){let i=r.top*t+r.left,s=i,o=(r.bottom-1)*t+r.left,a=i+(r.right-r.left-1);for(let l=r.top;l<r.bottom;l++){if(r.left>0&&n[s]==n[s-1]||r.right<t&&n[a]==n[a+1])return!0;s+=t,a+=t}for(let l=r.left;l<r.right;l++){if(r.top>0&&n[i]==n[i-t]||r.bottom<e&&n[o]==n[o+t])return!0;i++,o++}return!1}function Qg(t,e){const n=t.selection;if(!(n instanceof ke)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=_n(t),{map:i}=r;if(SG(i,r))return!1;if(e){const s=t.tr,o={};let a=$.empty,l,c;for(let u=r.top;u<r.bottom;u++)for(let f=r.left;f<r.right;f++){const d=i.map[u*i.width+f],p=r.table.nodeAt(d);if(!(o[d]||!p))if(o[d]=!0,l==null)l=d,c=p;else{Zg(p)||(a=a.append(p.content));const h=s.mapping.map(d+r.tableStart);s.delete(h,h+p.nodeSize)}}if(l==null||c==null)return!0;if(s.setNodeMarkup(l+r.tableStart,null,{...Ew(c.attrs,c.attrs.colspan,r.right-r.left-c.attrs.colspan),rowspan:r.bottom-r.top}),a.size){const u=l+1+c.content.size,f=Zg(c)?l+1:u;s.replaceWith(f+r.tableStart,u+r.tableStart,a)}s.setSelection(new ke(s.doc.resolve(l+r.tableStart))),e(s)}return!0}function ev(t,e){const n=st(t.schema);return CG(({node:r})=>n[r.type.spec.tableRole])(t,e)}function CG(t){return(e,n)=>{var r;const i=e.selection;let s,o;if(i instanceof ke){if(i.$anchorCell.pos!=i.$headCell.pos)return!1;s=i.$anchorCell.nodeAfter,o=i.$anchorCell.pos}else{if(s=rG(i.$from),!s)return!1;o=(r=as(i.$from))==null?void 0:r.pos}if(s==null||o==null||s.attrs.colspan==1&&s.attrs.rowspan==1)return!1;if(n){let a=s.attrs;const l=[],c=a.colwidth;a.rowspan>1&&(a={...a,rowspan:1}),a.colspan>1&&(a={...a,colspan:1});const u=_n(e),f=e.tr;for(let p=0;p<u.right-u.left;p++)l.push(c?{...a,colwidth:c&&c[p]?[c[p]]:null}:a);let d;for(let p=u.top;p<u.bottom;p++){let h=u.map.positionAt(p,u.left,u.table);p==u.top&&(h+=s.nodeSize);for(let m=u.left,g=0;m<u.right;m++,g++)m==u.left&&p==u.top||f.insert(d=f.mapping.map(h+u.tableStart,1),t({node:s,row:p,col:m}).createAndFill(l[g]))}f.setNodeMarkup(o,t({node:s,row:u.top,col:u.left}),l[0]),i instanceof ke&&f.setSelection(new ke(f.doc.resolve(i.$anchorCell.pos),d?f.doc.resolve(d):void 0)),n(f)}return!0}}function kG(t,e){return function(n,r){if(!an(n))return!1;const i=oc(n);if(i.nodeAfter.attrs[t]===e)return!1;if(r){const s=n.tr;n.selection instanceof ke?n.selection.forEachCell((o,a)=>{o.attrs[t]!==e&&s.setNodeMarkup(a,null,{...o.attrs,[t]:e})}):s.setNodeMarkup(i.pos,null,{...i.nodeAfter.attrs,[t]:e}),r(s)}return!0}}function EG(t){return function(e,n){if(!an(e))return!1;if(n){const r=st(e.schema),i=_n(e),s=e.tr,o=i.map.cellsInRect(t=="column"?{left:i.left,top:0,right:i.right,bottom:i.map.height}:t=="row"?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),a=o.map(l=>i.table.nodeAt(l));for(let l=0;l<o.length;l++)a[l].type==r.header_cell&&s.setNodeMarkup(i.tableStart+o[l],r.cell,a[l].attrs);if(s.steps.length==0)for(let l=0;l<o.length;l++)s.setNodeMarkup(i.tableStart+o[l],r.header_cell,a[l].attrs);n(s)}return!0}}function tv(t,e,n){const r=e.map.cellsInRect({left:0,top:0,right:t=="row"?e.map.width:1,bottom:t=="column"?e.map.height:1});for(let i=0;i<r.length;i++){const s=e.table.nodeAt(r[i]);if(s&&s.type!==n.header_cell)return!1}return!0}function sp(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?EG(t):function(n,r){if(!an(n))return!1;if(r){const i=st(n.schema),s=_n(n),o=n.tr,a=tv("row",s,i),l=tv("column",s,i),u=(t==="column"?a:t==="row"?l:!1)?1:0,f=t=="column"?{left:0,top:u,right:1,bottom:s.map.height}:t=="row"?{left:u,top:0,right:s.map.width,bottom:1}:s,d=t=="column"?l?i.cell:i.header_cell:t=="row"?a?i.cell:i.header_cell:i.cell;s.map.cellsInRect(f).forEach(p=>{const h=p+s.tableStart,m=o.doc.nodeAt(h);m&&o.setNodeMarkup(h,d,m.attrs)}),r(o)}return!0}}var OG=sp("row",{useDeprecatedLogic:!0}),TG=sp("column",{useDeprecatedLogic:!0}),$G=sp("cell",{useDeprecatedLogic:!0});function IG(t,e){if(e<0){const n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(let r=t.index(-1)-1,i=t.before();r>=0;r--){const s=t.node(-1).child(r),o=s.lastChild;if(o)return i-1-o.nodeSize;i-=s.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;const n=t.node(-1);for(let r=t.indexAfter(-1),i=t.after();r<n.childCount;r++){const s=n.child(r);if(s.childCount)return i+1;i+=s.nodeSize}}return null}function nv(t){return function(e,n){if(!an(e))return!1;const r=IG(oc(e),t);if(r==null)return!1;if(n){const i=e.doc.resolve(r);n(e.tr.setSelection(le.between(i,sG(i))).scrollIntoView())}return!0}}function PG(t,e){const n=t.selection.$anchor;for(let r=n.depth;r>0;r--)if(n.node(r).type.spec.tableRole=="table")return e&&e(t.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}function ea(t,e){const n=t.selection;if(!(n instanceof ke))return!1;if(e){const r=t.tr,i=st(t.schema).cell.createAndFill().content;n.forEachCell((s,o)=>{s.content.eq(i)||r.replace(r.mapping.map(o+1),r.mapping.map(o+s.nodeSize-1),new B(i,0,0))}),r.docChanged&&e(r)}return!0}function AG(t){if(!t.size)return null;let{content:e,openStart:n,openEnd:r}=t;for(;e.childCount==1&&(n>0&&r>0||e.child(0).type.spec.tableRole=="table");)n--,r--,e=e.child(0).content;const i=e.child(0),s=i.type.spec.tableRole,o=i.type.schema,a=[];if(s=="row")for(let l=0;l<e.childCount;l++){let c=e.child(l).content;const u=l?0:Math.max(0,n-1),f=l<e.childCount-1?0:Math.max(0,r-1);(u||f)&&(c=xf(st(o).row,new B(c,u,f)).content),a.push(c)}else if(s=="cell"||s=="header_cell")a.push(n||r?xf(st(o).row,new B(e,n,r)).content:e);else return null;return MG(o,a)}function MG(t,e){const n=[];for(let i=0;i<e.length;i++){const s=e[i];for(let o=s.childCount-1;o>=0;o--){const{rowspan:a,colspan:l}=s.child(o).attrs;for(let c=i;c<i+a;c++)n[c]=(n[c]||0)+l}}let r=0;for(let i=0;i<n.length;i++)r=Math.max(r,n[i]);for(let i=0;i<n.length;i++)if(i>=e.length&&e.push($.empty),n[i]<r){const s=st(t).cell.createAndFill(),o=[];for(let a=n[i];a<r;a++)o.push(s);e[i]=e[i].append($.from(o))}return{height:e.length,width:r,rows:e}}function xf(t,e){const n=t.createAndFill();return new _0(n).replace(0,n.content.size,e).doc}function NG({width:t,height:e,rows:n},r,i){if(t!=r){const s=[],o=[];for(let a=0;a<n.length;a++){const l=n[a],c=[];for(let u=s[a]||0,f=0;u<r;f++){let d=l.child(f%l.childCount);u+d.attrs.colspan>r&&(d=d.type.createChecked(Yr(d.attrs,d.attrs.colspan,u+d.attrs.colspan-r),d.content)),c.push(d),u+=d.attrs.colspan;for(let p=1;p<d.attrs.rowspan;p++)s[a+p]=(s[a+p]||0)+d.attrs.colspan}o.push($.from(c))}n=o,t=r}if(e!=i){const s=[];for(let o=0,a=0;o<i;o++,a++){const l=[],c=n[a%e];for(let u=0;u<c.childCount;u++){let f=c.child(u);o+f.attrs.rowspan>i&&(f=f.type.create({...f.attrs,rowspan:Math.max(1,i-f.attrs.rowspan)},f.content)),l.push(f)}s.push($.from(l))}n=s,e=i}return{width:t,height:e,rows:n}}function DG(t,e,n,r,i,s,o){const a=t.doc.type.schema,l=st(a);let c,u;if(i>e.width)for(let f=0,d=0;f<e.height;f++){const p=n.child(f);d+=p.nodeSize;const h=[];let m;p.lastChild==null||p.lastChild.type==l.cell?m=c||(c=l.cell.createAndFill()):m=u||(u=l.header_cell.createAndFill());for(let g=e.width;g<i;g++)h.push(m);t.insert(t.mapping.slice(o).map(d-1+r),h)}if(s>e.height){const f=[];for(let h=0,m=(e.height-1)*e.width;h<Math.max(e.width,i);h++){const g=h>=e.width?!1:n.nodeAt(e.map[m+h]).type==l.header_cell;f.push(g?u||(u=l.header_cell.createAndFill()):c||(c=l.cell.createAndFill()))}const d=l.row.create(null,$.from(f)),p=[];for(let h=e.height;h<s;h++)p.push(d);t.insert(t.mapping.slice(o).map(r+n.nodeSize-2),p)}return!!(c||u)}function rv(t,e,n,r,i,s,o,a){if(o==0||o==e.height)return!1;let l=!1;for(let c=i;c<s;c++){const u=o*e.width+c,f=e.map[u];if(e.map[u-e.width]==f){l=!0;const d=n.nodeAt(f),{top:p,left:h}=e.findCell(f);t.setNodeMarkup(t.mapping.slice(a).map(f+r),null,{...d.attrs,rowspan:o-p}),t.insert(t.mapping.slice(a).map(e.positionAt(o,h,n)),d.type.createAndFill({...d.attrs,rowspan:p+d.attrs.rowspan-o})),c+=d.attrs.colspan-1}}return l}function iv(t,e,n,r,i,s,o,a){if(o==0||o==e.width)return!1;let l=!1;for(let c=i;c<s;c++){const u=c*e.width+o,f=e.map[u];if(e.map[u-1]==f){l=!0;const d=n.nodeAt(f),p=e.colCount(f),h=t.mapping.slice(a).map(f+r);t.setNodeMarkup(h,null,Yr(d.attrs,o-p,d.attrs.colspan-(o-p))),t.insert(h+d.nodeSize,d.type.createAndFill(Yr(d.attrs,0,o-p))),c+=d.attrs.rowspan-1}}return l}function sv(t,e,n,r,i){let s=n?t.doc.nodeAt(n-1):t.doc;if(!s)throw new Error("No table found");let o=Ne.get(s);const{top:a,left:l}=r,c=l+i.width,u=a+i.height,f=t.tr;let d=0;function p(){if(s=n?f.doc.nodeAt(n-1):f.doc,!s)throw new Error("No table found");o=Ne.get(s),d=f.mapping.maps.length}DG(f,o,s,n,c,u,d)&&p(),rv(f,o,s,n,l,c,a,d)&&p(),rv(f,o,s,n,l,c,u,d)&&p(),iv(f,o,s,n,a,u,l,d)&&p(),iv(f,o,s,n,a,u,c,d)&&p();for(let h=a;h<u;h++){const m=o.positionAt(h,l,s),g=o.positionAt(h,c,s);f.replace(f.mapping.slice(d).map(m+n),f.mapping.slice(d).map(g+n),new B(i.rows[h-a],0,0))}p(),f.setSelection(new ke(f.doc.resolve(n+o.positionAt(a,l,s)),f.doc.resolve(n+o.positionAt(u-1,c-1,s)))),e(f)}var RG=Gd({ArrowLeft:ta("horiz",-1),ArrowRight:ta("horiz",1),ArrowUp:ta("vert",-1),ArrowDown:ta("vert",1),"Shift-ArrowLeft":na("horiz",-1),"Shift-ArrowRight":na("horiz",1),"Shift-ArrowUp":na("vert",-1),"Shift-ArrowDown":na("vert",1),Backspace:ea,"Mod-Backspace":ea,Delete:ea,"Mod-Delete":ea});function Sa(t,e,n){return n.eq(t.selection)?!1:(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function ta(t,e){return(n,r,i)=>{if(!i)return!1;const s=n.selection;if(s instanceof ke)return Sa(n,r,se.near(s.$headCell,e));if(t!="horiz"&&!s.empty)return!1;const o=Aw(i,t,e);if(o==null)return!1;if(t=="horiz")return Sa(n,r,se.near(n.doc.resolve(s.head+e),e));{const a=n.doc.resolve(o),l=kw(a,t,e);let c;return l?c=se.near(l,1):e<0?c=se.near(n.doc.resolve(a.before(-1)),-1):c=se.near(n.doc.resolve(a.after(-1)),1),Sa(n,r,c)}}}function na(t,e){return(n,r,i)=>{if(!i)return!1;const s=n.selection;let o;if(s instanceof ke)o=s;else{const l=Aw(i,t,e);if(l==null)return!1;o=new ke(n.doc.resolve(l))}const a=kw(o.$headCell,t,e);return a?Sa(n,r,new ke(o.$anchorCell,a)):!1}}function LG(t,e){const n=t.state.doc,r=as(n.resolve(e));return r?(t.dispatch(t.state.tr.setSelection(new ke(r))),!0):!1}function BG(t,e,n){if(!an(t.state))return!1;let r=AG(n);const i=t.state.selection;if(i instanceof ke){r||(r={width:1,height:1,rows:[$.from(xf(st(t.state.schema).cell,n))]});const s=i.$anchorCell.node(-1),o=i.$anchorCell.start(-1),a=Ne.get(s).rectBetween(i.$anchorCell.pos-o,i.$headCell.pos-o);return r=NG(r,a.right-a.left,a.bottom-a.top),sv(t.state,t.dispatch,o,a,r),!0}else if(r){const s=oc(t.state),o=s.start(-1);return sv(t.state,t.dispatch,o,Ne.get(s.node(-1)).findCell(s.pos-o),r),!0}else return!1}function FG(t,e){var n;if(e.ctrlKey||e.metaKey)return;const r=ov(t,e.target);let i;if(e.shiftKey&&t.state.selection instanceof ke)s(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&r&&(i=as(t.state.selection.$anchor))!=null&&((n=eu(t,e))==null?void 0:n.pos)!=i.pos)s(i,e),e.preventDefault();else if(!r)return;function s(l,c){let u=eu(t,c);const f=Wn.getState(t.state)==null;if(!u||!ip(l,u))if(f)u=l;else return;const d=new ke(l,u);if(f||!t.state.selection.eq(d)){const p=t.state.tr.setSelection(d);f&&p.setMeta(Wn,l.pos),t.dispatch(p)}}function o(){t.root.removeEventListener("mouseup",o),t.root.removeEventListener("dragstart",o),t.root.removeEventListener("mousemove",a),Wn.getState(t.state)!=null&&t.dispatch(t.state.tr.setMeta(Wn,-1))}function a(l){const c=l,u=Wn.getState(t.state);let f;if(u!=null)f=t.state.doc.resolve(u);else if(ov(t,c.target)!=r&&(f=eu(t,e),!f))return o();f&&s(f,c)}t.root.addEventListener("mouseup",o),t.root.addEventListener("dragstart",o),t.root.addEventListener("mousemove",a)}function Aw(t,e,n){if(!(t.state.selection instanceof le))return null;const{$head:r}=t.state.selection;for(let i=r.depth-1;i>=0;i--){const s=r.node(i);if((n<0?r.index(i):r.indexAfter(i))!=(n<0?0:s.childCount))return null;if(s.type.spec.tableRole=="cell"||s.type.spec.tableRole=="header_cell"){const a=r.before(i),l=e=="vert"?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(l)?a:null}}return null}function ov(t,e){for(;e&&e!=t.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}function eu(t,e){const n=t.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?as(t.state.doc.resolve(n.pos)):null}var jG=class{constructor(t,e){this.node=t,this.cellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Sf(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!=this.node.type?!1:(this.node=t,Sf(t,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(t){return t.type=="attributes"&&(t.target==this.table||this.colgroup.contains(t.target))}};function Sf(t,e,n,r,i,s){var o;let a=0,l=!0,c=e.firstChild;const u=t.firstChild;if(u){for(let f=0,d=0;f<u.childCount;f++){const{colspan:p,colwidth:h}=u.child(f).attrs;for(let m=0;m<p;m++,d++){const g=i==d?s:h&&h[m],v=g?g+"px":"";a+=g||r,g||(l=!1),c?(c.style.width!=v&&(c.style.width=v),c=c.nextSibling):e.appendChild(document.createElement("col")).style.width=v}}for(;c;){const f=c.nextSibling;(o=c.parentNode)==null||o.removeChild(c),c=f}l?(n.style.width=a+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=a+"px")}}var jt=new si("tableColumnResizing");function zG({handleWidth:t=5,cellMinWidth:e=25,View:n=jG,lastColumnResizable:r=!0}={}){const i=new St({key:jt,state:{init(s,o){var a,l;const c=(l=(a=i.spec)==null?void 0:a.props)==null?void 0:l.nodeViews,u=st(o.schema).table.name;return n&&c&&(c[u]=(f,d)=>new n(f,e,d)),new VG(-1,!1)},apply(s,o){return o.apply(s)}},props:{attributes:s=>{const o=jt.getState(s);return o&&o.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(s,o)=>{HG(s,o,t,e,r)},mouseleave:s=>{UG(s)},mousedown:(s,o)=>{WG(s,o,e)}},decorations:s=>{const o=jt.getState(s);if(o&&o.activeHandle>-1)return XG(s,o.activeHandle)},nodeViews:{}}});return i}var VG=class Ca{constructor(e,n){this.activeHandle=e,this.dragging=n}apply(e){const n=this,r=e.getMeta(jt);if(r&&r.setHandle!=null)return new Ca(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new Ca(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&e.docChanged){let i=e.mapping.map(n.activeHandle,-1);return wf(e.doc.resolve(i))||(i=-1),new Ca(i,n.dragging)}return n}};function HG(t,e,n,r,i){const s=jt.getState(t.state);if(s&&!s.dragging){const o=GG(e.target);let a=-1;if(o){const{left:l,right:c}=o.getBoundingClientRect();e.clientX-l<=n?a=av(t,e,"left",n):c-e.clientX<=n&&(a=av(t,e,"right",n))}if(a!=s.activeHandle){if(!i&&a!==-1){const l=t.state.doc.resolve(a),c=l.node(-1),u=Ne.get(c),f=l.start(-1);if(u.colCount(l.pos-f)+l.nodeAfter.attrs.colspan-1==u.width-1)return}Mw(t,a)}}}function UG(t){const e=jt.getState(t.state);e&&e.activeHandle>-1&&!e.dragging&&Mw(t,-1)}function WG(t,e,n){var r;const i=(r=t.dom.ownerDocument.defaultView)!=null?r:window,s=jt.getState(t.state);if(!s||s.activeHandle==-1||s.dragging)return!1;const o=t.state.doc.nodeAt(s.activeHandle),a=KG(t,s.activeHandle,o.attrs);t.dispatch(t.state.tr.setMeta(jt,{setDragging:{startX:e.clientX,startWidth:a}}));function l(u){i.removeEventListener("mouseup",l),i.removeEventListener("mousemove",c);const f=jt.getState(t.state);f!=null&&f.dragging&&(qG(t,f.activeHandle,lv(f.dragging,u,n)),t.dispatch(t.state.tr.setMeta(jt,{setDragging:null})))}function c(u){if(!u.which)return l(u);const f=jt.getState(t.state);if(f&&f.dragging){const d=lv(f.dragging,u,n);JG(t,f.activeHandle,d,n)}}return i.addEventListener("mouseup",l),i.addEventListener("mousemove",c),e.preventDefault(),!0}function KG(t,e,{colspan:n,colwidth:r}){const i=r&&r[r.length-1];if(i)return i;const s=t.domAtPos(e);let a=s.node.childNodes[s.offset].offsetWidth,l=n;if(r)for(let c=0;c<n;c++)r[c]&&(a-=r[c],l--);return a/l}function GG(t){for(;t&&t.nodeName!="TD"&&t.nodeName!="TH";)t=t.classList&&t.classList.contains("ProseMirror")?null:t.parentNode;return t}function av(t,e,n,r){const i=n=="right"?-r:r,s=t.posAtCoords({left:e.clientX+i,top:e.clientY});if(!s)return-1;const{pos:o}=s,a=as(t.state.doc.resolve(o));if(!a)return-1;if(n=="right")return a.pos;const l=Ne.get(a.node(-1)),c=a.start(-1),u=l.map.indexOf(a.pos-c);return u%l.width==0?-1:c+l.map[u-1]}function lv(t,e,n){const r=e.clientX-t.startX;return Math.max(n,t.startWidth+r)}function Mw(t,e){t.dispatch(t.state.tr.setMeta(jt,{setHandle:e}))}function qG(t,e,n){const r=t.state.doc.resolve(e),i=r.node(-1),s=Ne.get(i),o=r.start(-1),a=s.colCount(r.pos-o)+r.nodeAfter.attrs.colspan-1,l=t.state.tr;for(let c=0;c<s.height;c++){const u=c*s.width+a;if(c&&s.map[u]==s.map[u-s.width])continue;const f=s.map[u],d=i.nodeAt(f).attrs,p=d.colspan==1?0:a-s.colCount(f);if(d.colwidth&&d.colwidth[p]==n)continue;const h=d.colwidth?d.colwidth.slice():YG(d.colspan);h[p]=n,l.setNodeMarkup(o+f,null,{...d,colwidth:h})}l.docChanged&&t.dispatch(l)}function JG(t,e,n,r){const i=t.state.doc.resolve(e),s=i.node(-1),o=i.start(-1),a=Ne.get(s).colCount(i.pos-o)+i.nodeAfter.attrs.colspan-1;let l=t.domAtPos(i.start(-1)).node;for(;l&&l.nodeName!="TABLE";)l=l.parentNode;l&&Sf(s,l.firstChild,l,r,a,n)}function YG(t){return Array(t).fill(0)}function XG(t,e){const n=[],r=t.doc.resolve(e),i=r.node(-1);if(!i)return Ae.empty;const s=Ne.get(i),o=r.start(-1),a=s.colCount(r.pos-o)+r.nodeAfter.attrs.colspan-1;for(let l=0;l<s.height;l++){const c=a+l*s.width;if((a==s.width-1||s.map[c]!=s.map[c+1])&&(l==0||s.map[c]!=s.map[c-s.width])){const u=s.map[c],f=o+u+i.nodeAt(u).nodeSize-1,d=document.createElement("div");d.className="column-resize-handle",n.push(xt.widget(f,d))}}return Ae.create(t.doc,n)}function ZG({allowTableNodeSelection:t=!1}={}){return new St({key:Wn,state:{init(){return null},apply(e,n){const r=e.getMeta(Wn);if(r!=null)return r==-1?null:r;if(n==null||!e.docChanged)return n;const{deleted:i,pos:s}=e.mapping.mapResult(n);return i?null:s}},props:{decorations:lG,handleDOMEvents:{mousedown:FG},createSelectionBetween(e){return Wn.getState(e.state)!=null?e.state.selection:null},handleTripleClick:LG,handleKeyDown:RG,handlePaste:BG},appendTransaction(e,n,r){return fG(r,$w(r,n),t)}})}var $l=200,He=function(){};He.prototype.append=function(e){return e.length?(e=He.from(e),!this.length&&e||e.length<$l&&this.leafAppend(e)||this.length<$l&&e.leafPrepend(this)||this.appendInner(e)):this};He.prototype.prepend=function(e){return e.length?He.from(e).append(this):this};He.prototype.appendInner=function(e){return new QG(this,e)};He.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?He.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};He.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};He.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};He.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,o){return i.push(e(s,o))},n,r),i};He.from=function(e){return e instanceof He?e:e&&e.length?new Nw(e):He.empty};var Nw=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,o,a){for(var l=s;l<o;l++)if(i(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,o,a){for(var l=s-1;l>=o;l--)if(i(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=$l)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=$l)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(He);He.empty=new Nw([]);var QG=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,o){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(s,a),o)===!1||s>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,s)-a,o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,o){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(s,a)-a,o+a)===!1||s<a&&this.left.forEachInvertedInner(r,Math.min(i,a),s,o)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(He);const e6=500;class Qt{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let o=e.tr,a,l,c=[],u=[];return this.items.forEach((f,d)=>{if(!f.step){i||(i=this.remapping(r,d+1),s=i.maps.length),s--,u.push(f);return}if(i){u.push(new cn(f.map));let p=f.step.map(i.slice(s)),h;p&&o.maybeStep(p).doc&&(h=o.mapping.maps[o.mapping.maps.length-1],c.push(new cn(h,void 0,void 0,c.length+u.length))),s--,h&&i.appendMap(h,s)}else o.maybeStep(f.step);if(f.selection)return a=i?f.selection.map(i.slice(s)):f.selection,l=new Qt(this.items.slice(0,r).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(e,n,r,i){let s=[],o=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let u=0;u<e.steps.length;u++){let f=e.steps[u].invert(e.docs[u]),d=new cn(e.mapping.maps[u],f,n),p;(p=l&&l.merge(d))&&(d=p,u?s.pop():a=a.slice(0,a.length-1)),s.push(d),n&&(o++,n=void 0),i||(l=d)}let c=o-r.depth;return c>n6&&(a=t6(a,c),o-=c),new Qt(a.append(s),o)}remapping(e,n){let r=new $i;return this.items.forEach((i,s)=>{let o=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,o)},e,n),r}addMaps(e){return this.eventCount==0?this:new Qt(this.items.append(e.map(n=>new cn(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(d=>{d.selection&&a--},i);let l=n;this.items.forEach(d=>{let p=s.getMirror(--l);if(p==null)return;o=Math.min(o,p);let h=s.maps[p];if(d.step){let m=e.steps[p].invert(e.docs[p]),g=d.selection&&d.selection.map(s.slice(l+1,p));g&&a++,r.push(new cn(h,m,g))}else r.push(new cn(h))},i);let c=[];for(let d=n;d<o;d++)c.push(new cn(s.maps[d]));let u=this.items.slice(0,i).append(c).append(r),f=new Qt(u,a);return f.emptyItemCount()>e6&&(f=f.compress(this.items.length-r.length)),f}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],s=0;return this.items.forEach((o,a)=>{if(a>=e)i.push(o),o.selection&&s++;else if(o.step){let l=o.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){let u=o.selection&&o.selection.map(n.slice(r));u&&s++;let f=new cn(c.invert(),l,u),d,p=i.length-1;(d=i.length&&i[p].merge(f))?i[p]=d:i.push(f)}}else o.map&&r--},this.items.length,0),new Qt(He.from(i.reverse()),s)}}Qt.empty=new Qt(He.empty,0);function t6(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class cn{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new cn(n.getMap().invert(),n,this.selection)}}}class zn{constructor(e,n,r,i,s){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const n6=20;function r6(t,e,n,r){let i=n.getMeta(In),s;if(i)return i.historyState;n.getMeta(o6)&&(t=new zn(t.done,t.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(o&&o.getMeta(In))return o.getMeta(In).redo?new zn(t.done.addTransform(n,void 0,r,ka(e)),t.undone,cv(n.mapping.maps),t.prevTime,t.prevComposition):new zn(t.done,t.undone.addTransform(n,void 0,r,ka(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=t.prevTime==0||!o&&t.prevComposition!=a&&(t.prevTime<(n.time||0)-r.newGroupDelay||!i6(n,t.prevRanges)),c=o?tu(t.prevRanges,n.mapping):cv(n.mapping.maps);return new zn(t.done.addTransform(n,l?e.selection.getBookmark():void 0,r,ka(e)),Qt.empty,c,n.time,a??t.prevComposition)}else return(s=n.getMeta("rebased"))?new zn(t.done.rebased(n,s),t.undone.rebased(n,s),tu(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new zn(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),tu(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function i6(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(n=!0)}),n}function cv(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,s,o)=>e.push(s,o));return e}function tu(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),s=e.map(t[r+1],-1);i<=s&&n.push(i,s)}return n}function s6(t,e,n){let r=ka(e),i=In.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,r);if(!s)return null;let o=s.selection.resolve(s.transform.doc),a=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),l=new zn(n?a:s.remaining,n?s.remaining:a,null,0,-1);return s.transform.setSelection(o).setMeta(In,{redo:n,historyState:l})}let nu=!1,uv=null;function ka(t){let e=t.plugins;if(uv!=e){nu=!1,uv=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){nu=!0;break}}return nu}const In=new si("history"),o6=new si("closeHistory");function a6(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new St({key:In,state:{init(){return new zn(Qt.empty,Qt.empty,null,0,-1)},apply(e,n,r){return r6(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?Ea:r=="historyRedo"?Is:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function Dw(t,e){return(n,r)=>{let i=In.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let s=s6(i,n,t);s&&r(e?s.scrollIntoView():s)}return!0}}const Ea=Dw(!1,!0),Is=Dw(!0,!0);function l6(t){let e=In.getState(t);return e?e.done.eventCount:0}function c6(t){let e=In.getState(t);return e?e.undone.eventCount:0}class u6 extends lt{get name(){return"blockquote"}get schema(){return{content:"block*",group:"block",defining:!0,draggable:!1,parseDOM:[{tag:"blockquote"}],toDOM:()=>["blockquote",0]}}commands({type:e}){return()=>zg(e)}keys({type:e}){return{"Ctrl->":zg(e)}}inputRules({type:e}){return[Yd(/^\s*>\s$/,e)]}}class f6 extends lt{get name(){return"bullet_list"}get schema(){return{content:"list_item+",group:"block",parseDOM:[{tag:"ul"}],toDOM:()=>["ul",0]}}commands({type:e,schema:n}){return()=>Tl(e,n.nodes.list_item)}keys({type:e,schema:n}){return{"Shift-Ctrl-8":Tl(e,n.nodes.list_item)}}inputRules({type:e}){return[Yd(/^\s*([-+*])\s$/,e)]}}class d6 extends lt{get name(){return"code_block"}get schema(){return{content:"text*",marks:"",group:"block",code:!0,defining:!0,draggable:!1,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:()=>["pre",["code",0]]}}commands({type:e,schema:n}){return()=>hw(e,n.nodes.paragraph)}keys({type:e}){return{"Shift-Ctrl-\\":io(e)}}inputRules({type:e}){return[uw(/^```$/,e)]}}class p6 extends lt{get name(){return"hard_break"}get schema(){return{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:()=>["br"]}}commands({type:e}){return()=>Jr(ro,(n,r)=>(r(n.tr.replaceSelectionWith(e.create()).scrollIntoView()),!0))}keys({type:e}){const n=Jr(ro,(r,i)=>(i(r.tr.replaceSelectionWith(e.create()).scrollIntoView()),!0));return{"Mod-Enter":n,"Shift-Enter":n}}}class h6 extends lt{get name(){return"heading"}get defaultOptions(){return{levels:[1,2,3,4,5,6]}}get schema(){return{attrs:{level:{default:1}},content:"inline*",group:"block",defining:!0,draggable:!1,parseDOM:this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}})),toDOM:e=>[`h${e.attrs.level}`,0]}}commands({type:e,schema:n}){return r=>hw(e,n.nodes.paragraph,r)}keys({type:e}){return this.options.levels.reduce((n,r)=>({...n,[`Shift-Ctrl-${r}`]:io(e,{level:r})}),{})}inputRules({type:e}){return this.options.levels.map(n=>uw(new RegExp(`^(#{1,${n}})\\s$`),e,()=>({level:n})))}}class m6 extends lt{get name(){return"list_item"}get schema(){return{content:"paragraph block*",defining:!0,draggable:!1,parseDOM:[{tag:"li"}],toDOM:()=>["li",0]}}keys({type:e}){return{Enter:F5(e),Tab:V5(e),"Shift-Tab":pw(e)}}}class g6 extends lt{get name(){return"ordered_list"}get schema(){return{attrs:{order:{default:1}},content:"list_item+",group:"block",parseDOM:[{tag:"ol",getAttrs:e=>({order:e.hasAttribute("start")?+e.getAttribute("start"):1})}],toDOM:e=>e.attrs.order===1?["ol",0]:["ol",{start:e.attrs.order},0]}}commands({type:e,schema:n}){return()=>Tl(e,n.nodes.list_item)}keys({type:e,schema:n}){return{"Shift-Ctrl-9":Tl(e,n.nodes.list_item)}}inputRules({type:e}){return[Yd(/^(\d+)\.\s$/,e,n=>({order:+n[1]}),(n,r)=>r.childCount+r.attrs.order===+n[1])]}}var ac=nG({tableGroup:"block",cellContent:"block+",cellAttributes:{background:{default:null,getFromDOM(t){return t.style.backgroundColor||null},setDOMAttr(t,e){if(t){const n={style:`${e.style||""}background-color: ${t};`};Object.assign(e,n)}}}}});class v6 extends lt{get name(){return"table"}get defaultOptions(){return{resizable:!1}}get schema(){return ac.table}commands({schema:e}){return{createTable:({rowsCount:n,colsCount:r,withHeaderRow:i})=>(s,o)=>{const a=s.tr.selection.anchor+1,l=I5(e,n,r,i),c=s.tr.replaceSelectionWith(l).scrollIntoView(),u=c.doc.resolve(a);c.setSelection(le.near(u)),o(c)},addColumnBefore:()=>hG,addColumnAfter:()=>mG,deleteColumn:()=>vG,addRowBefore:()=>bG,addRowAfter:()=>_G,deleteRow:()=>xG,deleteTable:()=>PG,toggleCellMerge:()=>(n,r)=>{Qg(n,r)||ev(n,r)},mergeCells:()=>Qg,splitCell:()=>ev,toggleHeaderColumn:()=>TG,toggleHeaderRow:()=>OG,toggleHeaderCell:()=>$G,setCellAttr:({name:n,value:r})=>kG(n,r),fixTables:()=>$w}}keys(){return{Tab:nv(1),"Shift-Tab":nv(-1)}}get plugins(){return[...this.options.resizable?[zG()]:[],ZG()]}}class y6 extends lt{get name(){return"table_header"}get schema(){return ac.table_header}}class b6 extends lt{get name(){return"table_cell"}get schema(){return ac.table_cell}}class _6 extends lt{get name(){return"table_row"}get schema(){return ac.table_row}}class w6 extends To{get name(){return"bold"}get schema(){return{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}],toDOM:()=>["strong",0]}}keys({type:e}){return{"Mod-b":dr(e)}}commands({type:e}){return()=>dr(e)}inputRules({type:e}){return[El(/(?:\*\*|__)([^*_]+)(?:\*\*|__)$/,e)]}pasteRules({type:e}){return[Ol(/(?:\*\*|__)([^*_]+)(?:\*\*|__)/g,e)]}}class x6 extends To{get name(){return"italic"}get schema(){return{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:()=>["em",0]}}keys({type:e}){return{"Mod-i":dr(e)}}commands({type:e}){return()=>dr(e)}inputRules({type:e}){return[El(/(?:^|[^_])(_([^_]+)_)$/,e),El(/(?:^|[^*])(\*([^*]+)\*)$/,e)]}pasteRules({type:e}){return[Ol(/_([^_]+)_/g,e),Ol(/\*([^*]+)\*/g,e)]}}class S6 extends To{get name(){return"link"}get defaultOptions(){return{openOnClick:!0,target:null}}get schema(){return{attrs:{href:{default:null},target:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:e=>({href:e.getAttribute("href"),target:e.getAttribute("target")})}],toDOM:e=>["a",{...e.attrs,rel:"noopener noreferrer nofollow",target:e.attrs.target||this.options.target},0]}}commands({type:e}){return n=>n.href?K5(e,n):W5(e)}pasteRules({type:e}){return[U5(/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z]{2,}\b([-a-zA-Z0-9@:%_+.~#?&//=,()!]*)/gi,e,n=>({href:n}))]}get plugins(){return this.options.openOnClick?[new St({props:{handleClick:(e,n,r)=>{const{schema:i}=e.state,s=dw(e.state,i.marks.link);s.href&&r.target instanceof HTMLAnchorElement&&(r.stopPropagation(),window.open(s.href,s.target))}}})]:[]}}class C6 extends To{get name(){return"strike"}get schema(){return{parseDOM:[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",getAttrs:e=>e==="line-through"}],toDOM:()=>["s",0]}}keys({type:e}){return{"Mod-d":dr(e)}}commands({type:e}){return()=>dr(e)}inputRules({type:e}){return[El(/~([^~]+)~$/,e)]}pasteRules({type:e}){return[Ol(/~([^~]+)~/g,e)]}}class k6 extends To{get name(){return"underline"}get schema(){return{parseDOM:[{tag:"u"},{style:"text-decoration",getAttrs:e=>e==="underline"}],toDOM:()=>["u",0]}}keys({type:e}){return{"Mod-u":dr(e)}}commands({type:e}){return()=>dr(e)}}class E6 extends Qd{get name(){return"history"}get defaultOptions(){return{depth:"",newGroupDelay:""}}keys(){return{"Mod-z":Ea,"Mod-y":Is,"Shift-Mod-z":Is,"Mod-":Ea,"Shift-Mod-":Is}}get plugins(){return[a6({depth:this.options.depth,newGroupDelay:this.options.newGroupDelay})]}commands(){return{undo:()=>Ea,redo:()=>Is,undoDepth:()=>l6,redoDepth:()=>c6}}}class O6 extends lt{get name(){return"doc"}get schema(){return{content:"block"}}}class T6 extends lt{get name(){return"line_break"}get schema(){return{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:()=>["br"]}}commands({type:e}){return()=>Jr(ro,(n,r)=>(r(n.tr.replaceSelectionWith(e.create()).scrollIntoView()),!0))}keys({type:e}){const n=Jr(ro,(r,i)=>(i(r.tr.replaceSelectionWith(e.create()).scrollIntoView()),!0));return{Enter:n,"Mod-Enter":n,"Shift-Enter":n}}}class $6 extends S6{get name(){return"link"}get schema(){return{attrs:{href:{default:null},target:{default:null},linkType:{default:null},linkId:{default:null},sectionId:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:e=>({href:e.getAttribute("href"),target:e.getAttribute("target"),linkType:e.getAttribute("maglev-link-type"),linkId:e.getAttribute("maglev-link-id"),sectionId:e.getAttribute("maglev-section-id")})}],toDOM:e=>{const{linkType:n,linkId:r,sectionId:i,...s}=e.attrs;return["a",{...s,rel:"noopener noreferrer nofollow",target:s.target||this.options.target,"maglev-link-type":n,"maglev-link-id":r,"maglev-section-id":i},0]}}}}const I6={name:"EditorBlockButton",props:{commands:{type:Object,required:!0},isActive:{type:Object,required:!0}},computed:{iconName(){return this.isActive.heading({level:2})?"format-heading-2":this.isActive.heading({level:3})?"format-heading-3":this.isActive.heading({level:4})?"format-heading-4":this.isActive.blockquote()?"format-blockquote":this.isActive.code_block()?"format-code":"format-paragraph"}},watch:{iconName(){this.$refs.dropdown.close()}}};var P6=function(){var e=this,n=e._self._c;return n("uikit-dropdown",{ref:"dropdown",attrs:{placement:"left"},scopedSlots:e._u([{key:"button",fn:function(){return[n("button",{staticClass:"rounded-sm px-2 py-2 bg-gray-100 hover:bg-gray-200 flex items-center focus:outline-none focus:ring"},[n("uikit-icon",{staticClass:"w-4 h-4 text-dark",attrs:{name:e.iconName}}),n("uikit-icon",{staticClass:"ml-1",attrs:{name:"arrow-down-s-line"}})],1)]},proxy:!0},{key:"content",fn:function(){return[n("div",{staticClass:"w-full flex"},[n("button",{staticClass:"py-2 px-3 hover:bg-gray-200",on:{click:e.commands.paragraph}},[n("uikit-icon",{attrs:{name:"format-paragraph"}})],1),n("button",{staticClass:"py-2 px-3 hover:bg-gray-200",on:{click:function(r){return e.commands.heading({level:2})}}},[n("uikit-icon",{attrs:{name:"format-heading-2"}})],1),n("button",{staticClass:"py-2 px-3 hover:bg-gray-200",on:{click:function(r){return e.commands.heading({level:3})}}},[n("uikit-icon",{attrs:{name:"format-heading-3"}})],1),n("button",{staticClass:"py-2 px-3 hover:bg-gray-200",on:{click:function(r){return e.commands.heading({level:4})}}},[n("uikit-icon",{attrs:{name:"format-heading-4"}})],1),n("button",{staticClass:"py-2 px-3 hover:bg-gray-200",on:{click:e.commands.blockquote}},[n("uikit-icon",{attrs:{name:"format-blockquote"}})],1),n("button",{staticClass:"py-2 px-3 hover:bg-gray-200",on:{click:e.commands.code_block}},[n("uikit-icon",{attrs:{name:"format-code"}})],1)])]},proxy:!0}])})},A6=[],M6=A(I6,P6,A6,!1,null,null);const N6=M6.exports,D6={name:"EditorMenuButton",props:{isActive:{type:Boolean,default:!1},iconName:{type:String,default:"format-bold"}}};var R6=function(){var e=this,n=e._self._c;return n("button",{staticClass:"px-2 py-2 bg-gray-100 hover:bg-gray-200 focus:outline-none focus:ring",class:{"bg-gray-400 hover:bg-gray-400":e.isActive,"bg-gray-100":!e.isActive},on:{click:function(r){return e.$emit("click")}}},[n("uikit-icon",{staticClass:"w-4 h-4 text-dark",attrs:{name:e.iconName}})],1)},L6=[],B6=A(D6,R6,L6,!1,null,null);const op=B6.exports,F6={name:"EditorFormatButtons",components:{EditorMenuButton:op},props:{commands:{type:Object,required:!0},isActive:{type:Object,required:!0}}};var j6=function(){var e=this,n=e._self._c;return n("div",{staticClass:"flex"},[n("editor-menu-button",{staticClass:"rounded-l-sm",attrs:{iconName:"format-bold",isActive:e.isActive.bold()},on:{click:e.commands.bold}}),n("editor-menu-button",{attrs:{iconName:"format-italic",isActive:e.isActive.italic()},on:{click:e.commands.italic}}),n("editor-menu-button",{attrs:{iconName:"format-underline",isActive:e.isActive.underline()},on:{click:e.commands.underline}}),n("editor-menu-button",{staticClass:"rounded-r-sm",attrs:{iconName:"format-strikethrough",isActive:e.isActive.strike()},on:{click:e.commands.strike}})],1)},z6=[],V6=A(F6,j6,z6,!1,null,null);const H6=V6.exports,U6={name:"EditorListButtons",components:{EditorMenuButton:op},props:{commands:{type:Object,required:!0},isActive:{type:Object,required:!0}}};var W6=function(){var e=this,n=e._self._c;return n("div",{staticClass:"flex"},[n("editor-menu-button",{staticClass:"rounded-l-sm",attrs:{iconName:"format-list-unordered",isActive:e.isActive.bullet_list()},on:{click:e.commands.bullet_list}}),n("editor-menu-button",{staticClass:"rounded-r-sm",attrs:{iconName:"format-list-ordered",isActive:e.isActive.ordered_list()},on:{click:e.commands.ordered_list}})],1)},K6=[],G6=A(U6,W6,K6,!1,null,null);const q6=G6.exports,J6={name:"EditorLinkButtons",components:{EditorMenuButton:op},props:{editor:{type:Object,required:!0},commands:{type:Object,required:!0},isActive:{type:Object,required:!0}},computed:{currentLink(){return this.isActive.link()?{...this.editor.getMarkAttrs("link")}:{}}},methods:{isSelectionEmpty(){const{view:t}=this.editor,{selection:e}=t.state;return e.empty&&!this.isActive.link()},setLink(t){var{linkType:e,linkId:n,sectionId:r,href:i,openNewWindow:s}=t;this.commands.link({href:i,target:s?"_blank":"",linkType:e,linkId:n,sectionId:r}),this.closeModal()},guessLinkType(){var n,r;let t=(n=this.currentLink)==null?void 0:n.linkType,e=(r=this.currentLink)==null?void 0:r.href;return!t&&e&&e.startsWith("mailto:")&&(t="email"),t||(t="url"),t},sanitizeLink(){let t={linkType:this.guessLinkType(),linkId:this.currentLink.linkId,sectionId:this.currentLink.sectionId,href:this.currentLink.href,openNewWindow:this.currentLink.target==="_blank"};if(t.linkType==="email"){const e=/^mailto:(.*)$/g.exec(t.href);t.email=e&&e[1]?e[1]:null}return t},openLinkPickerModal(){this.openModal({title:this.$t("linkPicker.insertTitle"),component:W_,props:{currentLink:this.sanitizeLink(),mode:"insert"},listeners:{select:t=>this.setLink(t)}})},unLink(){this.commands.link({})}}};var Y6=function(){var e=this,n=e._self._c;return n("div",{staticClass:"flex"},[n("editor-menu-button",{staticClass:"rounded-l-sm",attrs:{iconName:"format-link"},on:{click:e.openLinkPickerModal}}),n("editor-menu-button",{staticClass:"rounded-r-sm",attrs:{iconName:"format-link-unlink",isActive:e.isActive.link()},on:{click:e.unLink}})],1)},X6=[],Z6=A(J6,Y6,X6,!1,null,null);const Q6=Z6.exports,eq={name:"EditorTableButton",props:{commands:{type:Object,required:!0},isActive:{type:Object,required:!0}},computed:{isTableActive(){return this.isActive.table()},iconName(){return this.isActive.heading({level:2})?"format-heading-2":this.isActive.heading({level:3})?"format-heading-3":this.isActive.heading({level:4})?"format-heading-4":this.isActive.blockquote()?"format-blockquote":this.isActive.code_block()?"format-code":"ri-table-line"}},methods:{insertTable(){this.commands.createTable({rowsCount:3,colsCount:3,withHeaderRow:!0})}},watch:{iconName(){this.$refs.dropdown.close()}}};var tq=function(){var e=this,n=e._self._c;return n("div",[e.isTableActive?n("uikit-dropdown",{ref:"dropdown",attrs:{placement:"bottom"},scopedSlots:e._u([{key:"button",fn:function(){return[n("button",{staticClass:"rounded-sm px-2 py-2 bg-gray-100 hover:bg-gray-200 flex items-center focus:outline-none focus:ring"},[n("uikit-icon",{staticClass:"w-4 h-4 text-dark",attrs:{name:"ri-table-2"}}),n("uikit-icon",{staticClass:"ml-1",attrs:{name:"arrow-down-s-line"}})],1)]},proxy:!0},{key:"content",fn:function(){return[n("div",{staticClass:"w-full flex space-x-2"},[n("button",{staticClass:"py-2 px-3 hover:bg-gray-200",on:{click:e.commands.deleteTable}},[n("uikit-icon",{staticClass:"w-4 h-4 text-dark",attrs:{name:"delete-bin-line"}})],1),n("button",{staticClass:"py-2 px-3 hover:bg-gray-200",on:{click:e.commands.addColumnBefore}},[n("uikit-icon",{staticClass:"w-4 h-4 text-dark",attrs:{name:"ri-insert-column-left"}})],1),n("button",{staticClass:"py-2 px-3 hover:bg-gray-200",on:{click:e.commands.addColumnAfter}},[n("uikit-icon",{staticClass:"w-4 h-4 text-dark",attrs:{name:"ri-insert-column-right"}})],1),n("button",{staticClass:"py-2 px-3 hover:bg-gray-200",on:{click:e.commands.deleteColumn}},[n("uikit-icon",{staticClass:"w-4 h-4 text-dark",attrs:{name:"ri-delete-column"}})],1),n("button",{staticClass:"py-2 px-3 hover:bg-gray-200",on:{click:e.commands.addRowBefore}},[n("uikit-icon",{staticClass:"w-4 h-4 text-dark",attrs:{name:"ri-insert-row-top"}})],1),n("button",{staticClass:"py-2 px-3 hover:bg-gray-200",on:{click:e.commands.addRowAfter}},[n("uikit-icon",{staticClass:"w-4 h-4 text-dark",attrs:{name:"ri-insert-row-bottom"}})],1),n("button",{staticClass:"py-2 px-3 hover:bg-gray-200",on:{click:e.commands.deleteRow}},[n("uikit-icon",{staticClass:"w-4 h-4 text-dark",attrs:{name:"ri-delete-row"}})],1)])]},proxy:!0}])}):n("button",{staticClass:"block h-full rounded-sm px-2 py-2 bg-gray-100 hover:bg-gray-200 flex items-center focus:outline-none focus:ring",on:{click:e.insertTable}},[n("uikit-icon",{staticClass:"w-4 h-4 text-dark",attrs:{name:"ri-table-2"}})],1)],1)},nq=[],rq=A(eq,tq,nq,!1,null,null);const iq=rq.exports,sq={name:"UIKitRichTextInput",mixins:[ss],components:{EditorContent:tK,EditorMenuBar:iK,EditorBlockButton:N6,EditorFormatButtons:H6,EditorListButtons:q6,EditorLinkButtons:Q6,EditorTableButton:iq},props:{label:{type:String,default:"Label"},name:{type:String,default:"text"},value:{type:String},lineBreak:{type:Boolean,default:!1},rows:{type:Number,default:2},table:{type:Boolean,default:!1}},data(){return{editor:null}},mounted(){this.editor=new eK({extensions:this.buildExtensions(),useBuiltInExtensions:!this.lineBreak,content:this.value,onUpdate:({getHTML:t})=>{let e=t();e=this.lineBreak?this.getHTMLWithinParagraph(e):e,this.$emit("input",e)},onBlur:()=>this.blur()})},beforeDestroy(){let t=this.editor.view.dom.getBoundingClientRect(),e=document.createElement("div");e.classList.add("py-2","px-3","rounded","bg-gray-100"),e.style.height=`${t.height}px`,e.style.width="100%",this.$refs.editorWrapper.appendChild(e),this.editor.destroy()},methods:{focus(){if(this.editor.focus("end"),this.lineBreak){const{from:t,to:e}=this.editor.resolveSelection("end");this.editor.setSelection(t-1,e-1)}},getHTMLWithinParagraph(t){return t.replace(/<\/?p>/g,"")},buildDefaultExtensions(){return[new w6,new x6,new k6,new C6,new $6({openOnClick:!1,target:null}),new E6]},buildExtensions(){return this.lineBreak?[].concat([new O6,new gw,new mw,new T6],this.buildDefaultExtensions()):[].concat(this.buildDefaultExtensions(),[new p6,new h6({levels:[2,3]}),new u6,new d6,new f6,new m6,new g6,new v6({resizable:!0}),new y6,new b6,new _6])}}};var oq=function(){var e=this,n=e._self._c;return n("div",[n("div",{staticClass:"block font-semibold text-gray-800",attrs:{for:e.name},on:{click:function(r){return e.focus()}}},[e._v(" "+e._s(e.label)+" ")]),n("div",{staticClass:"mt-1"},[n("editor-menu-bar",{attrs:{editor:e.editor},scopedSlots:e._u([{key:"default",fn:function({commands:r,isActive:i}){return[n("div",{staticClass:"flex sticky top-0 z-10 pb-2 bg-white space-x-1"},[e.lineBreak?e._e():n("editor-block-button",{staticClass:"relative",attrs:{commands:r,isActive:i}}),n("editor-format-buttons",{attrs:{commands:r,isActive:i}}),e.lineBreak?e._e():n("editor-list-buttons",{attrs:{commands:r,isActive:i}}),n("editor-link-buttons",{attrs:{editor:e.editor,commands:r,isActive:i}}),!e.lineBreak&&e.table?n("editor-table-button",{staticClass:"relative",attrs:{commands:r,isActive:i}}):e._e()],1)]}}])}),n("div",{ref:"editorWrapper",staticClass:"mt-1"},[n("editor-content",{staticClass:"rich-text-editor",attrs:{editor:e.editor,"data-rows":e.rows}})],1)],1)])},aq=[],lq=A(sq,oq,aq,!1,null,null);const cq=lq.exports,uq={name:"UIKitCheckboxInput",props:{label:{type:String,default:"Label"},name:{type:String,default:"text"},value:{type:Boolean,default:!1},placeholder:{type:String,default:null}},computed:{localValue:{get(){return this.value},set(t){this.$emit("input",t)}},hasPlaceholder(){return!this.isBlank(this.placeholder)}}};var fq=function(){var e=this,n=e._self._c;return n("div",[n("label",{staticClass:"flex items-center cursor-pointer",attrs:{for:e.name}},[n("div",{staticClass:"font-semibold text-gray-800"},[e._v(" "+e._s(e.label)+" ")]),n("div",{staticClass:"ml-auto relative"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.localValue,expression:"localValue"}],staticClass:"hidden",attrs:{id:e.name,type:"checkbox"},domProps:{checked:Array.isArray(e.localValue)?e._i(e.localValue,null)>-1:e.localValue},on:{change:function(r){var i=e.localValue,s=r.target,o=!!s.checked;if(Array.isArray(i)){var a=null,l=e._i(i,a);s.checked?l<0&&(e.localValue=i.concat([a])):l>-1&&(e.localValue=i.slice(0,l).concat(i.slice(l+1)))}else e.localValue=o}}}),n("div",{staticClass:"toggle__line w-10 h-6 bg-gray-200 rounded-full"}),n("div",{staticClass:"toggle__dot absolute w-5 h-5 bg-white rounded-full inset-y-0 left-0 transition duration-200 ease-in-out"})])]),e.hasPlaceholder?n("div",{staticClass:"text-gray-600 text-sm"},[e._v(" "+e._s(e.placeholder)+" ")]):e._e()])},dq=[],pq=A(uq,fq,dq,!1,null,"e60c7ca4");const hq=pq.exports,mq={name:"UIKitSearchInput",props:{placeholder:{type:String,default:"Type your query here"}},data(){return{query:null}},methods:{search(){const t=(this.query||"").trim().length>0?this.query.trim():null;this.$emit("search",t)},reset(){this.query=null,this.$emit("search",null)}}};var gq=function(){var e=this,n=e._self._c;return n("form",{staticClass:"flex items-center py-2 px-4 rounded bg-gray-100 text-gray-800 focus:outline-none focus:ring",on:{submit:function(r){return r.stopPropagation(),r.preventDefault(),e.search.apply(null,arguments)}}},[n("button",{staticClass:"mr-2",attrs:{type:"submit"}},[n("uikit-icon",{staticClass:"text-gray-500",attrs:{name:"search-line"}})],1),n("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],staticClass:"block w-full border-0 bg-transparent focus:outline-none placeholder-gray-500",attrs:{name:"search-input",type:"text",placeholder:e.placeholder,"aria-label":e.placeholder},domProps:{value:e.query},on:{input:function(r){r.target.composing||(e.query=r.target.value)}}}),n("button",{staticClass:"ml-1 text-gray-500",class:{invisible:!e.query},attrs:{type:"button"},on:{click:function(r){return r.stopPropagation(),r.preventDefault(),e.reset.apply(null,arguments)}}},[n("uikit-icon",{attrs:{name:"close-line"}})],1)])},vq=[],yq=A(mq,gq,vq,!1,null,null);const bq=yq.exports,_q={name:"PageButton",props:{page:{required:!0},activePage:{type:Number}},computed:{buttonClass(){return{"bg-white":!this.enabled,"hover:bg-gray-100":!this.enabled,"text-gray-900":!this.enabled,"bg-editor-primary":this.enabled,"text-white":this.enabled}},enabled(){return this.page===this.activePage}}};var wq=function(){var e=this,n=e._self._c;return n("button",{staticClass:"flex items-center justify-center h-6 w-6 text-sm rounded-sm",class:e.buttonClass,on:{click:function(r){return e.$emit("click",e.page)}}},[e._t("default",function(){return[e._v(" "+e._s(e.page)+" ")]})],2)},xq=[],Sq=A(_q,wq,xq,!1,null,null);const Cq=Sq.exports,kq={name:"UIKitPagination",components:{PageButton:Cq},props:{labelI18nKey:{type:String,default:"pagination.defaultLabel"},noItemsI18nKey:{type:String,default:"pagination.defaultNoItems"},activePage:{type:Number,default:1},perPage:{type:Number,default:10},totalItems:{type:Number,default:1},maxVisiblePages:{type:Number,default:5}},computed:{visible(){return this.totalItems>this.perPage},start(){return(this.activePage-1)*this.perPage+1},end(){let t=this.activePage*this.perPage;return t>this.totalItems-1?this.totalItems:t},totalPages(){return this.perPage===0?0:Math.ceil(this.totalItems/this.perPage)},pages(){let t=this.filteredPages;return t?[t[0]-1===2?2:"...",...t,t[t.length-1]===this.totalPages-2?this.totalPages-1:"..."]:[...Array(this.totalPages-2).keys()].map(e=>e+2)},filteredPages(){let t=this.maxVisiblePages/2,e=[...Array(this.totalPages).keys()].map(n=>n+1).slice(2,-2);if(e.length>this.maxVisiblePages){let n=this.activePage-e[0],r=this.activePage-e[e.length-1];return n<t?e.slice(0,this.maxVisiblePages):r>=-t?e.slice(-this.maxVisiblePages):e.filter(i=>{let s=this.activePage-i;return s<0?Math.abs(s)<=t:s<t})}return null}},methods:{change(t){t<1||t>this.totalPages||t==="..."||this.$emit("change",t)}}};var Eq=function(){var e=this,n=e._self._c;return n("div",{staticClass:"flex justify-between items-center h-12"},[n("div",{staticClass:"text-sm"},[e.totalItems>0?n("span",[e._v(" "+e._s(e.$t(e.labelI18nKey,{start:e.start,end:e.end,totalItems:e.totalItems}))+" ")]):n("span",[e._v(" "+e._s(e.$t(e.noItemsI18nKey))+" ")])]),e.visible?n("div",{staticClass:"flex items-center"},[n("page-button",{staticClass:"mr-1",attrs:{page:e.activePage-1},on:{click:e.change}},[n("uikit-icon",{attrs:{name:"arrow-drop-left"}})],1),n("page-button",{staticClass:"mr-1",attrs:{page:1,activePage:e.activePage},on:{click:e.change}}),e._l(e.pages,function(r,i){return n("page-button",{key:`page-${i}`,staticClass:"mr-1",attrs:{page:r,activePage:e.activePage},on:{click:e.change}})}),n("page-button",{staticClass:"mr-1",attrs:{page:e.totalPages,activePage:e.activePage},on:{click:e.change}}),n("page-button",{attrs:{page:e.activePage+1},on:{click:e.change}},[n("uikit-icon",{attrs:{name:"arrow-drop-right"}})],1)],2):e._e()])},Oq=[],Tq=A(kq,Eq,Oq,!1,null,null);const $q=Tq.exports,Iq={name:"UIKitPageIcon",props:{page:{type:Object,required:!0},size:{type:String,default:"1.25rem"}},computed:{iconName(){return this.isIndexPage?"home-4-line":"ri-file-line"},isIndexPage(){return this.services.page.isIndex(this.page)}}};var Pq=function(){var e=this,n=e._self._c;return n("uikit-icon",{attrs:{name:e.iconName}})},Aq=[],Mq=A(Iq,Pq,Aq,!1,null,null);const Nq=Mq.exports,Dq={name:"PresetButton",props:{preset:{type:String},value:{type:String}},computed:{selected(){return!!this.value&&this.value.trim().toLowerCase()===this.hexColor},hexColor(){return Xf(this.preset)},rgbColor(){return Ay(this.preset)},isWhite(){return this.rgbColor?this.rgbColor.r===255&&this.rgbColor.g===255&&this.rgbColor.b===255:!0},isTransparent(){return this.hexColor===""},borderColor(){if(!this.selected)return"transparent";let t=this.isWhite?{r:0,g:0,b:0}:this.rgbColor;return`rgba(${t.r}, ${t.g}, ${t.b}, 0.40)`}},methods:{selectPreset(){this.$emit("input",this.hexColor)}}};var Rq=function(){var e=this,n=e._self._c;return n("div",{staticClass:"self-center cursor-pointer p-0.5 rounded-sm",on:{click:e.selectPreset}},[n("div",{staticClass:"flex items-center justify-center w-6 h-6 rounded-sm transition transform duration-200 ease-in-out hover:scale-110 select-none text-white",class:{"border border-gray-300 text-gray-800":e.isWhite,"bg-checkerboard":e.isTransparent},style:{"background-color":e.hexColor}},[e.selected?n("uikit-icon",{attrs:{name:"ri-check-line",size:"1rem"}}):e._e()],1)])},Lq=[],Bq=A(Dq,Rq,Lq,!1,null,null);const Fq=Bq.exports,jq={name:"PresetDropdown",components:{PresetButton:Fq},props:{value:{type:String},presets:{type:Array,default:()=>[]}},computed:{updatableValue:{get(){return this.value},set(t){this.$emit("input",t)}}}};var zq=function(){var e=this,n=e._self._c;return n("uikit-dropdown",e._g({staticClass:"absolute top-1.5 right-1",scopedSlots:e._u([{key:"button",fn:function(){return[n("button",{staticClass:"px-1 py-1 hover:text-gray-900 focus:outline-none transition-colors duration-200"},[n("uikit-icon",{attrs:{name:"ri-palette-line",size:"1.25rem"}})],1)]},proxy:!0},{key:"content",fn:function(){return[n("div",{staticClass:"flex flex-wrap gap-1"},e._l(e.presets,function(r){return n("preset-button",{key:r,attrs:{preset:r},model:{value:e.updatableValue,callback:function(i){e.updatableValue=i},expression:"updatableValue"}})}),1)]},proxy:!0}])},e.$listeners))},Vq=[],Hq=A(jq,zq,Vq,!1,null,null);const Uq=Hq.exports,Wq={name:"CoreInput",components:{PresetDropdown:Uq},props:{name:{type:String,default:"color"},value:{type:String},presets:{type:Array,default:()=>[]}},computed:{inputColor(){var t;return(t=this.hexColor)==null?void 0:t.replaceAll("#","")},hexColor(){return Xf(this.value)},rgbColor(){return Ay(this.value)},styleRgbaColor(){const t=this.isTransparent?{r:255,g:255,b:255}:this.rgbColor||{r:0,g:0,b:0};return`rgba(${t.r}, ${t.g}, ${t.b}, 1)`},isTransparent(){return this.value===""},hasPresets(){return this.presets&&this.presets.length>0},updatableValue:{get(){return this.value},set(t){this.$emit("input",t)}}},methods:{updateInput(t){var e=t.target.value.replace("#","");e.length>0&&(e=`#${e}`),this.$emit("input",e)}}};var Kq=function(){var e=this,n=e._self._c;return n("div",{staticClass:"relative"},[n("div",{staticClass:"absolute left-3 top-2 w-6 h-6 rounded-sm border border-gray-200",class:{"bg-checkerboard":e.isTransparent},style:{"background-color":e.styleRgbaColor}}),n("span",{staticClass:"absolute left-11 top-1.5 font-bold text-gray-900 text-lg"},[e._v("#")]),n("input",{staticClass:"py-2 pl-14 rounded bg-gray-100 text-gray-800 focus:outline-none focus:ring placeholder-gray-500 font-normal",class:{"pr-8":e.hasPresets,"pr-2":!e.hasPresets},attrs:{id:e.name,type:"text",autocomplete:"off",minlength:"4",maxlength:"8",size:"7"},domProps:{value:e.inputColor},on:{input:e.updateInput}}),e.hasPresets?n("preset-dropdown",{attrs:{presets:e.presets},model:{value:e.updatableValue,callback:function(r){e.updatableValue=r},expression:"updatableValue"}}):e._e()],1)},Gq=[],qq=A(Wq,Kq,Gq,!1,null,null);const Jq=qq.exports,Yq={name:"UIKitColorInput",components:{CoreInput:Jq},props:{label:{type:String,default:"Label"},name:{type:String,default:"color"},presets:{type:Array,default:()=>[]},value:{type:String},showLabel:{type:Boolean,default:!0}},computed:{updatableValue:{get(){return this.value},set(t){this.$emit("input",t)}}}};var Xq=function(){var e=this,n=e._self._c;return n("div",{staticClass:"pt-1"},[e.showLabel?n("label",{staticClass:"flex items-center justify-between font-semibold text-gray-800",attrs:{for:e.name}},[n("span",{staticClass:"pr-2"},[e._v(e._s(e.label))]),n("core-input",{attrs:{name:e.name,presets:e.presets},model:{value:e.updatableValue,callback:function(r){e.updatableValue=r},expression:"updatableValue"}})],1):e._e()])},Zq=[],Qq=A(Yq,Xq,Zq,!1,null,null);const e9=Qq.exports,t9={name:"UIKitSimpleSelect",props:{label:{type:String,default:"Label"},name:{type:String,default:"select"},value:{type:String},selectOptions:{type:Array,default:function(){return[]}}},computed:{selectedOption:{get(){return this.value},set(t){this.$emit("input",t)}}},methods:{getOptionLabel(t){return typeof t=="object"?t.label:t},getOptionValue(t){return typeof t=="object"?t.value:t}}};var n9=function(){var e=this,n=e._self._c;return n("div",[n("label",{staticClass:"block font-semibold text-gray-800",attrs:{for:e.name}},[e._v(" "+e._s(e.label)+" ")]),n("div",{staticClass:"flex gap-2 mt-1"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedOption,expression:"selectedOption"}],staticClass:"block w-full mt-1 py-2 px-3 rounded bg-gray-100 text-gray-800 focus:outline-none focus:ring placeholder-gray-500",on:{change:function(r){var i=Array.prototype.filter.call(r.target.options,function(s){return s.selected}).map(function(s){var o="_value"in s?s._value:s.value;return o});e.selectedOption=r.target.multiple?i:i[0]}}},e._l(e.selectOptions,function(r,i){return n("option",{key:i,domProps:{value:e.getOptionValue(r)}},[e._v(" "+e._s(e.getOptionLabel(r))+" ")])}),0)])])},r9=[],i9=A(t9,n9,r9,!1,null,null);const s9=i9.exports,o9={name:"UIKitCollectionItemInput",props:{label:{type:String,default:"Label"},name:{type:String,default:"image"},value:{default:()=>null},collectionId:{type:String},isFocused:{type:Boolean,default:!1}},computed:{selectedCollectionItem:{get(){return this.value==="any"?null:ja(this.value)},set(t){this.$emit("input",t?{...t}:null)}}}};var a9=function(){var e=this,n=e._self._c;return n("div",[n("label",{staticClass:"block font-semibold text-gray-800",attrs:{for:e.name}},[e._v(" "+e._s(e.label)+" ")]),n("uikit-select-input",{attrs:{withLabel:!1,placeholder:e.$t("collectionItemInput.select.placeholder"),searchEnabled:!0,searchPlaceholder:e.$t("collectionItemInput.select.searchPlaceholder"),emptyLabel:e.$t("collectionItemInput.select.emptyLabel"),fetchList:r=>e.services.collectionItem.findAll(e.collectionId,{q:r}),clearEnabled:!0,buttonClass:"h-10"},scopedSlots:e._u([{key:"value",fn:function(){return[n("div",{staticClass:"flex items-center flex-grow-0 overflow-x-hidden",attrs:{title:e.selectedCollectionItem.label}},[e.selectedCollectionItem.imageUrl?n("div",{staticClass:"h-10 w-10 bg-gray-400 mr-3"},[n("img",{staticClass:"object-cover w-full h-full",attrs:{src:e.selectedCollectionItem.imageUrl}})]):e._e(),n("span",{staticClass:"truncate"},[e._v(e._s(e.selectedCollectionItem.label))])])]},proxy:!0},{key:"item",fn:function({item:r}){return[n("div",{staticClass:"flex items-center",attrs:{title:r.label}},[r.imageUrl?n("div",{staticClass:"h-10 w-10 bg-gray-400 mr-3"},[n("img",{staticClass:"object-cover w-full h-full",attrs:{src:r.imageUrl}})]):e._e(),n("span",{staticClass:"truncate font-bold"},[e._v(e._s(r.label))])])]}}]),model:{value:e.selectedCollectionItem,callback:function(r){e.selectedCollectionItem=r},expression:"selectedCollectionItem"}})],1)},l9=[],c9=A(o9,a9,l9,!1,null,null);const u9=c9.exports,f9={name:"UIKitListItemButton",props:{iconName:{type:String,required:!0}}};var d9=function(){var e=this,n=e._self._c;return n("button",{staticClass:"px-1 py-1 rounded-full bg-gray-600 bg-opacity-0 hover:text-gray-900 text-gray-600 focus:outline-none hover:bg-opacity-10 transition-colors duration-200"},[n("uikit-icon",{attrs:{name:e.iconName,size:"1.25rem"}})],1)},p9=[],h9=A(f9,d9,p9,!1,null,null);const m9=h9.exports,g9={name:"UIKitDivider",props:{text:{type:String,default:"Text goes here"},withHint:{type:Boolean,default:!1}}};var v9=function(){var e=this,n=e._self._c;return n("div",{class:{"pt-4":e.withHint,"pt-4 pb-2":!e.withHint}},[n("div",{staticClass:"relative"},[e._m(0),n("div",{staticClass:"relative flex justify-center"},[n("span",{staticClass:"bg-white px-3 leading-6 text-gray-800"},[e._v(e._s(e.text))])])])])},y9=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"absolute inset-0 flex items-center",attrs:{"aria-hidden":"true"}},[e("div",{staticClass:"w-full border-t border-gray-200"})])}],b9=A(g9,v9,y9,!1,null,null);const _9=b9.exports,w9={name:"UIKitHint",props:{text:{type:String,default:"Hint goes here"}}};var x9=function(){var e=this,n=e._self._c;return n("div",{staticClass:"text-gray-600 text-sm"},[e._v(e._s(e.text))])},S9=[],C9=A(w9,x9,S9,!1,null,null);const k9=C9.exports;W.component("v-popoper",bU);W.component("uikit-icon",EU);W.component("uikit-dropdown",XU);W.component("uikit-modal-root",PU);W.component("uikit-modal",RU);W.component("uikit-tabs",zU);W.component("uikit-accordion",KU);W.component("uikit-confirmation-button",n3);W.component("uikit-submit-button",a3);W.component("uikit-image-input",d3);W.component("uikit-icon-input",x3);W.component("uikit-link-input",X3);W.component("uikit-select-input",nW);W.component("uikit-textarea-input",aW);W.component("uikit-text-input",dW);W.component("uikit-rich-text-input",cq);W.component("uikit-checkbox-input",hq);W.component("uikit-search-input",bq);W.component("uikit-pagination",$q);W.component("uikit-page-icon",Nq);W.component("uikit-color-input",e9);W.component("uikit-simple-select",s9);W.component("uikit-collection-item-input",u9);W.component("uikit-list-item-button",m9);W.component("uikit-divider",_9);W.component("uikit-hint",k9);const E9={name:"CustomEnhancedTextInput",mixins:[ss],props:{label:{type:String,default:"Label"},name:{type:String,default:"text"},value:{type:String},placeholder:{type:String,default:null},showLabel:{type:Boolean,default:!0},error:{type:Array,default:null}},data(){return{showError:!1}},methods:{updateInput(t){this.showError=!1,this.$emit("input",t.target.value)},focus(){this.$refs.input.focus()}},watch:{error(){this.isBlank(this.error)||(this.showError=!0)}}};var O9=function(){var e=this,n=e._self._c;return n("div",{staticClass:"space-y-1 flex flex-col"},[e.showLabel?n("label",{staticClass:"block font-semibold text-gray-800",attrs:{for:e.name}},[n("span",[e._v(e._s(e.label))]),e._m(0),n("transition",{attrs:{name:"fade"}},[e.showError?n("span",{staticClass:"text-red-700 bg-red-100 text-xs ml-4 py-1 px-3 rounded"},[e._v(e._s(e.error[0])+" ")]):e._e()])],1):e._e(),n("input",{ref:"input",staticClass:"block py-2 px-3 rounded bg-gray-100 text-gray-800 focus:outline-none focus:ring placeholder-gray-500",attrs:{id:e.name,type:"text",placeholder:e.placeholder,autocomplete:"off"},domProps:{value:e.value},on:{blur:function(r){return e.blur()},input:e.updateInput}})])},T9=[function(){var t=this,e=t._self._c;return e("div",[e("b",[t._v("This is a custom field type")])])}],$9=A(E9,O9,T9,!1,null,null);const I9=$9.exports;W.component("custom-enhanced-text",I9);W.config.productionTip=!1;const P9=()=>{new W({store:qe,router:vd,i18n:Wb,render:t=>t(rk)}).$mount("#maglev-app")},A9={start:P9};console.log("Maglev Editor ");document.addEventListener("DOMContentLoaded",()=>{A9.start()});
